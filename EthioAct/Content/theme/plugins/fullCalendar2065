(function(n){function g(n,t,i){switch(arguments.length){case 2:return null!=n?n:t;case 3:return null!=n?n:null!=t?t:i;default:throw new Error("Implement me");}}function p(n,t){return nf.call(n,t)}function st(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function ni(n){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+n)}function e(n,t){var i=!0;return w(function(){return i&&(ni(n),i=!1),t.apply(this,arguments)},t)}function br(n,t){pr[n]||(ni(t),pr[n]=!0)}function ti(n,t){return function(i){return r(n.call(this,i),t)}}function kr(n,t){return function(i){return this.localeData().ordinal(n.call(this,i),t)}}function ii(){}function rt(n,t){t!==!1&&ai(n);ri(this,n);this._d=new Date(+n._d)}function ht(n){var i=si(n),r=i.year||0,u=i.quarter||0,f=i.month||0,e=i.week||0,o=i.day||0,s=i.hour||0,h=i.minute||0,c=i.second||0,l=i.millisecond||0;this._milliseconds=+l+1e3*c+6e4*h+36e5*s;this._days=+o+7*e;this._months=+f+3*u+12*r;this._data={};this._locale=t.localeData();this._bubble()}function w(n,t){for(var i in t)p(t,i)&&(n[i]=t[i]);return p(t,"toString")&&(n.toString=t.toString),p(t,"valueOf")&&(n.valueOf=t.valueOf),n}function ri(n,t){var u,i,r;if("undefined"!=typeof t._isAMomentObject&&(n._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(n._i=t._i),"undefined"!=typeof t._f&&(n._f=t._f),"undefined"!=typeof t._l&&(n._l=t._l),"undefined"!=typeof t._strict&&(n._strict=t._strict),"undefined"!=typeof t._tzm&&(n._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(n._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(n._offset=t._offset),"undefined"!=typeof t._pf&&(n._pf=t._pf),"undefined"!=typeof t._locale&&(n._locale=t._locale),et.length>0)for(u in et)i=et[u],r=t[i],"undefined"!=typeof r&&(n[i]=r);return n}function o(n){return 0>n?Math.ceil(n):Math.floor(n)}function r(n,t,i){for(var r=""+Math.abs(n),u=n>=0;r.length<t;)r="0"+r;return(u?i?"+":"":"-")+r}function ui(n,t){var i={milliseconds:0,months:0};return i.months=t.month()-n.month()+12*(t.year()-n.year()),n.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+n.clone().add(i.months,"M"),i}function dr(n,t){var i;return t=ft(t,n),n.isBefore(t)?i=ui(n,t):(i=ui(t,n),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function fi(n,i){return function(r,u){var f,e;return null===u||isNaN(+u)||(br(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period)."),e=r,r=u,u=e),r="string"==typeof r?+r:r,f=t.duration(r,u),ei(this,f,n),this}}function ei(n,i,r,u){var o=i._milliseconds,f=i._days,e=i._months;u=null==u?!0:u;o&&n._d.setTime(+n._d+o*r);f&&tr(n,"Date",pt(n,"Date")+f*r);e&&nr(n,pt(n,"Month")+e*r);u&&t.updateOffset(n,f||e)}function ut(n){return"[object Array]"===Object.prototype.toString.call(n)}function gr(n){return"[object Date]"===Object.prototype.toString.call(n)||n instanceof Date}function oi(n,t,r){for(var e=Math.min(n.length,t.length),o=Math.abs(n.length-t.length),f=0,u=0;e>u;u++)(r&&n[u]!==t[u]||!r&&i(n[u])!==i(t[u]))&&f++;return f+o}function f(n){if(n){var t=n.toLowerCase().replace(/(.)s$/,"$1");n=kf[n]||df[t]||t}return n}function si(n){var i,t,r={};for(t in n)p(n,t)&&(i=f(t),i&&(r[i]=n[t]));return r}function nu(i){var r,u;if(0===i.indexOf("week"))r=7,u="day";else{if(0!==i.indexOf("month"))return;r=12;u="month"}t[i]=function(f,e){var o,s,c=t._locale[i],h=[];if("number"==typeof f&&(e=f,f=n),s=function(n){var i=t().utc().set(u,n);return c.call(t._locale,i,f||"")},null!=e)return s(e);for(o=0;r>o;o++)h.push(s(o));return h}}function i(n){var t=+n,i=0;return 0!==t&&isFinite(t)&&(i=t>=0?Math.floor(t):Math.ceil(t)),i}function ct(n,t){return new Date(Date.UTC(n,t+1,0)).getUTCDate()}function hi(n,i,r){return b(t([n,11,31+i-r]),i,r).week}function ci(n){return li(n)?366:365}function li(n){return n%4==0&&n%100!=0||n%400==0}function ai(n){var t;n._a&&-2===n._pf.overflow&&(t=n._a[l]<0||n._a[l]>11?l:n._a[s]<1||n._a[s]>ct(n._a[c],n._a[l])?s:n._a[a]<0||n._a[a]>23?a:n._a[nt]<0||n._a[nt]>59?nt:n._a[tt]<0||n._a[tt]>59?tt:n._a[it]<0||n._a[it]>999?it:-1,n._pf._overflowDayOfYear&&(c>t||t>s)&&(t=s),n._pf.overflow=t)}function vi(n){return null==n._isValid&&(n._isValid=!isNaN(n._d.getTime())&&n._pf.overflow<0&&!n._pf.empty&&!n._pf.invalidMonth&&!n._pf.nullInput&&!n._pf.invalidFormat&&!n._pf.userInvalidated,n._strict&&(n._isValid=n._isValid&&0===n._pf.charsLeftOver&&0===n._pf.unusedTokens.length)),n._isValid}function yi(n){return n?n.toLowerCase().replace("_","-"):n}function tu(n){for(var i,t,f,r,u=0;u<n.length;){for(r=yi(n[u]).split("-"),i=r.length,t=yi(n[u+1]),t=t?t.split("-"):null;i>0;){if(f=pi(r.slice(0,i).join("-")))return f;if(t&&t.length>=i&&oi(r,t,!0)>=i-1)break;i--}u++}return null}function pi(n){var i=null;if(!d[n]&&er)try{i=t.locale();require("./locale/"+n);t.locale(i)}catch(r){}return d[n]}function ft(n,i){return i._isUTC?t(n).zone(i._offset||0):t(n).local()}function iu(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function ru(n){for(var i=n.match(or),t=0,r=i.length;r>t;t++)i[t]=v[i[t]]?v[i[t]]:iu(i[t]);return function(u){var f="";for(t=0;r>t;t++)f+=i[t]instanceof Function?i[t].call(u,n):i[t];return f}}function lt(n,t){return n.isValid()?(t=wi(t,n.localeData()),gt[t]||(gt[t]=ru(t)),gt[t](n)):n.localeData().invalidDate()}function wi(n,t){function r(n){return t.longDateFormat(n)||n}var i=5;for(ot.lastIndex=0;i>=0&&ot.test(n);)n=n.replace(ot,r),ot.lastIndex=0,i-=1;return n}function uu(n,t){var i=t._strict;switch(n){case"Q":return hr;case"DDDD":return lr;case"YYYY":case"GGGG":case"gggg":return i?vf:ef;case"Y":case"G":case"g":return pf;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?yf:of;case"S":if(i)return hr;case"SS":if(i)return cr;case"SSS":if(i)return lr;case"DDD":return ff;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return hf;case"a":case"A":return t._locale._meridiemParse;case"X":return lf;case"Z":case"ZZ":return bt;case"T":return cf;case"SSSS":return sf;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?cr:sr;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return sr;case"Do":return af;default:return new RegExp(cu(hu(n.replace("\\","")),"i"))}}function bi(n){n=n||"";var r=n.match(bt)||[],f=r[r.length-1]||[],t=(f+"").match(bf)||["-",0,0],u=+(60*t[1])+i(t[2]);return"+"===t[0]?-u:u}function fu(n,r,u){var e,f=u._a;switch(n){case"Q":null!=r&&(f[l]=3*(i(r)-1));break;case"M":case"MM":null!=r&&(f[l]=i(r)-1);break;case"MMM":case"MMMM":e=u._locale.monthsParse(r);null!=e?f[l]=e:u._pf.invalidMonth=r;break;case"D":case"DD":null!=r&&(f[s]=i(r));break;case"Do":null!=r&&(f[s]=i(parseInt(r,10)));break;case"DDD":case"DDDD":null!=r&&(u._dayOfYear=i(r));break;case"YY":f[c]=t.parseTwoDigitYear(r);break;case"YYYY":case"YYYYY":case"YYYYYY":f[c]=i(r);break;case"a":case"A":u._isPm=u._locale.isPM(r);break;case"H":case"HH":case"h":case"hh":f[a]=i(r);break;case"m":case"mm":f[nt]=i(r);break;case"s":case"ss":f[tt]=i(r);break;case"S":case"SS":case"SSS":case"SSSS":f[it]=i(1e3*("0."+r));break;case"X":u._d=new Date(1e3*parseFloat(r));break;case"Z":case"ZZ":u._useUTC=!0;u._tzm=bi(r);break;case"dd":case"ddd":case"dddd":e=u._locale.weekdaysParse(r);null!=e?(u._w=u._w||{},u._w.d=e):u._pf.invalidWeekday=r;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":n=n.substr(0,1);case"gggg":case"GGGG":case"GGGGG":n=n.substr(0,2);r&&(u._w=u._w||{},u._w[n]=i(r));break;case"gg":case"GG":u._w=u._w||{};u._w[n]=t.parseTwoDigitYear(r)}}function eu(n){var i,o,f,u,r,e,s;i=n._w;null!=i.GG||null!=i.W||null!=i.E?(r=1,e=4,o=g(i.GG,n._a[c],b(t(),1,4).year),f=g(i.W,1),u=g(i.E,1)):(r=n._locale._week.dow,e=n._locale._week.doy,o=g(i.gg,n._a[c],b(t(),r,e).year),f=g(i.w,1),null!=i.d?(u=i.d,r>u&&++f):u=null!=i.e?i.e+r:r);s=du(o,f,u,e,r);n._a[c]=s.year;n._dayOfYear=s.dayOfYear}function at(n){var t,i,r,u,f=[];if(!n._d){for(r=su(n),n._w&&null==n._a[s]&&null==n._a[l]&&eu(n),n._dayOfYear&&(u=g(n._a[c],r[c]),n._dayOfYear>ci(u)&&(n._pf._overflowDayOfYear=!0),i=yt(u,0,n._dayOfYear),n._a[l]=i.getUTCMonth(),n._a[s]=i.getUTCDate()),t=0;3>t&&null==n._a[t];++t)n._a[t]=f[t]=r[t];for(;7>t;t++)n._a[t]=f[t]=null==n._a[t]?2===t?1:0:n._a[t];n._d=(n._useUTC?yt:pu).apply(null,f);null!=n._tzm&&n._d.setUTCMinutes(n._d.getUTCMinutes()+n._tzm)}}function ou(n){var t;n._d||(t=si(n._i),n._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],at(n))}function su(n){var t=new Date;return n._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function vt(n){if(n._f===t.ISO_8601)return void ki(n);n._a=[];n._pf.empty=!0;for(var i,u,o,r=""+n._i,h=r.length,s=0,e=wi(n._f,n._locale).match(or)||[],f=0;f<e.length;f++)u=e[f],i=(r.match(uu(u,n))||[])[0],i&&(o=r.substr(0,r.indexOf(i)),o.length>0&&n._pf.unusedInput.push(o),r=r.slice(r.indexOf(i)+i.length),s+=i.length),v[u]?(i?n._pf.empty=!1:n._pf.unusedTokens.push(u),fu(u,i,n)):n._strict&&!i&&n._pf.unusedTokens.push(u);n._pf.charsLeftOver=h-s;r.length>0&&n._pf.unusedInput.push(r);n._isPm&&n._a[a]<12&&(n._a[a]+=12);n._isPm===!1&&12===n._a[a]&&(n._a[a]=0);at(n);ai(n)}function hu(n){return n.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(n,t,i,r,u){return t||i||r||u})}function cu(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function lu(n){var t,f,u,r,i;if(0===n._f.length)return n._pf.invalidFormat=!0,void(n._d=new Date(NaN));for(r=0;r<n._f.length;r++)i=0,t=ri({},n),null!=n._useUTC&&(t._useUTC=n._useUTC),t._pf=st(),t._f=n._f[r],vt(t),vi(t)&&(i+=t._pf.charsLeftOver,i+=10*t._pf.unusedTokens.length,t._pf.score=i,(null==u||u>i)&&(u=i,f=t));w(n,f||t)}function ki(n){var t,i,r=n._i,u=wf.exec(r);if(u){for(n._pf.iso=!0,t=0,i=kt.length;i>t;t++)if(kt[t][1].exec(r)){n._f=kt[t][0]+(u[6]||" ");break}for(t=0,i=dt.length;i>t;t++)if(dt[t][1].exec(r)){n._f+=dt[t][0];break}r.match(bt)&&(n._f+="Z");vt(n)}else n._isValid=!1}function au(n){ki(n);n._isValid===!1&&(delete n._isValid,t.createFromInputFallback(n))}function vu(n,t){for(var r=[],i=0;i<n.length;++i)r.push(t(n[i],i));return r}function yu(i){var u,r=i._i;r===n?i._d=new Date:gr(r)?i._d=new Date(+r):null!==(u=tf.exec(r))?i._d=new Date(+u[1]):"string"==typeof r?au(i):ut(r)?(i._a=vu(r.slice(0),function(n){return parseInt(n,10)}),at(i)):"object"==typeof r?ou(i):"number"==typeof r?i._d=new Date(r):t.createFromInputFallback(i)}function pu(n,t,i,r,u,f,e){var o=new Date(n,t,i,r,u,f,e);return 1970>n&&o.setFullYear(n),o}function yt(n){var t=new Date(Date.UTC.apply(null,arguments));return 1970>n&&t.setUTCFullYear(n),t}function wu(n,t){if("string"==typeof n)if(isNaN(n)){if(n=t.weekdaysParse(n),"number"!=typeof n)return null}else n=parseInt(n,10);return n}function bu(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function ku(n,i,r){var u=t.duration(n).abs(),c=k(u.as("s")),e=k(u.as("m")),o=k(u.as("h")),s=k(u.as("d")),h=k(u.as("M")),l=k(u.as("y")),f=c<y.s&&["s",c]||1===e&&["m"]||e<y.m&&["mm",e]||1===o&&["h"]||o<y.h&&["hh",o]||1===s&&["d"]||s<y.d&&["dd",s]||1===h&&["M"]||h<y.M&&["MM",h]||1===l&&["y"]||["yy",l];return f[2]=i,f[3]=+n>0,f[4]=r,bu.apply({},f)}function b(n,i,r){var f,e=r-i,u=r-n.day();return u>e&&(u-=7),e-7>u&&(u+=7),f=t(n).add(u,"d"),{week:Math.ceil(f.dayOfYear()/7),year:f.year()}}function du(n,t,i,r,u){var o,e,f=yt(n,0,1).getUTCDay();return f=0===f?7:f,i=null!=i?i:u,o=u-f+(f>r?7:0)-(u>f?7:0),e=7*(t-1)+(i-u)+o+1,{year:e>0?n:n-1,dayOfYear:e>0?e:ci(n-1)+e}}function di(i){var r=i._i,u=i._f;return i._locale=i._locale||t.localeData(i._l),null===r||u===n&&""===r?t.invalid({nullInput:!0}):("string"==typeof r&&(i._i=r=i._locale.preparse(r)),t.isMoment(r)?new rt(r,!0):(u?ut(u)?lu(i):vt(i):yu(i),new rt(i)))}function gi(n,i){var u,r;if(1===i.length&&ut(i[0])&&(i=i[0]),!i.length)return t();for(u=i[0],r=1;r<i.length;++r)i[r][n](u)&&(u=i[r]);return u}function nr(n,t){var i;return"string"==typeof t&&(t=n.localeData().monthsParse(t),"number"!=typeof t)?n:(i=Math.min(n.date(),ct(n.year(),t)),n._d["set"+(n._isUTC?"UTC":"")+"Month"](t,i),n)}function pt(n,t){return n._d["get"+(n._isUTC?"UTC":"")+t]()}function tr(n,t,i){return"Month"===t?nr(n,i):n._d["set"+(n._isUTC?"UTC":"")+t](i)}function h(n,i){return function(r){return null!=r?(tr(this,n,r),t.updateOffset(this,i),this):pt(this,n)}}function ir(n){return 400*n/146097}function rr(n){return 146097*n/400}function gu(n){t.duration.fn[n]=function(){return this._data[n]}}function ur(n){"undefined"==typeof ender&&(fr=wt.moment,wt.moment=n?e("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",t):t)}for(var t,fr,u,wt="undefined"!=typeof global?global:this,k=Math.round,nf=Object.prototype.hasOwnProperty,c=0,l=1,s=2,a=3,nt=4,tt=5,it=6,d={},et=[],er="undefined"!=typeof module&&module.exports,tf=/^\/?Date\((\-?\d+)/i,rf=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,uf=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,or=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,ot=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,sr=/\d\d?/,ff=/\d{1,3}/,ef=/\d{1,4}/,of=/[+\-]?\d{1,6}/,sf=/\d+/,hf=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,bt=/Z|[\+\-]\d\d:?\d\d/gi,cf=/T/i,lf=/[\+\-]?\d+(\.\d{1,3})?/,af=/\d{1,2}/,hr=/\d/,cr=/\d\d/,lr=/\d{3}/,vf=/\d{4}/,yf=/[+-]?\d{6}/,pf=/[+-]?\d+/,wf=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],dt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],bf=/([\+\-]|\d\d)/gi,ar=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),kf={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},df={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},gt={},y={s:45,m:45,h:22,d:26,M:11},vr="DDD w W M D d".split(" "),yr="M D H h m s w W".split(" "),v={M:function(){return this.month()+1},MMM:function(n){return this.localeData().monthsShort(this,n)},MMMM:function(n){return this.localeData().months(this,n)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(n){return this.localeData().weekdaysMin(this,n)},ddd:function(n){return this.localeData().weekdaysShort(this,n)},dddd:function(n){return this.localeData().weekdays(this,n)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var n=this.year(),t=n>=0?"+":"-";return t+r(Math.abs(n),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return i(this.milliseconds()/100)},SS:function(){return r(i(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var n=-this.zone(),t="+";return 0>n&&(n=-n,t="-"),t+r(i(n/60),2)+":"+r(i(n)%60,2)},ZZ:function(){var n=-this.zone(),t="+";return 0>n&&(n=-n,t="-"),t+r(i(n/60),2)+r(i(n)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},pr={},wr=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];vr.length;)u=vr.pop(),v[u+"o"]=kr(v[u],u);for(;yr.length;)u=yr.pop(),v[u+u]=ti(v[u],2);for(v.DDDD=ti(v.DDD,3),w(ii.prototype,{set:function(n){var t;for(var i in n)t=n[i],"function"==typeof t?this[i]=t:this["_"+i]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(n){return this._months[n.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(n){return this._monthsShort[n.month()]},monthsParse:function(n){var i,r,u;for(this._monthsParse||(this._monthsParse=[]),i=0;12>i;i++)if(this._monthsParse[i]||(r=t.utc([2e3,i]),u="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(u.replace(".",""),"i")),this._monthsParse[i].test(n))return i},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(n){return this._weekdays[n.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(n){return this._weekdaysShort[n.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(n){return this._weekdaysMin[n.day()]},weekdaysParse:function(n){var i,r,u;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;7>i;i++)if(this._weekdaysParse[i]||(r=t([2e3,1]).day(i),u="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(u.replace(".",""),"i")),this._weekdaysParse[i].test(n))return i},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(n){var t=this._longDateFormat[n];return!t&&this._longDateFormat[n.toUpperCase()]&&(t=this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n]=t),t},isPM:function(n){return"p"===(n+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(n,t){var i=this._calendar[n];return"function"==typeof i?i.apply(t):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(n,t,i,r){var u=this._relativeTime[i];return"function"==typeof u?u(n,t,i,r):u.replace(/%d/i,n)},pastFuture:function(n,t){var i=this._relativeTime[n>0?"future":"past"];return"function"==typeof i?i(t):i.replace(/%s/i,t)},ordinal:function(n){return this._ordinal.replace("%d",n)},_ordinal:"%d",preparse:function(n){return n},postformat:function(n){return n},week:function(n){return b(n,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),t=function(t,i,r,u){var f;return"boolean"==typeof r&&(u=r,r=n),f={},f._isAMomentObject=!0,f._i=t,f._f=i,f._l=r,f._strict=u,f._isUTC=!1,f._pf=st(),di(f)},t.suppressDeprecationWarnings=!1,t.createFromInputFallback=e("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(n){n._d=new Date(n._i)}),t.min=function(){var n=[].slice.call(arguments,0);return gi("isBefore",n)},t.max=function(){var n=[].slice.call(arguments,0);return gi("isAfter",n)},t.utc=function(t,i,r,u){var f;return"boolean"==typeof r&&(u=r,r=n),f={},f._isAMomentObject=!0,f._useUTC=!0,f._isUTC=!0,f._l=r,f._i=t,f._f=i,f._strict=u,f._pf=st(),di(f).utc()},t.unix=function(n){return t(1e3*n)},t.duration=function(n,r){var e,h,o,c,f=n,u=null;return t.isDuration(n)?f={ms:n._milliseconds,d:n._days,M:n._months}:"number"==typeof n?(f={},r?f[r]=n:f.milliseconds=n):(u=rf.exec(n))?(e="-"===u[1]?-1:1,f={y:0,d:i(u[s])*e,h:i(u[a])*e,m:i(u[nt])*e,s:i(u[tt])*e,ms:i(u[it])*e}):(u=uf.exec(n))?(e="-"===u[1]?-1:1,o=function(n){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e},f={y:o(u[2]),M:o(u[3]),d:o(u[4]),h:o(u[5]),m:o(u[6]),s:o(u[7]),w:o(u[8])}):"object"==typeof f&&("from"in f||"to"in f)&&(c=dr(t(f.from),t(f.to)),f={},f.ms=c.milliseconds,f.M=c.months),h=new ht(f),t.isDuration(n)&&p(n,"_locale")&&(h._locale=n._locale),h},t.version="2.8.3",t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.ISO_8601=function(){},t.momentProperties=et,t.updateOffset=function(){},t.relativeTimeThreshold=function(t,i){return y[t]===n?!1:i===n?y[t]:(y[t]=i,!0)},t.lang=e("moment.lang is deprecated. Use moment.locale instead.",function(n,i){return t.locale(n,i)}),t.locale=function(n,i){var r;return n&&(r="undefined"!=typeof i?t.defineLocale(n,i):t.localeData(n),r&&(t.duration._locale=t._locale=r)),t._locale._abbr},t.defineLocale=function(n,i){return null!==i?(i.abbr=n,d[n]||(d[n]=new ii),d[n].set(i),t.locale(n),d[n]):(delete d[n],null)},t.langData=e("moment.langData is deprecated. Use moment.localeData instead.",function(n){return t.localeData(n)}),t.localeData=function(n){var i;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return t._locale;if(!ut(n)){if(i=pi(n))return i;n=[n]}return tu(n)},t.isMoment=function(n){return n instanceof rt||null!=n&&p(n,"_isAMomentObject")},t.isDuration=function(n){return n instanceof ht},u=wr.length-1;u>=0;--u)nu(wr[u]);t.normalizeUnits=function(n){return f(n)};t.invalid=function(n){var i=t.utc(NaN);return null!=n?w(i._pf,n):i._pf.userInvalidated=!0,i};t.parseZone=function(){return t.apply(null,arguments).parseZone()};t.parseTwoDigitYear=function(n){return i(n)+(i(n)>68?1900:2e3)};w(t.fn=rt.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var n=t(this).utc();return 0<n.year()&&n.year()<=9999?lt(n,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):lt(n,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var n=this;return[n.year(),n.month(),n.date(),n.hours(),n.minutes(),n.seconds(),n.milliseconds()]},isValid:function(){return vi(this)},isDSTShifted:function(){return this._a?this.isValid()&&oi(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0:!1},parsingFlags:function(){return w({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(n){return this.zone(0,n)},local:function(n){return this._isUTC&&(this.zone(0,n),this._isUTC=!1,n&&this.add(this._dateTzOffset(),"m")),this},format:function(n){var i=lt(this,n||t.defaultFormat);return this.localeData().postformat(i)},add:fi(1,"add"),subtract:fi(-1,"subtract"),diff:function(n,i,r){var u,s,h,e=ft(n,this),c=6e4*(this.zone()-e.zone());return i=f(i),"year"===i||"month"===i?(u=432e5*(this.daysInMonth()+e.daysInMonth()),s=12*(this.year()-e.year())+(this.month()-e.month()),h=this-t(this).startOf("month")-(e-t(e).startOf("month")),h-=6e4*(this.zone()-t(this).startOf("month").zone()-(e.zone()-t(e).startOf("month").zone())),s+=h/u,"year"===i&&(s/=12)):(u=this-e,s="second"===i?u/1e3:"minute"===i?u/6e4:"hour"===i?u/36e5:"day"===i?(u-c)/864e5:"week"===i?(u-c)/6048e5:u),r?s:o(s)},from:function(n,i){return t.duration({to:this,from:n}).locale(this.locale()).humanize(!i)},fromNow:function(n){return this.from(t(),n)},calendar:function(n){var r=n||t(),u=ft(r,this).startOf("day"),i=this.diff(u,"days",!0),f=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(f,this))},isLeapYear:function(){return li(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=n?(n=wu(n,this.localeData()),this.add(n-t,"d")):t},month:h("Month",!0),startOf:function(n){switch(n=f(n)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===n?this.weekday(0):"isoWeek"===n&&this.isoWeekday(1),"quarter"===n&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(n){return n=f(n),this.startOf(n).add(1,"isoWeek"===n?"week":n).subtract(1,"ms")},isAfter:function(n,i){return i=f("undefined"!=typeof i?i:"millisecond"),"millisecond"===i?(n=t.isMoment(n)?n:t(n),+this>+n):+this.clone().startOf(i)>+t(n).startOf(i)},isBefore:function(n,i){return i=f("undefined"!=typeof i?i:"millisecond"),"millisecond"===i?(n=t.isMoment(n)?n:t(n),+n>+this):+this.clone().startOf(i)<+t(n).startOf(i)},isSame:function(n,i){return i=f(i||"millisecond"),"millisecond"===i?(n=t.isMoment(n)?n:t(n),+this==+n):+this.clone().startOf(i)==+ft(n,this).startOf(i)},min:e("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),this>n?this:n}),max:e("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(n){return n=t.apply(null,arguments),n>this?this:n}),zone:function(n,i){var r,u=this._offset||0;return null==n?this._isUTC?u:this._dateTzOffset():("string"==typeof n&&(n=bi(n)),Math.abs(n)<16&&(n=60*n),!this._isUTC&&i&&(r=this._dateTzOffset()),this._offset=n,this._isUTC=!0,null!=r&&this.subtract(r,"m"),u!==n&&(!i||this._changeInProgress?ei(this,t.duration(u-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(n){return n=n?t(n).zone():0,(this.zone()-n)%60==0},daysInMonth:function(){return ct(this.year(),this.month())},dayOfYear:function(n){var i=k((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return null==n?i:this.add(n-i,"d")},quarter:function(n){return null==n?Math.ceil((this.month()+1)/3):this.month(3*(n-1)+this.month()%3)},weekYear:function(n){var t=b(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==n?t:this.add(n-t,"y")},isoWeekYear:function(n){var t=b(this,1,4).year;return null==n?t:this.add(n-t,"y")},week:function(n){var t=this.localeData().week(this);return null==n?t:this.add(7*(n-t),"d")},isoWeek:function(n){var t=b(this,1,4).week;return null==n?t:this.add(7*(n-t),"d")},weekday:function(n){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==n?t:this.add(n-t,"d")},isoWeekday:function(n){return null==n?this.day()||7:this.day(this.day()%7?n:n-7)},isoWeeksInYear:function(){return hi(this.year(),1,4)},weeksInYear:function(){var n=this.localeData()._week;return hi(this.year(),n.dow,n.doy)},get:function(n){return n=f(n),this[n]()},set:function(n,t){return n=f(n),"function"==typeof this[n]&&this[n](t),this},locale:function(i){var r;return i===n?this._locale._abbr:(r=t.localeData(i),null!=r&&(this._locale=r),this)},lang:e("moment().lang() is deprecated. Use moment().localeData() instead.",function(t){return t===n?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}});t.fn.millisecond=t.fn.milliseconds=h("Milliseconds",!1);t.fn.second=t.fn.seconds=h("Seconds",!1);t.fn.minute=t.fn.minutes=h("Minutes",!1);t.fn.hour=t.fn.hours=h("Hours",!0);t.fn.date=h("Date",!0);t.fn.dates=e("dates accessor is deprecated. Use date instead.",h("Date",!0));t.fn.year=h("FullYear",!0);t.fn.years=e("years accessor is deprecated. Use year instead.",h("FullYear",!0));t.fn.days=t.fn.day;t.fn.months=t.fn.month;t.fn.weeks=t.fn.week;t.fn.isoWeeks=t.fn.isoWeek;t.fn.quarters=t.fn.quarter;t.fn.toJSON=t.fn.toISOString;w(t.duration.fn=ht.prototype,{_bubble:function(){var u,f,e,s=this._milliseconds,t=this._days,i=this._months,n=this._data,r=0;n.milliseconds=s%1e3;u=o(s/1e3);n.seconds=u%60;f=o(u/60);n.minutes=f%60;e=o(f/60);n.hours=e%24;t+=o(e/24);r=o(ir(t));t-=o(rr(r));i+=o(t/30);t%=30;r+=o(i/12);i%=12;n.days=t;n.months=i;n.years=r},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return o(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*i(this._months/12)},humanize:function(n){var t=ku(this,!n,this.localeData());return n&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(n,i){var r=t.duration(n,i);return this._milliseconds+=r._milliseconds,this._days+=r._days,this._months+=r._months,this._bubble(),this},subtract:function(n,i){var r=t.duration(n,i);return this._milliseconds-=r._milliseconds,this._days-=r._days,this._months-=r._months,this._bubble(),this},get:function(n){return n=f(n),this[n.toLowerCase()+"s"]()},as:function(n){var t,i;if(n=f(n),"month"===n||"year"===n)return t=this._days+this._milliseconds/864e5,i=this._months+12*ir(t),"month"===n?i:i/12;switch(t=this._days+rr(this._months/12),n){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 1440*t+this._milliseconds/6e4;case"second":return 86400*t+this._milliseconds/1e3;case"millisecond":return Math.floor(864e5*t)+this._milliseconds;default:throw new Error("Unknown unit "+n);}},lang:t.fn.lang,locale:t.fn.locale,toIsoString:e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var r=Math.abs(this.years()),u=Math.abs(this.months()),f=Math.abs(this.days()),n=Math.abs(this.hours()),t=Math.abs(this.minutes()),i=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(r?r+"Y":"")+(u?u+"M":"")+(f?f+"D":"")+(n||t||i?"T":"")+(n?n+"H":"")+(t?t+"M":"")+(i?i+"S":""):"P0D"},localeData:function(){return this._locale}});t.duration.fn.toString=t.duration.fn.toISOString;for(u in ar)p(ar,u)&&gu(u.toLowerCase());t.duration.fn.asMilliseconds=function(){return this.as("ms")};t.duration.fn.asSeconds=function(){return this.as("s")};t.duration.fn.asMinutes=function(){return this.as("m")};t.duration.fn.asHours=function(){return this.as("h")};t.duration.fn.asDays=function(){return this.as("d")};t.duration.fn.asWeeks=function(){return this.as("weeks")};t.duration.fn.asMonths=function(){return this.as("M")};t.duration.fn.asYears=function(){return this.as("y")};t.locale("en",{ordinal:function(n){var t=n%10,r=1===i(n%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return n+r}});er?module.exports=t:"function"==typeof define&&define.amd?(define("moment",function(n,i,r){return r.config&&r.config()&&r.config().noGlobal===!0&&(wt.moment=fr),t}),ur(!0)):ur()}).call(this),function(n){"function"==typeof define&&define.amd?define(["jquery","moment"],n):n(jQuery,moment)}(function(n,t){function yr(n,t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")}function pr(n,t){var i=t.longDateFormat("L");return i=i.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),n.isRTL?i+=" ddd":i="ddd "+i,i}function ti(n){w(k,n)}function w(t){function r(i,r){n.isPlainObject(r)&&n.isPlainObject(t[i])&&!ii(i)?t[i]=w({},t[i],r):void 0!==r&&(t[i]=r)}for(var i=1;arguments.length>i;i++)n.each(arguments[i],r);return t}function ii(n){return/(Time|Duration)$/.test(n)}function wr(r,u){function yt(n){var i=t.localeData||t.langData;return i.call(t,n)||i.call(t,"en")}function pt(n){v?b()&&(ht(),l(n)):wt()}function wt(){rr=o.theme?"ui":"fc";r.addClass("fc");o.isRTL?r.addClass("fc-rtl"):r.addClass("fc-ltr");o.theme?r.addClass("ui-widget"):r.addClass("fc-unthemed");v=n("<div class='fc-view-container'/>").prependTo(r);a=new br(f,o);d=a.render();d&&r.prepend(d);ut(o.defaultView);o.handleWindowResize&&(ot=pi(kt,o.windowResizeDelay),n(window).resize(ot))}function bt(){s&&s.destroy();a.destroy();v.remove();r.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget");n(window).unbind("resize",ot)}function b(){return r.is(":visible")}function ut(n){l(0,n)}function l(t,i){g++;s&&i&&s.name!==i&&(a.deactivateButton(s.name),tt(),s.start&&s.destroy(),s.el.remove(),s=null);!s&&i&&(s=new p[i](f),s.el=n("<div class='fc-view fc-"+i+"-view' />").appendTo(v),a.activateButton(i));s&&(t&&(h=s.incrementDate(h,t)),s.start&&!t&&h.isWithin(s.intervalStart,s.intervalEnd)||b()&&(tt(),s.start&&s.destroy(),s.render(h),it(),ri(),ui(),ni()));it();g--}function st(n){if(b())return(n&&ct(),g++,s.updateSize(!0),g--,!0)}function ht(){b()&&ct()}function ct(){et="number"==typeof o.contentHeight?o.contentHeight:"number"==typeof o.height?o.height-(d?d.outerHeight(!0):0):Math.round(v.width()/Math.max(o.aspectRatio,.5))}function kt(n){!g&&n.target===window&&s.start&&st(!0)&&s.trigger("windowResize",at)}function dt(){gt();lt()}function nt(){b()&&(tt(),s.destroyEvents(),s.renderEvents(vt),it())}function gt(){tt();s.destroyEvents();it()}function ni(){!o.lazyFetching||ur(s.start,s.end)?lt():nt()}function lt(){fr(s.start,s.end)}function ti(n){vt=n;nt()}function ii(){nt()}function ri(){a.updateTitle(s.title)}function ui(){var n=f.getNow();n.isWithin(s.intervalStart,s.intervalEnd)?a.disableButton("today"):a.enableButton("today")}function fi(n,t){n=f.moment(n);t=t?f.moment(t):n.hasTime()?n.clone().add(f.defaultTimedEventDuration):n.clone().add(f.defaultAllDayEventDuration);s.select(n,t)}function ei(){s&&s.unselect()}function oi(){l(-1)}function si(){l(1)}function hi(){h.add(-1,"years");l()}function ci(){h.add(1,"years");l()}function li(){h=f.getNow();l()}function ai(n){h=f.moment(n);l()}function vi(n){h.add(t.duration(n));l()}function wi(n,t){var r,i;t&&void 0!==p[t]||(t=t||"day",r=a.getViewsWithButtons().join(" "),i=r.match(RegExp("\\w+"+yi(t))),i||(i=r.match(/\w+Day/)),t=i?i[0]:"agendaDay");h=n;ut(t)}function bi(){return h.clone()}function tt(){v.css({width:"100%",height:v.height(),overflow:"hidden"})}function it(){v.css({width:"",height:"",overflow:""})}function di(){return f}function nr(){return s}function tr(n,t){return void 0===t?o[n]:(("height"==n||"contentHeight"==n||"aspectRatio"==n)&&(o[n]=t,st(!0)),void 0)}function ir(n,t){if(o[n])return o[n].apply(t||at,Array.prototype.slice.call(arguments,2))}var f=this,rt,o,c,ft;u=u||{};o=w({},k,u);rt=o.lang in y?y[o.lang]:y[k.lang];rt&&(o=w({},k,rt,u));o.isRTL&&(o=w({},k,wu,rt||{},u));f.options=o;f.render=pt;f.destroy=bt;f.refetchEvents=dt;f.reportEvents=ti;f.reportEventChange=ii;f.rerenderEvents=nt;f.changeView=ut;f.select=fi;f.unselect=ei;f.prev=oi;f.next=si;f.prevYear=hi;f.nextYear=ci;f.today=li;f.gotoDate=ai;f.incrementDate=vi;f.zoomTo=wi;f.getDate=bi;f.getCalendar=di;f.getView=nr;f.option=tr;f.trigger=ir;c=e(yt(o.lang));(o.monthNames&&(c._months=o.monthNames),o.monthNamesShort&&(c._monthsShort=o.monthNamesShort),o.dayNames&&(c._weekdays=o.dayNames),o.dayNamesShort&&(c._weekdaysShort=o.dayNamesShort),null!=o.firstDay)&&(ft=e(c._week),ft.dow=o.firstDay,c._week=ft);f.defaultAllDayEventDuration=t.duration(o.defaultAllDayEventDuration);f.defaultTimedEventDuration=t.duration(o.defaultTimedEventDuration);f.moment=function(){var n;return"local"===o.timezone?(n=i.moment.apply(null,arguments),n.hasTime()&&n.local()):n="UTC"===o.timezone?i.moment.utc.apply(null,arguments):i.moment.parseZone.apply(null,arguments),"_locale"in n?n._locale=c:n._lang=c,n};f.getIsAmbigTimezone=function(){return"local"!==o.timezone&&"UTC"!==o.timezone};f.rezoneDate=function(n){return f.moment(n.toArray())};f.getNow=function(){var n=o.now;return"function"==typeof n&&(n=n()),f.moment(n)};f.calculateWeekNumber=function(n){var t=o.weekNumberCalculation;return"function"==typeof t?t(n):"local"===t?n.week():"ISO"===t.toUpperCase()?n.isoWeek():void 0};f.getEventEnd=function(n){return n.end?n.end.clone():f.getDefaultEventEnd(n.allDay,n.start)};f.getDefaultEventEnd=function(n,t){var i=t.clone();return n?i.stripTime().add(f.defaultAllDayEventDuration):i.add(f.defaultTimedEventDuration),f.getIsAmbigTimezone()&&i.stripZone(),i};f.formatRange=function(n,t,i){return"function"==typeof i&&(i=i.call(f,o,c)),gi(n,t,i,null,o.isRTL)};f.formatDate=function(n,t){return"function"==typeof t&&(t=t.call(f,o,c)),ki(n,t)};kr.call(f,o);var a,d,v,rr,s,et,ot,h,ur=f.isFetchNeeded,fr=f.fetchEvents,at=r[0],g=0,vt=[];h=null!=o.defaultDate?f.moment(o.defaultDate):f.getNow();f.getSuggestedViewHeight=function(){return void 0===et&&ht(),et};f.isHeightAuto=function(){return"auto"===o.contentHeight||"auto"===o.height}}function br(t,i){function h(){var t=i.header;return u=i.theme?"ui":"fc",t?e=n("<div class='fc-toolbar'/>").append(o("left")).append(o("right")).append(o("center")).append('<div class="fc-clear"/>'):void 0}function c(){e.remove()}function o(f){var e=n('<div class="fc-'+f+'"/>'),o=i.header[f];return o&&n.each(o.split(" "),function(){var o,f=n(),h=!0;n.each(this.split(","),function(e,o){var l,a,v,w,y,b,k,c;"title"==o?(f=f.add(n("<h2>&nbsp;<\/h2>")),h=!1):(t[o]?l=function(){t[o]()}:p[o]&&(l=function(){t.changeView(o)},s.push(o)),l&&(a=d(i.themeButtonIcons,o),v=d(i.buttonIcons,o),w=d(i.defaultButtonText,o),y=d(i.buttonText,o),b=y?r(y):a&&i.theme?"<span class='ui-icon ui-icon-"+a+"'><\/span>":v&&!i.theme?"<span class='fc-icon fc-icon-"+v+"'><\/span>":r(w||o),k=["fc-"+o+"-button",u+"-button",u+"-state-default"],c=n('<button type="button" class="'+k.join(" ")+'">'+b+"<\/button>").click(function(){c.hasClass(u+"-state-disabled")||(l(),(c.hasClass(u+"-state-active")||c.hasClass(u+"-state-disabled"))&&c.removeClass(u+"-state-hover"))}).mousedown(function(){c.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-down")}).mouseup(function(){c.removeClass(u+"-state-down")}).hover(function(){c.not("."+u+"-state-active").not("."+u+"-state-disabled").addClass(u+"-state-hover")},function(){c.removeClass(u+"-state-hover").removeClass(u+"-state-down")}),f=f.add(c)))});h&&f.first().addClass(u+"-corner-left").end().last().addClass(u+"-corner-right").end();f.length>1?(o=n("<div/>"),h&&o.addClass("fc-button-group"),o.append(f),e.append(o)):e.append(f)}),e}function l(n){e.find("h2").text(n)}function a(n){e.find(".fc-"+n+"-button").addClass(u+"-state-active")}function v(n){e.find(".fc-"+n+"-button").removeClass(u+"-state-active")}function y(n){e.find(".fc-"+n+"-button").attr("disabled","disabled").addClass(u+"-state-disabled")}function w(n){e.find(".fc-"+n+"-button").removeAttr("disabled").removeClass(u+"-state-disabled")}function b(){return s}var f=this,u,e,s;f.render=h;f.destroy=c;f.updateTitle=l;f.activateButton=a;f.deactivateButton=v;f.disableButton=y;f.enableButton=w;f.getViewsWithButtons=b;e=n();s=[]}function kr(r){function wt(n,t){return!o||n.clone().stripZone()<o.clone().stripZone()||t.clone().stripZone()>h.clone().stripZone()}function bt(n,t){var u,r,i;for(o=n,h=t,f=[],u=++w,r=e.length,v=r,i=0;r>i;i++)k(e[i],u)}function k(t,i){d(t,function(r){var u,e,o,h=n.isArray(t.events);if(i==w){if(r)for(u=0;r.length>u;u++)e=r[u],o=h?e:s(e,t),o&&f.push.apply(f,l(o));v--;v||a(f)}})}function d(t,f){for(var l,v=i.sourceFetchers,e,y,s=0;v.length>s;s++){if(l=v[s].call(u,t,o.clone(),h.clone(),r.timezone,f),l===!0)return;if("object"==typeof l)return d(l,f),void 0}if(e=t.events,e)n.isFunction(e)?(ut(),e.call(u,o.clone(),h.clone(),r.timezone,function(n){f(n);et()})):n.isArray(e)?f(e):f();else if(y=t.url,y){var p,k=t.success,g=t.error,nt=t.complete;p=n.isFunction(t.data)?t.data():t.data;var a=n.extend({},p||{}),w=c(t.startParam,r.startParam),b=c(t.endParam,r.endParam),tt=c(t.timezoneParam,r.timezoneParam);w&&(a[w]=o.format());b&&(a[b]=h.format());r.timezone&&"local"!=r.timezone&&(a[tt]=r.timezone);ut();n.ajax(n.extend({},bu,t,{data:a,success:function(t){t=t||[];var i=it(k,this,arguments);n.isArray(i)&&(t=i);f(t)},error:function(){it(g,this,arguments);f()},complete:function(){it(nt,this,arguments);et()}}))}else f()}function kt(n){var t=nt(n);t&&(e.push(t),v++,k(t,w))}function nt(t){var r,f,e=i.sourceNormalizers;if(n.isFunction(t)||n.isArray(t)?r={events:t}:"string"==typeof t?r={url:t}:"object"==typeof t&&(r=n.extend({},t)),r){for(r.className?"string"==typeof r.className&&(r.className=r.className.split(/\s+/)):r.className=[],n.isArray(r.events)&&(r.origArray=r.events,r.events=n.map(r.events,function(n){return s(n,r)})),f=0;e.length>f;f++)e[f].call(u,r);return r}}function dt(t){e=n.grep(e,function(n){return!tt(n,t)});f=n.grep(f,function(n){return!tt(n.source,t)});a(f)}function tt(n,t){return n&&t&&rt(n)==rt(t)}function rt(n){return("object"==typeof n?n.origArray||n.url||n.events:null)||n}function gt(n){n.start=u.moment(n.start);n.end&&(n.end=u.moment(n.end));st(n);ni(n);a(f)}function ni(n){for(var i,r,u,t=0;f.length>t;t++)if(i=f[t],i._id==n._id&&i!==n)for(r=0;b.length>r;r++)u=b[r],void 0!==n[u]&&(i[u]=n[u])}function ti(n,t){var r,u,i,e=s(n);if(e){for(r=l(e),u=0;r.length>u;u++)i=r[u],i.source||(t&&(p.events.push(i),i.source=p),f.push(i));return a(f),r}return[]}function ii(t){var r,i;for(null==t?t=function(){return!0}:n.isFunction(t)||(r=t+"",t=function(n){return n._id==r}),f=n.grep(f,t,!0),i=0;e.length>i;i++)n.isArray(e[i].events)&&(e[i].events=n.grep(e[i].events,t,!0));a(f)}function y(t){return n.isFunction(t)?n.grep(f,t):null!=t?(t+="",n.grep(f,function(n){return n._id==t})):f}function ut(){pt++||vt("loading",null,!0,yt())}function et(){--pt||vt("loading",null,!1,yt())}function s(i,f){var o,e,h,l,s={};if(r.eventDataTransform&&(i=r.eventDataTransform(i)),f&&f.eventDataTransform&&(i=f.eventDataTransform(i)),n.extend(s,i),f&&(s.source=f),s._id=i._id||(void 0===i.id?"_fc"+ku++:i.id+""),s.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],o=i.start||i.date,e=i.end,vi(o)&&(o=t.duration(o)),vi(e)&&(e=t.duration(e)),i.dow||t.isDuration(o)||t.isDuration(e))s.start=o?t.duration(o):null,s.end=e?t.duration(e):null,s._recurring=!0;else{if(o&&(o=u.moment(o),!o.isValid())||e&&(e=u.moment(e),!e.isValid()))return!1;h=i.allDay;void 0===h&&(l=c(f?f.allDayDefault:void 0,r.allDayDefault),h=void 0!==l?l:!(o.hasTime()||e&&e.hasTime()));ot(o,e,h,s)}return s}function ot(n,t,i,f){i?(n.hasTime()&&n.stripTime(),t&&t.hasTime()&&t.stripTime()):(n.hasTime()||(n=u.rezoneDate(n)),t&&!t.hasTime()&&(t=u.rezoneDate(t)));f.allDay=i;f.start=n;f.end=t||null;r.forceEventDuration&&!f.end&&(f.end=si(f));ft(f)}function l(t){var l,r,a,f,i,e,s,c,v,y,p=[],w=o,b=h;if(w&&b||(l=u.getView(),w=l.start,b=l.end),t)if(t._recurring){if(a=t.dow)for(r={},f=0;a.length>f;f++)r[a[f]]=!0;for(i=w.clone().stripTime();i.isBefore(b);)(!r||r[i.day()])&&(e=t.start,s=t.end,c=i.clone(),v=null,e&&(c=c.time(e)),s&&(v=i.clone().time(s)),y=n.extend({},t),ot(c,v,!e&&!s,y),p.push(y)),i.add(1,"days")}else p.push(t);return p}function st(n,t,i){var r,e,o,h,s=n._allDay,f=n._start,l=n._end,c=!1;return t||i||(t=n.start,i=n.end),r=n.allDay!=s?n.allDay:!(t||i).hasTime(),r&&(t&&(t=t.clone().stripTime()),i&&(i=i.clone().stripTime())),t&&(e=r?g(t,f.clone().stripTime()):g(t,f)),r!=s?c=!0:i&&(o=g(i||u.getDefaultEventEnd(r,t||f),t||f).subtract(g(l||u.getDefaultEventEnd(s,f),f))),h=ri(y(n._id),c,r,e,o),{dateDelta:e,durationDelta:o,undo:h}}function ri(t,i,f,e,o){var h=u.getIsAmbigTimezone(),s=[];return n.each(t,function(n,t){var y=t._allDay,p=t._start,a=t._end,v=null!=f?f:y,l=p.clone(),c=!i&&a?a.clone():null;v?(l.stripTime(),c&&c.stripTime()):(l.hasTime()||(l=u.rezoneDate(l)),c&&!c.hasTime()&&(c=u.rezoneDate(c)));c||!r.forceEventDuration&&!+o||(c=u.getDefaultEventEnd(v,l));l.add(e);c&&c.add(e).add(o);h&&(+e||+o)&&(l.stripZone(),c&&c.stripZone());t.allDay=v;t.start=l;t.end=c;ft(t);s.push(function(){t.allDay=y;t.start=p;t.end=a;ft(t)})}),function(){for(var n=0;s.length>n;n++)s[n]()}}function ht(){var t,i=r.businessHours,u={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"};return i&&(t="object"==typeof i?n.extend({},u,i):u),t?l(s(t)):[]}function ct(n,t,i){var u=n.source||{},f=c(n.constraint,u.constraint,r.eventConstraint),e=c(n.overlap,u.overlap,r.eventOverlap);return at(t,i,f,e,n)}function lt(n,t){return at(n,t,r.selectConstraint,r.selectOverlap)}function ui(n,t,i){var r;return i&&(r=l(s(i))[0])?ct(r,n,t):lt(n,t)}function at(n,t,i,r,u){var h,l,e,o,s;if(n=n.clone().stripZone(),t=t.clone().stripZone(),null!=i){for(h=fi(i),l=!1,e=0;h.length>e;e++)if(ei(h[e],n,t)){l=!0;break}if(!l)return!1}for(e=0;f.length>e;e++)if((o=f[e],(!u||u._id!==o._id)&&oi(o,n,t))&&(r===!1||"function"==typeof r&&!r(o,u)||u&&((s=c(o.overlap,(o.source||{}).overlap),s===!1)||"function"==typeof s&&!s(u,o))))return!1;return!0}function fi(n){return"businessHours"===n?ht():"object"==typeof n?l(s(n)):y(n)}function ei(n,t,i){var r=n.start.clone().stripZone(),f=u.getEventEnd(n).stripZone();return t>=r&&f>=i}function oi(n,t,i){var r=n.start.clone().stripZone(),f=u.getEventEnd(n).stripZone();return f>t&&i>r}var u=this,b;u.isFetchNeeded=wt;u.fetchEvents=bt;u.addEventSource=kt;u.removeEventSource=dt;u.updateEvent=gt;u.renderEvent=ti;u.removeEvents=ii;u.clientEvents=y;u.mutateEvent=st;var o,h,vt=u.trigger,yt=u.getView,a=u.reportEvents,si=u.getEventEnd,p={events:[]},e=[p],w=0,v=0,pt=0,f=[];n.each((r.events?[r.events]:[]).concat(r.eventSources||[]),function(n,t){var i=nt(t);i&&e.push(i)});b=["title","url","allDay","className","editable","color","backgroundColor","borderColor","textColor"];u.getBusinessHoursEvents=ht;u.isEventAllowedInRange=ct;u.isSelectionAllowedInRange=lt;u.isExternalDragAllowedInRange=ui}function ft(n){n._allDay=n.allDay;n._start=n.start.clone();n._end=n.end?n.end.clone():null}function ri(n,t){t.left&&n.css({"border-left-width":1,"margin-left":t.left-1});t.right&&n.css({"border-right-width":1,"margin-right":t.right-1})}function ui(n){n.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function tt(){n("body").addClass("fc-not-allowed")}function l(){n("body").removeClass("fc-not-allowed")}function fi(t,i,r){var u=Math.floor(i/t.length),e=Math.floor(i-u*(t.length-1)),f=[],o=[],s=[],h=0;ei(t);t.each(function(i,r){var l=i===t.length-1?e:u,c=n(r).outerHeight(!0);l>c?(f.push(r),o.push(c),s.push(n(r).height())):h+=c});r&&(i-=h,u=Math.floor(i/f.length),e=Math.floor(i-u*(f.length-1)));n(f).each(function(t,i){var r=t===f.length-1?e:u,h=o[t],c=s[t],l=r-(h-c);r>h&&n(i).height(l)})}function ei(n){n.height("")}function oi(t){var i=0;return t.find("> *").each(function(t,r){var u=n(r).outerWidth();u>i&&(i=u)}),i++,t.width(i),i}function si(n,t){return n.height(t).addClass("fc-scroller"),n[0].scrollHeight-1>n[0].clientHeight?!0:(et(n),!1)}function et(n){n.height("").removeClass("fc-scroller")}function hi(t){var r=t.css("position"),i=t.parents().filter(function(){var t=n(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==r&&i.length?i:n(t[0].ownerDocument||document)}function ci(n){var t=n.offset().left,u=t+n.width(),i=n.children(),r=i.offset().left,f=r+i.outerWidth();return{left:r-t,right:u-f}}function li(n){return 1==n.which&&!n.ctrlKey}function ai(n,t,i,r){var u,f,e,o;if(t>i&&r>n)return(n>=i?(u=n.clone(),e=!0):(u=i.clone(),e=!1),r>=t?(f=t.clone(),o=!0):(f=r.clone(),o=!1),{start:u,end:f,isStart:e,isEnd:o})}function d(n,t){if(n=n||{},void 0!==n[t])return n[t];for(var i,u=t.split(/(?=[A-Z])/),r=u.length-1;r>=0;r--)if(i=n[u[r].toLowerCase()],void 0!==i)return i;return n["default"]}function g(n,i){return t.duration({days:n.clone().stripTime().diff(i.clone().stripTime(),"days"),ms:n.time()-i.time()})}function dr(n){return"[object Date]"===Object.prototype.toString.call(n)||n instanceof Date}function gr(n,t){return n-t}function vi(n){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(n)}function e(n){var t=function(){};return t.prototype=n,new t}function it(t,i,r){if(n.isFunction(t)&&(t=[t]),t){for(var f,u=0;t.length>u;u++)f=t[u].apply(i,r)||f;return f}}function c(){for(var n=0;arguments.length>n;n++)if(void 0!==arguments[n])return arguments[n]}function r(n){return(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function ot(n){return n.replace(/&.*?;/g,"")}function yi(n){return n.charAt(0).toUpperCase()+n.slice(1)}function pi(n,t){var i,r,u,f,e=function(){var o=+new Date-f;t>o&&o>0?i=setTimeout(e,t-o):(i=null,n.apply(u,r),i||(u=r=null))};return function(){u=this;r=arguments;f=+new Date;i||(i=setTimeout(e,t))}}function st(i,r,u){var s,o,h,e,f=i[0],c=1==i.length&&"string"==typeof f;return t.isMoment(f)?(e=t.apply(null,i),wi(f,e)):dr(f)||void 0===f?e=t.apply(null,i):(s=!1,o=!1,c?du.test(f)?(f+="-01",i=[f],s=!0,o=!0):(h=gu.exec(f))&&(s=!h[5],o=!0):n.isArray(f)&&(o=!0),e=r?t.utc.apply(t,i):t.apply(null,i),s?(e._ambigTime=!0,e._ambigZone=!0):u&&(o?e._ambigZone=!0:c&&e.zone(f))),e._fullCalendar=!0,e}function ht(n,t){for(var u=[],f=!1,e=!1,r=0;n.length>r;r++)u.push(i.moment.parseZone(n[r])),f=f||u[r]._ambigTime,e=e||u[r]._ambigZone;for(r=0;u.length>r;r++)f&&!t?u[r].stripTime():e&&u[r].stripZone();return u}function wi(n,t){n._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1);n._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function bi(n,t){n.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function a(n,t){return s.format.call(n,t)}function ki(n,t){return di(n,tr(t))}function di(n,t){for(var r="",i=0;t.length>i;i++)r+=ct(n,t[i]);return r}function ct(n,t){var i,r;return"string"==typeof t?t:(i=t.token)?ni[i]?ni[i](n):a(n,i):t.maybe&&(r=di(n,t.maybe),r.match(/[1-9]/))?r:""}function gi(n,t,r,u,f){var e;return n=i.moment.parseZone(n),t=i.moment.parseZone(t),e=(n.localeData||n.lang).call(n),r=e.longDateFormat(r)||r,u=u||" - ",nu(n,t,tr(r),u,f)}function nu(n,t,i,r,u){for(var f,o,s,a="",l="",h="",c="",v="",e=0;i.length>e&&(f=nr(n,t,i[e]),f!==!1);e++)a+=f;for(o=i.length-1;o>e&&(f=nr(n,t,i[o]),f!==!1);o--)l=f+l;for(s=e;o>=s;s++)h+=ct(n,i[s]),c+=ct(t,i[s]);return(h||c)&&(v=u?c+r+h:h+r+c),a+v+l}function nr(n,t,i){var r,u;return"string"==typeof i?i:(r=i.token)&&(u=ar[r.charAt(0)],u&&n.isSame(t,u))?a(n,r):!1}function tr(n){return n in ut?ut[n]:ut[n]=ir(n)}function ir(n){for(var t,i=[],r=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=r.exec(n);)t[1]?i.push(t[1]):t[2]?i.push({maybe:ir(t[2])}):t[3]?i.push({token:t[3]}):t[5]&&i.push(t[5]);return i}function rr(n){this.options=n||{}}function ur(n){this.grid=n}function fr(n){this.coordMaps=n}function nt(n,t){this.coordMap=n;this.options=t||{}}function tu(n,t){return n||t?n&&t?n.grid===t.grid&&n.row===t.row&&n.col===t.col:!1:!0}function er(t,i){this.options=i=i||{};this.sourceEl=t;this.parentEl=i.parentEl?n(i.parentEl):t.parent()}function lt(n){this.view=n}function o(n){lt.call(this,n);this.coordMap=new ur(this);this.elsByFill={}}function iu(n){var t=or(n);return"background"===t||"inverse-background"===t}function ru(n){return"inverse-background"===or(n)}function or(n){return c((n.source||{}).rendering,n.rendering)}function uu(n){for(var i,r={},t=0;n.length>t;t++)i=n[t],(r[i._id]||(r[i._id]=[])).push(i);return r}function fu(n,t){return n.eventStartMS-t.eventStartMS}function at(n,t){return n.eventStartMS-t.eventStartMS||t.eventDurationMS-n.eventDurationMS||t.event.allDay-n.event.allDay||(n.event.title||"").localeCompare(t.event.title)}function b(n){o.call(this,n)}function eu(n,t){for(var r,i=0;t.length>i;i++)if(r=t[i],r.leftCol<=n.rightCol&&r.rightCol>=n.leftCol)return!0;return!1}function ou(n,t){return n.leftCol-t.leftCol}function rt(n){o.call(this,n)}function su(n){var r,i,t;if(n.sort(at),r=hu(n),cu(r),i=r[0]){for(t=0;i.length>t;t++)sr(i[t]);for(t=0;i.length>t;t++)vt(i[t],0,0)}}function hu(n){for(var u,t,i=[],r=0;n.length>r;r++){for(u=n[r],t=0;i.length>t&&hr(u,i[t]).length;t++);u.level=t;(i[t]||(i[t]=[])).push(u)}return i}function cu(n){for(var f,i,r,u,t=0;n.length>t;t++)for(f=n[t],i=0;f.length>i;i++)for(r=f[i],r.forwardSegs=[],u=t+1;n.length>u;u++)hr(r,n[u],r.forwardSegs)}function sr(n){var t,i,u=n.forwardSegs,r=0;if(void 0===n.forwardPressure){for(t=0;u.length>t;t++)i=u[t],sr(i),r=Math.max(r,1+i.forwardPressure);n.forwardPressure=r}}function vt(n,t,i){var u,r=n.forwardSegs;if(void 0===n.forwardCoord)for(r.length?(r.sort(au),vt(r[0],t+1,i),n.forwardCoord=r[0].backwardCoord):n.forwardCoord=1,n.backwardCoord=n.forwardCoord-(n.forwardCoord-i)/(t+1),u=0;r.length>u;u++)vt(r[u],0,n.forwardCoord)}function hr(n,t,i){i=i||[];for(var r=0;t.length>r;r++)lu(n,t[r])&&i.push(t[r]);return i}function lu(n,t){return n.bottom>t.top&&n.top<t.bottom}function au(n,t){return t.forwardPressure-n.forwardPressure||(n.backwardCoord||0)-(t.backwardCoord||0)||at(n,t)}function u(i){function u(t){var i=g[t];return n.isPlainObject(i)&&!ii(t)?d(i,r.name):i}function p(n,t){return i.trigger.apply(i,[n,t||r].concat(Array.prototype.slice.call(arguments,2),[r]))}function it(n){var t=n.source||{};return c(n.startEditable,t.startEditable,u("eventStartEditable"),n.editable,t.editable,u("editable"))}function rt(n){var t=n.source||{};return c(n.durationEditable,t.durationEditable,u("eventDurationEditable"),n.editable,t.editable,u("editable"))}function ut(n,t,r,u){var f=i.mutateEvent(t,r,null);p("eventDrop",n,t,f.dateDelta,function(){f.undo();l()},u,{});l()}function ft(n,t,r,u){var f=i.mutateEvent(t,null,r);p("eventResize",n,t,f.durationDelta,function(){f.undo();l()},u,{});l()}function et(n){return t.isMoment(n)&&(n=n.day()),a[n]}function ot(){return f}function st(n,t,i){var r=n.clone();for(t=t||1;a[(r.day()+(i?t:0)+7)%7];)r.add(t,"days");return r}function ht(){var n=w.apply(null,arguments),t=e(n);return b(t)}function w(n,t){var i=r.colCnt,u=y?-1:1,f=y?i-1:0;return"object"==typeof n&&(t=n.col,n=n.row),n*i+(t*u+f)}function e(n){var t=r.start.day();return n+=v[t],7*Math.floor(n/f)+tt[(n%f+f)%f]-t}function b(n){return r.start.clone().add(n,"days")}function ct(n){var t=o(n),i=s(t);return h(i)}function o(n){return n.clone().stripTime().diff(r.start,"days")}function s(n){var t=r.start.day();return n+=t,Math.floor(n/7)*f+v[(n%7+7)%7]-v[t]}function h(n){var t=r.colCnt,i=y?-1:1,u=y?t-1:0,f=Math.floor(n/t),e=(n%t+t)%t*i+u;return{row:f,col:e}}function lt(n,t){for(var b=r.rowCnt,c=r.colCnt,l=[],a=k(n,t),v=o(a.start),y=o(a.end),d=s(v),g=s(y)-1,i=0;b>i;i++){var p=i*c,nt=p+c-1,u=Math.max(d,p),f=Math.min(g,nt);if(f>=u){var tt=h(u),it=h(f),w=[tt.col,it.col].sort(),rt=e(u)==v,ut=e(f)+1==y;l.push({row:i,leftCol:w[0],rightCol:w[1],isStart:rt,isEnd:ut})}}return l}function k(n,t){var i,r,u=n.clone().stripTime();return t&&(i=t.clone().stripTime(),r=+t.time(),r&&r>=vt&&i.add(1,"days")),(!t||u>=i)&&(i=u.clone().add(1,"days")),{start:u,end:i}}function at(n){var t=k(n.start,n.end);return t.end.diff(t.start,"days")>1}var r=this;r.calendar=i;r.opt=u;r.trigger=p;r.isEventDraggable=it;r.isEventResizable=rt;r.eventDrop=ut;r.eventResize=ft;var l=i.reportEventChange,g=i.options,vt=t.duration(g.nextDayThreshold);r.init();r.getEventTimeText=function(n,t){var r,f;return"object"==typeof n&&"object"==typeof t?(r=n,f=t,t=arguments[2]):(r=n.start,f=n.end),t=t||u("timeFormat"),f&&u("displayEventEnd")?i.formatRange(r,f,t):i.formatDate(r,t)};r.isHiddenDay=et;r.skipHiddenDays=st;r.getCellsPerWeek=ot;r.dateToCell=ct;r.dateToDayOffset=o;r.dayOffsetToCellOffset=s;r.cellOffsetToCell=h;r.cellToDate=ht;r.cellToCellOffset=w;r.cellOffsetToDayOffset=e;r.dayOffsetToDate=b;r.rangeToSegments=lt;r.isMultiDayEvent=at;var f,nt=u("hiddenDays")||[],a=[],v=[],tt=[],y=u("isRTL");(function(){u("weekends")===!1&&nt.push(0,6);for(var t=0,i=0;7>t;t++)v[t]=i,a[t]=-1!=n.inArray(t,nt),a[t]||(tt[i]=t,i++);if(f=i,!f)throw"invalid hiddenDays";})()}function vu(r){var u,f,e,s,o=i.dataAttrPrefix;return o&&(o+="-"),u=r.data(o+"event")||null,u&&(u="object"==typeof u?n.extend({},u):{},f=u.start,null==f&&(f=u.time),e=u.duration,s=u.stick,delete u.start,delete u.time,delete u.duration,delete u.stick),null==f&&(f=r.data(o+"start")),null==f&&(f=r.data(o+"time")),null==e&&(e=r.data(o+"duration")),null==s&&(s=r.data(o+"stick")),f=null!=f?t.duration(f):null,e=null!=e?t.duration(e):null,s=Boolean(s),{eventProps:u,startTime:f,duration:e,stick:s}}function h(n){u.call(this,n);this.dayGrid=new b(this);this.coordMap=this.dayGrid.coordMap}function yt(n){h.call(this,n)}function pt(n){h.call(this,n)}function wt(n){h.call(this,n)}function yu(n,t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")}function pu(n,t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}function v(n){u.call(this,n);this.timeGrid=new rt(this);this.opt("allDaySlot")?(this.dayGrid=new b(this),this.coordMap=new fr([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap}function bt(n){v.call(this,n)}function kt(n){v.call(this,n)}var k={lang:"en",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,titleFormat:{month:"MMMM YYYY",week:"ll",day:"LL"},columnFormat:{month:"ddd",week:pr,day:"dddd"},timeFormat:{"default":yr},displayEventEnd:{month:!1,basicWeek:!1,"default":!0},isRTL:!1,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},y={en:{columnFormat:{week:"ddd M/D"},dayPopoverFormat:"dddd, MMMM D"}},wu={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},i=n.fullCalendar={version:"2.2.0"},p=i.views={},ni,ar,ut,vr;n.fn.fullCalendar=function(t){var r=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(u,f){var s,o=n(f),e=o.data("fullCalendar");"string"==typeof t?e&&n.isFunction(e[t])&&(s=e[t].apply(e,r),u||(i=s),"destroy"===t&&o.removeData("fullCalendar")):e||(e=new wr(o,t),o.data("fullCalendar",e),e.render())}),i};i.langs=y;i.datepickerLang=function(t,i,r){var u=y[t];u||(u=y[t]={});w(u,{isRTL:r.isRTL,weekNumberTitle:r.weekHeader,titleFormat:{month:r.showMonthAfterYear?"YYYY["+r.yearSuffix+"] MMMM":"MMMM YYYY["+r.yearSuffix+"]"},defaultButtonText:{prev:ot(r.prevText),next:ot(r.nextText),today:ot(r.currentText)}});n.datepicker&&(n.datepicker.regional[i]=n.datepicker.regional[t]=r,n.datepicker.regional.en=n.datepicker.regional[""],n.datepicker.setDefaults(r))};i.lang=function(n,t){var i;t&&(i=y[n],i||(i=y[n]={}),w(i,t||{}));k.lang=n};i.sourceNormalizers=[];i.sourceFetchers=[];var bu={dataType:"json",cache:!1},ku=1,cr=["sun","mon","tue","wed","thu","fri","sat"];i.applyAll=it;var dt,gt,lr,du=/^\s*\d{4}-\d\d$/,gu=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,f=t.fn,s=n.extend({},f);i.moment=function(){return st(arguments)};i.moment.utc=function(){var n=st(arguments,!0);return n.hasTime()&&n.utc(),n};i.moment.parseZone=function(){return st(arguments,!0,!0)};f.clone=function(){var n=s.clone.apply(this,arguments);return wi(this,n),this._fullCalendar&&(n._fullCalendar=!0),n};f.time=function(n){if(!this._fullCalendar)return s.time.apply(this,arguments);if(null==n)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1;t.isDuration(n)||t.isMoment(n)||(n=t.duration(n));var i=0;return t.isDuration(n)&&(i=24*Math.floor(n.asDays())),this.hours(i+n.hours()).minutes(n.minutes()).seconds(n.seconds()).milliseconds(n.milliseconds())};f.stripTime=function(){var n=this.toArray();return this.utc(),gt(this,n.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0,this};f.hasTime=function(){return!this._ambigTime};f.stripZone=function(){var n=this.toArray(),t=this._ambigTime;return this.utc(),gt(this,n),t&&(this._ambigTime=!0),this._ambigZone=!0,this};f.hasZone=function(){return!this._ambigZone};f.zone=function(n){return null!=n&&(this._ambigTime=!1,this._ambigZone=!1),s.zone.apply(this,arguments)};f.local=function(){var n=this.toArray(),t=this._ambigZone;return s.local.apply(this,arguments),t&&lr(this,n),this};f.format=function(){return this._fullCalendar&&arguments[0]?ki(this,arguments[0]):this._ambigTime?a(this,"YYYY-MM-DD"):this._ambigZone?a(this,"YYYY-MM-DD[T]HH:mm:ss"):s.format.apply(this,arguments)};f.toISOString=function(){return this._ambigTime?a(this,"YYYY-MM-DD"):this._ambigZone?a(this,"YYYY-MM-DD[T]HH:mm:ss"):s.toISOString.apply(this,arguments)};f.isWithin=function(n,t){var i=ht([this,n,t]);return i[0]>=i[1]&&i[0]<i[2]};f.isSame=function(n,t){var r;return this._fullCalendar?t?(r=ht([this,n],!0),s.isSame.call(r[0],r[1],t)):(n=i.moment.parseZone(n),s.isSame.call(this,n)&&Boolean(this._ambigTime)===Boolean(n._ambigTime)&&Boolean(this._ambigZone)===Boolean(n._ambigZone)):s.isSame.apply(this,arguments)};n.each(["isBefore","isAfter"],function(n,t){f[t]=function(n,i){var r;return this._fullCalendar?(r=ht([this,n]),s[t].call(r[0],r[1],i)):s[t].apply(this,arguments)}});dt="_d"in t()&&"updateOffset"in t;gt=dt?function(n,i){n._d.setTime(Date.UTC.apply(Date,i));t.updateOffset(n,!1)}:bi;lr=dt?function(n,i){n._d.setTime(+new Date(i[0]||0,i[1]||0,i[2]||0,i[3]||0,i[4]||0,i[5]||0,i[6]||0));t.updateOffset(n,!1)}:bi;ni={t:function(n){return a(n,"a").charAt(0)},T:function(n){return a(n,"A").charAt(0)}};i.formatRange=gi;ar={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"};ut={};rr.prototype={isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var i=this,t=this.options;this.el=n('<div class="fc-popover"/>').addClass(t.className||"").css({top:0,left:0}).append(t.content).appendTo(t.parentEl);this.el.on("click",".fc-close",function(){i.hide()});t.autoHide&&n(document).on("mousedown",this.documentMousedownProxy=n.proxy(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!n(t.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide();this.el&&(this.el.remove(),this.el=null);n(document).off("mousedown",this.documentMousedownProxy)},position:function(){var f,e,o,t,i,r=this.options,h=this.el.offsetParent().offset(),c=this.el.outerWidth(),l=this.el.outerHeight(),s=n(window),u=hi(this.el);t=r.top||0;i=void 0!==r.left?r.left:void 0!==r.right?r.right-c:0;u.is(window)||u.is(document)?(u=s,f=0,e=0):(o=u.offset(),f=o.top,e=o.left);f+=s.scrollTop();e+=s.scrollLeft();r.viewportConstrain!==!1&&(t=Math.min(t,f+u.outerHeight()-l-this.margin),t=Math.max(t,f+this.margin),i=Math.min(i,e+u.outerWidth()-c-this.margin),i=Math.max(i,e+this.margin));this.el.css({top:t-h.top,left:i-h.left})},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))}};ur.prototype={grid:null,rows:null,cols:null,containerEl:null,minX:null,maxX:null,minY:null,maxY:null,build:function(){this.grid.buildCoords(this.rows=[],this.cols=[]);this.computeBounds()},getCell:function(n,t){var i,r=null,u=this.rows,f=this.cols,e=-1,o=-1;if(this.inBounds(n,t)){for(i=0;u.length>i;i++)if(t>=u[i][0]&&u[i][1]>t){e=i;break}for(i=0;f.length>i;i++)if(n>=f[i][0]&&f[i][1]>n){o=i;break}e>=0&&o>=0&&(r={row:e,col:o},r.grid=this.grid,r.date=this.grid.getCellDate(r))}return r},computeBounds:function(){var n;this.containerEl&&(n=this.containerEl.offset(),this.minX=n.left,this.maxX=n.left+this.containerEl.outerWidth(),this.minY=n.top,this.maxY=n.top+this.containerEl.outerHeight())},inBounds:function(n,t){return this.containerEl?n>=this.minX&&this.maxX>n&&t>=this.minY&&this.maxY>t:!0}};fr.prototype={coordMaps:null,build:function(){for(var t=this.coordMaps,n=0;t.length>n;n++)t[n].build()},getCell:function(n,t){for(var u=this.coordMaps,r=null,i=0;u.length>i&&!r;i++)r=u[i].getCell(n,t);return r}};nt.prototype={coordMap:null,options:null,isListening:!1,isDragging:!1,origCell:null,origDate:null,cell:null,date:null,mouseX0:null,mouseY0:null,mousemoveProxy:null,mouseupProxy:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,mousedown:function(n){li(n)&&(n.preventDefault(),this.startListening(n),this.options.distance||this.startDrag(n))},startListening:function(t){var i,r;this.isListening||(t&&this.options.scroll&&(i=hi(n(t.target)),i.is(window)||i.is(document)||(this.scrollEl=i,this.scrollHandlerProxy=pi(n.proxy(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),this.computeCoords(),t&&(r=this.getCell(t),this.origCell=r,this.origDate=r?r.date:null,this.mouseX0=t.pageX,this.mouseY0=t.pageY),n(document).on("mousemove",this.mousemoveProxy=n.proxy(this,"mousemove")).on("mouseup",this.mouseupProxy=n.proxy(this,"mouseup")).on("selectstart",this.preventDefault),this.isListening=!0,this.trigger("listenStart",t))},computeCoords:function(){this.coordMap.build();this.computeScrollBounds()},mousemove:function(n){var t,i;this.isDragging||(t=this.options.distance||1,i=Math.pow(n.pageX-this.mouseX0,2)+Math.pow(n.pageY-this.mouseY0,2),i>=t*t&&this.startDrag(n));this.isDragging&&this.drag(n)},startDrag:function(n){var t;this.isListening||this.startListening();this.isDragging||(this.isDragging=!0,this.trigger("dragStart",n),t=this.getCell(n),t&&this.cellOver(t,!0))},drag:function(n){var t;this.isDragging&&(t=this.getCell(n),tu(t,this.cell)||(this.cell&&this.cellOut(),t&&this.cellOver(t)),this.dragScroll(n))},cellOver:function(n){this.cell=n;this.date=n.date;this.trigger("cellOver",n,n.date)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cell=null,this.date=null)},mouseup:function(n){this.stopDrag(n);this.stopListening(n)},stopDrag:function(n){this.isDragging&&(this.stopScrolling(),this.trigger("dragStop",n),this.isDragging=!1)},stopListening:function(t){this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),n(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.trigger("listenStop",t),this.origCell=this.cell=null,this.origDate=this.date=null)},getCell:function(n){return this.coordMap.getCell(n.pageX,n.pageY)},trigger:function(n){this.options[n]&&this.options[n].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(n){n.preventDefault()},computeScrollBounds:function(){var n,t=this.scrollEl;t&&(n=t.offset(),this.scrollBounds={top:n.top,left:n.left,bottom:n.top+t.outerHeight(),right:n.left+t.outerWidth()})},dragScroll:function(n){var r,u,f,e,t=this.scrollSensitivity,i=this.scrollBounds,o=0,s=0;i&&(r=(t-(n.pageY-i.top))/t,u=(t-(i.bottom-n.pageY))/t,f=(t-(n.pageX-i.left))/t,e=(t-(i.right-n.pageX))/t,r>=0&&1>=r?o=-1*r*this.scrollSpeed:u>=0&&1>=u&&(o=u*this.scrollSpeed),f>=0&&1>=f?s=-1*f*this.scrollSpeed:e>=0&&1>=e&&(s=e*this.scrollSpeed));this.setScrollVel(o,s)},setScrollVel:function(t,i){this.scrollTopVel=t;this.scrollLeftVel=i;this.constrainScrollVel();!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(n.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var n=this.scrollEl;0>this.scrollTopVel?0>=n.scrollTop()&&(this.scrollTopVel=0):this.scrollTopVel>0&&n.scrollTop()+n[0].clientHeight>=n[0].scrollHeight&&(this.scrollTopVel=0);0>this.scrollLeftVel?0>=n.scrollLeft()&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&n.scrollLeft()+n[0].clientWidth>=n[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var n=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&n.scrollTop(n.scrollTop()+this.scrollTopVel*t);this.scrollLeftVel&&n.scrollLeft(n.scrollLeft()+this.scrollLeftVel*t);this.constrainScrollVel();this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.computeCoords())},scrollHandler:function(){this.scrollIntervalId||this.computeCoords()}};er.prototype={options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,start:function(t){this.isFollowing||(this.isFollowing=!0,this.mouseY0=t.pageY,this.mouseX0=t.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),n(document).on("mousemove",this.mousemoveProxy=n.proxy(this,"mousemove")))},stop:function(t,i){function r(){this.isAnimating=!1;f.destroyEl();this.top0=this.left0=null;i&&i()}var f=this,u=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,n(document).off("mousemove",this.mousemoveProxy),t&&u&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:u,complete:r})):r())},getEl:function(){var n=this.el;return n||(this.sourceEl.width(),n=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),n},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var n,t;this.getEl();null===this.top0&&(this.sourceEl.width(),n=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=n.top-t.top,this.left0=n.left-t.left);this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(n){this.topDelta=n.pageY-this.mouseY0;this.leftDelta=n.pageX-this.mouseX0;this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}};lt.prototype={view:null,cellHtml:"<td/>",rowHtml:function(n,t){var i,u,f=this.view,e=this.getHtmlRenderer("cell",n),r="";for(t=t||0,i=0;f.colCnt>i;i++)u=f.cellToDate(t,i),r+=e(t,i,u);return r=this.bookendCells(r,n,t),"<tr>"+r+"<\/tr>"},bookendCells:function(n,t,i){var s=this.view,r=this.getHtmlRenderer("intro",t)(i||0),u=this.getHtmlRenderer("outro",t)(i||0),f=s.opt("isRTL"),e=f?u:r,o=f?r:u;return"string"==typeof n?e+n+o:n.prepend(e).append(o)},getHtmlRenderer:function(n,t){var e,r,u,i,f=this.view;return e=n+"Html",t&&(r=t+yi(n)+"Html"),r&&(i=f[r])?u=f:r&&(i=this[r])?u=this:(i=f[e])?u=f:(i=this[e])&&(u=this),"function"==typeof i?function(){return i.apply(u,arguments)||""}:function(){return i||""}}};o.prototype=e(lt.prototype);n.extend(o.prototype,{el:null,coordMap:null,cellDuration:null,elsByFill:null,render:function(){this.bindHandlers()},destroy:function(){},buildCoords:function(){},getCellDate:function(){},getCellDayEl:function(){},rangeToSegs:function(){},bindHandlers:function(){var t=this;this.el.on("mousedown",function(i){n(i.target).is(".fc-event-container *, .fc-more")||n(i.target).closest(".fc-popover").length||t.dayMousedown(i)});this.bindSegHandlers()},dayMousedown:function(n){var r,u,o,f=this,i=this.view,h=i.calendar,s=i.opt("selectable"),t=null,e=new nt(this.coordMap,{scroll:i.opt("dragScroll"),dragStart:function(){i.unselect()},cellOver:function(n,i){e.origDate&&(o=f.getCellDayEl(n),t=[i,e.origDate].sort(gr),r=t[0],u=t[1].clone().add(f.cellDuration),s&&(h.isSelectionAllowedInRange(r,u)?f.renderSelection(r,u):(t=null,tt())))},cellOut:function(){t=null;f.destroySelection();l()},listenStop:function(n){t&&(t[0].isSame(t[1])&&i.trigger("dayClick",o[0],r,n),s&&i.reportSelection(r,u,n));l()}});e.mousedown(n)},renderDrag:function(){},destroyDrag:function(){},renderResize:function(){},destroyResize:function(){},renderRangeHelper:function(n,t,i){var r,u=this.view;!t&&u.opt("forceEventDuration")&&(t=u.calendar.getDefaultEventEnd(!n.hasTime(),n));r=i?e(i.event):{};r.start=n;r.end=t;r.allDay=!(n.hasTime()||t&&t.hasTime());r.className=(r.className||[]).concat("fc-helper");i||(r.editable=!1);this.renderHelper(r,i)},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(n,t){this.renderHighlight(n,t)},destroySelection:function(){this.destroyHighlight()},renderHighlight:function(n,t){this.renderFill("highlight",this.rangeToSegs(n,t))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(n){var t=this.elsByFill[n];t&&(t.remove(),delete this.elsByFill[n])},renderFillSegEls:function(t,i){var r,u=this,f=this[t+"SegEl"],e="",o=[];if(i.length){for(r=0;i.length>r;r++)e+=this.fillSegHtml(t,i[r]);n(e).each(function(t,r){var s=i[t],e=n(r);f&&(e=f.call(u,s,e));e&&(e=n(e),e.is(u.fillSegTag)&&(s.el=e,o.push(s)))})}return o},fillSegTag:"div",fillSegHtml:function(n,t){var i=this[n+"SegClasses"],r=this[n+"SegStyles"],u=i?i.call(this,t):[],f=r?r.call(this,t):"";return"<"+this.fillSegTag+(u.length?' class="'+u.join(" ")+'"':"")+(f?' style="'+f+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"<\/thead><\/table><\/div>"},headCellHtml:function(n,t,i){var u=this.view,f=u.calendar,e=u.opt("columnFormat");return'<th class="fc-day-header '+u.widgetHeaderClass+" fc-"+cr[i.day()]+'">'+r(f.formatDate(i,e))+"<\/th>"},bgCellHtml:function(n,t,i){var u=this.view,r=this.getDayClasses(i);return r.unshift("fc-day",u.widgetContentClass),'<td class="'+r.join(" ")+'" data-date="'+i.format()+'"><\/td>'},getDayClasses:function(n){var i=this.view,r=i.calendar.getNow().stripTime(),t=["fc-"+cr[n.day()]];return"month"===i.name&&n.month()!=i.intervalStart.month()&&t.push("fc-other-month"),n.isSame(r,"day")?t.push("fc-today",i.highlightStateClass):r>n?t.push("fc-past"):t.push("fc-future"),t}});n.extend(o.prototype,{mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,segs:null,renderEvents:function(n){for(var u,f=this.eventsToSegs(n),t=[],i=[],r=0;f.length>r;r++)u=f[r],iu(u.event)?t.push(u):i.push(u);t=this.renderBgSegs(t)||t;i=this.renderFgSegs(i)||i;this.segs=t.concat(i)},destroyEvents:function(){this.triggerSegMouseout();this.destroyFgSegs();this.destroyBgSegs();this.segs=null},getSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(t,i){var r,e=this.view,u="",f=[];if(t.length){for(r=0;t.length>r;r++)u+=this.fgSegHtml(t[r],i);n(u).each(function(i,r){var u=t[i],o=e.resolveEventEl(u.event,n(r));o&&(o.data("fc-seg",u),u.el=o,f.push(u))})}return f},fgSegHtml:function(){},renderBgSegs:function(n){return this.renderFill("bgEvent",n)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(n,t){return this.view.resolveEventEl(n.event,t)},bgEventSegClasses:function(n){var t=n.event,i=t.source||{};return["fc-bgevent"].concat(t.className,i.className||[])},bgEventSegStyles:function(n){var i=this.view,t=n.event,r=t.source||{},f=t.color,e=r.color,o=i.opt("eventColor"),u=t.backgroundColor||f||r.backgroundColor||e||i.opt("eventBackgroundColor")||o;return u?"background-color:"+u:""},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var t=this,i=this.view;n.each({mouseenter:function(n,i){t.triggerSegMouseover(n,i)},mouseleave:function(n,i){t.triggerSegMouseout(n,i)},click:function(n,t){return i.trigger("eventClick",this,n.event,t)},mousedown:function(r,u){n(u.target).is(".fc-resizer")&&i.isEventResizable(r.event)?t.segResizeMousedown(r,u):i.isEventDraggable(r.event)&&t.segDragMousedown(r,u)}},function(i,r){t.el.on(i,".fc-event-container > *",function(i){var u=n(this).data("fc-seg");if(u&&!t.isDraggingSeg&&!t.isResizingSeg)return r.call(this,u,i)})})},triggerSegMouseover:function(n,t){this.mousedOverSeg||(this.mousedOverSeg=n,this.view.trigger("eventMouseover",n.el[0],n.event,t))},triggerSegMouseout:function(n,t){t=t||{};this.mousedOverSeg&&(n=n||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",n.el[0],n.event,t))},segDragMousedown:function(n,t){var r,s,e=this,i=this.view,c=i.calendar,o=n.el,f=n.event,u=new er(n.el,{parentEl:i.el,opacity:i.opt("dragOpacity"),revertDuration:i.opt("dragRevertDuration"),zIndex:2}),h=new nt(i.coordMap,{distance:5,scroll:i.opt("dragScroll"),listenStart:function(n){u.hide();u.start(n)},dragStart:function(t){e.triggerSegMouseout(n,t);e.isDraggingSeg=!0;i.hideEvent(f);i.trigger("eventDragStart",o[0],f,t,{})},cellOver:function(t,o){var a=n.cellDate||h.origDate,l=e.computeDraggedEventDates(n,a,o);r=l.start;s=l.end;c.isEventAllowedInRange(f,r,l.visibleEnd)?i.renderDrag(r,s,n)?u.hide():u.show():(r=null,u.show(),tt())},cellOut:function(){r=null;i.destroyDrag();u.show();l()},dragStop:function(n){var t=r&&!r.isSame(f.start);u.stop(!t,function(){e.isDraggingSeg=!1;i.destroyDrag();i.showEvent(f);i.trigger("eventDragStop",o[0],f,n,{});t&&i.eventDrop(o[0],f,r,n)});l()},listenStop:function(){u.stop()}});h.mousedown(t)},computeDraggedEventDates:function(n,t,i){var e,r,u,o,s,h=this.view,f=n.event,c=f.start,l=h.calendar.getEventEnd(f);return i.hasTime()===t.hasTime()?(e=g(i,t),r=c.clone().add(e),u=null===f.end?null:l.clone().add(e),o=f.allDay):(r=i,u=null,o=!i.hasTime()),s=u||h.calendar.getDefaultEventEnd(o,r),{start:r,end:u,visibleEnd:s}},segResizeMousedown:function(n,t){function e(){f.destroyResize();r.showEvent(u)}var h,f=this,r=this.view,c=r.calendar,s=n.el,u=n.event,o=u.start,a=r.calendar.getEventEnd(u),i=null;h=new nt(this.coordMap,{distance:5,scroll:r.opt("dragScroll"),dragStart:function(t){f.triggerSegMouseout(n,t);f.isResizingSeg=!0;r.trigger("eventResizeStart",s[0],u,t,{})},cellOver:function(t,s){s.isBefore(o)&&(s=o);i=s.clone().add(f.cellDuration);c.isEventAllowedInRange(u,o,i)?i.isSame(a)?(i=null,e()):(f.renderResize(o,i,n),r.hideEvent(u)):(i=null,e(),tt())},cellOut:function(){i=null;e();l()},dragStop:function(n){f.isResizingSeg=!1;e();l();r.trigger("eventResizeStop",s[0],u,n,{});i&&r.eventResize(s[0],u,i,n)}});h.mousedown(t)},getSegClasses:function(n,t,i){var r=n.event,u=["fc-event",n.isStart?"fc-start":"fc-not-start",n.isEnd?"fc-end":"fc-not-end"].concat(r.className,r.source?r.source.className:[]);return t&&u.push("fc-draggable"),i&&u.push("fc-resizable"),u},getEventSkinCss:function(n){var t=this.view,i=n.source||{},u=n.color,f=i.color,e=t.opt("eventColor"),o=n.backgroundColor||u||i.backgroundColor||f||t.opt("eventBackgroundColor")||e,s=n.borderColor||u||i.borderColor||f||t.opt("eventBorderColor")||e,h=n.textColor||i.textColor||t.opt("eventTextColor"),r=[];return o&&r.push("background-color:"+o),s&&r.push("border-color:"+s),h&&r.push("color:"+h),r.join(";")},eventsToSegs:function(n,t){for(var u=this.eventsToRanges(n),r=[],i=0;u.length>i;i++)r.push.apply(r,this.eventRangeToSegs(u[i],t));return r},eventsToRanges:function(t){var r=this,u=uu(t),i=[];return n.each(u,function(n,t){t.length&&i.push.apply(i,ru(t[0])?r.eventsToInverseRanges(t):r.eventsToNormalRanges(t))}),i},eventsToNormalRanges:function(n){for(var i,r,u,e=this.view.calendar,f=[],t=0;n.length>t;t++)i=n[t],r=i.start.clone().stripZone(),u=e.getEventEnd(i).stripZone(),f.push({event:i,start:r,end:u,eventStartMS:+r,eventDurationMS:u-r});return f},eventsToInverseRanges:function(n){var i,r,e=this.view,h=e.start.clone().stripZone(),o=e.end.clone().stripZone(),u=this.eventsToNormalRanges(n),f=[],s=n[0],t=h;for(u.sort(fu),i=0;u.length>i;i++)r=u[i],r.start>t&&f.push({event:s,start:t,end:r.start}),t=r.end;return o>t&&f.push({event:s,start:t,end:o}),f},eventRangeToSegs:function(n,t){for(var u,i=t?t(n.start,n.end):this.rangeToSegs(n.start,n.end),r=0;i.length>r;r++)u=i[r],u.event=n.event,u.eventStartMS=n.eventStartMS,u.eventDurationMS=n.eventDurationMS;return i}});b.prototype=e(o.prototype);n.extend(b.prototype,{numbersVisible:!1,cellDuration:t.duration({days:1}),bottomCoordPadding:0,rowEls:null,dayEls:null,helperEls:null,render:function(t){for(var i=this.view,u="",r=0;i.rowCnt>r;r++)u+=this.dayRowHtml(r,t);this.el.html(u);this.rowEls=this.el.find(".fc-row");this.dayEls=this.el.find(".fc-day");this.dayEls.each(function(t,r){var u=i.cellToDate(Math.floor(t/i.colCnt),t%i.colCnt);i.trigger("dayRender",null,u,n(r))});o.prototype.render.call(this)},destroy:function(){this.destroySegPopover()},dayRowHtml:function(n,t){var r=this.view,i=["fc-row","fc-week",r.widgetContentClass];return t&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",n)+'<\/table><\/div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",n)+"<\/thead>":"")+"<\/table><\/div><\/div>"},dayCellHtml:function(n,t,i){return this.bgCellHtml(n,t,i)},buildCoords:function(t,i){var f,r,u,e=this.view.colCnt;this.dayEls.slice(0,e).each(function(t,e){f=n(e);r=f.offset().left;t&&(u[1]=r);u=[r];i[t]=u});u[1]=r+f.outerWidth();this.rowEls.each(function(i,e){f=n(e);r=f.offset().top;i&&(u[1]=r);u=[r];t[i]=u});u[1]=r+f.outerHeight()+this.bottomCoordPadding},getCellDate:function(n){return this.view.cellToDate(n)},getCellDayEl:function(n){return this.dayEls.eq(n.row*this.view.colCnt+n.col)},rangeToSegs:function(n,t){return this.view.rangeToSegments(n,t)},renderDrag:function(n,t,i){var r;return this.renderHighlight(n,t||this.view.calendar.getDefaultEventEnd(!0,n)),i&&!i.el.closest(this.el).length?(this.renderRangeHelper(n,t,i),r=this.view.opt("dragOpacity"),void 0!==r&&this.helperEls.css("opacity",r),!0):void 0},destroyDrag:function(){this.destroyHighlight();this.destroyHelper()},renderResize:function(n,t,i){this.renderHighlight(n,t);this.renderRangeHelper(n,t,i)},destroyResize:function(){this.destroyHighlight();this.destroyHelper()},renderHelper:function(t,i){var u,f=[],r=this.eventsToSegs([t]);r=this.renderFgSegEls(r);u=this.renderSegRows(r);this.rowEls.each(function(t,r){var o,s=n(r),e=n('<div class="fc-helper-skeleton"><table/><\/div>');o=i&&i.row===t?i.el.position().top:s.find(".fc-content-skeleton tbody").position().top;e.css("top",o).find("table").append(u[t].tbodyEl);s.append(e);f.push(e[0])});this.helperEls=n(f)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,i){var r,u,f,e=[];for(i=this.renderFillSegEls(t,i),r=0;i.length>r;r++)u=i[r],f=this.renderFillRow(t,u),this.rowEls.eq(u.row).append(f),e.push(f[0]);return this.elsByFill[t]=n(e),i},renderFillRow:function(t,i){var u,r,o=this.view.colCnt,f=i.leftCol,e=i.rightCol+1;return u=n('<div class="fc-'+t.toLowerCase()+'-skeleton"><table><tr/><\/table><\/div>'),r=u.find("tr"),f>0&&r.append('<td colspan="'+f+'"/>'),r.append(i.el.attr("colspan",e-f)),o>e&&r.append('<td colspan="'+(o-e)+'"/>'),this.bookendCells(r,t),u}});n.extend(b.prototype,{rowStructs:null,destroyEvents:function(){this.destroySegPopover();o.prototype.destroyEvents.apply(this,arguments)},getSegs:function(){return o.prototype.getSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var i=n.grep(t,function(n){return n.event.allDay});return o.prototype.renderBgSegs.call(this,i)},renderFgSegs:function(t){var i;return t=this.renderFgSegEls(t),i=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,r){n(r).find(".fc-content-skeleton > table").append(i[t].tbodyEl)}),t},destroyFgSegs:function(){for(var n,t=this.rowStructs||[];n=t.pop();)n.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(n){for(var r=[],i=this.groupSegRows(n),t=0;i.length>t;t++)r.push(this.renderSegRow(t,i[t]));return r},fgSegHtml:function(n,t){var f,u=this.view,c=u.opt("isRTL"),i=n.event,l=u.isEventDraggable(i),o=!t&&i.allDay&&n.isEnd&&u.isEventResizable(i),s=this.getSegClasses(n,l,o),h=this.getEventSkinCss(i),e="";return s.unshift("fc-day-grid-event"),!i.allDay&&n.isStart&&(e='<span class="fc-time">'+r(u.getEventTimeText(i))+"<\/span>"),f='<span class="fc-title">'+(r(i.title||"")||"&nbsp;")+"<\/span>",'<a class="'+s.join(" ")+'"'+(i.url?' href="'+r(i.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(c?f+" "+e:e+" "+f)+"<\/div>"+(o?'<div class="fc-resizer"/>':"")+"<\/a>"},renderSegRow:function(t,i){function y(t){for(;t>u;)r=(l[f-1]||[])[u],r?r.attr("rowspan",parseInt(r.attr("rowspan")||1,10)+1):(r=n("<td/>"),o.append(r)),c[f][u]=r,l[f][u]=r,u++}for(var s,u,o,h,e,r,w=this.view,b=w.colCnt,a=this.buildSegLevels(i),k=Math.max(1,a.length),p=n("<tbody/>"),v=[],c=[],l=[],f=0;k>f;f++){if(s=a[f],u=0,o=n("<tr/>"),v.push([]),c.push([]),l.push([]),s)for(h=0;s.length>h;h++){for(e=s[h],y(e.leftCol),r=n('<td class="fc-event-container"/>').append(e.el),e.leftCol!=e.rightCol?r.attr("colspan",e.rightCol-e.leftCol+1):l[f][u]=r;e.rightCol>=u;)c[f][u]=r,v[f][u]=e,u++;o.append(r)}y(b);this.bookendCells(o,"eventSkeleton");p.append(o)}return{row:t,tbodyEl:p,cellMatrix:c,segMatrix:v,segLevels:a,segs:i}},buildSegLevels:function(n){var r,u,t,i=[];for(n.sort(at),r=0;n.length>r;r++){for(u=n[r],t=0;i.length>t&&eu(u,i[t]);t++);u.level=t;(i[t]||(i[t]=[])).push(u)}for(t=0;i.length>t;t++)i[t].sort(ou);return i},groupSegRows:function(n){for(var r=this.view,i=[],t=0;r.rowCnt>t;t++)i.push([]);for(t=0;n.length>t;t++)i[n[t].row].push(n[t]);return i}});n.extend(b.prototype,{segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(n){for(var i,r=this.rowStructs||[],t=0;r.length>t;t++)this.unlimitRow(t),i=n?"number"==typeof n?n:this.computeRowLevelLimit(t):!1,i!==!1&&this.limitRow(t,i)},computeRowLevelLimit:function(n){for(var i,u=this.rowEls.eq(n),f=u.height(),r=this.rowStructs[n].tbodyEl.children(),t=0;r.length>t;t++)if(i=r.eq(t).removeClass("fc-limited"),i.position().top+i.outerHeight()>f)return t;return!1},limitRow:function(t,i){function nt(e){for(;e>f;)u={row:t,col:f},r=it.getCellSegs(u,i),r.length&&(o=w[i-1][f],y=it.renderMoreLink(u,r),c=n("<div/>").append(y),o.append(c),g.push(c[0])),f++}var u,p,w,b,l,e,r,k,a,o,tt,d,h,v,c,y,it=this,rt=this.view,s=this.rowStructs[t],g=[],f=0;if(i&&s.segLevels.length>i){for(p=s.segLevels[i-1],w=s.cellMatrix,b=s.tbodyEl.children().slice(i).addClass("fc-limited").get(),l=0;p.length>l;l++){for(e=p[l],nt(e.leftCol),a=[],k=0;e.rightCol>=f;)u={row:t,col:f},r=this.getCellSegs(u,i),a.push(r),k+=r.length,f++;if(k){for(o=w[i-1][e.leftCol],tt=o.attr("rowspan")||1,d=[],h=0;a.length>h;h++)v=n('<td class="fc-more-cell"/>').attr("rowspan",tt),r=a[h],u={row:t,col:e.leftCol+h},y=this.renderMoreLink(u,[e].concat(r)),c=n("<div/>").append(y),v.append(c),d.push(v[0]),g.push(v[0]);o.addClass("fc-limited").after(n(d));b.push(o[0])}}nt(rt.colCnt);s.moreEls=n(g);s.limitedEls=n(b)}},unlimitRow:function(n){var t=this.rowStructs[n];t.moreEls&&(t.moreEls.remove(),t.moreEls=null);t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,i){var r=this,u=this.view;return n('<a class="fc-more"/>').text(this.getMoreLinkText(i.length)).on("click",function(f){var e=u.opt("eventLimitClick"),o=u.cellToDate(t),s=n(this),c=r.getCellDayEl(t),l=r.getCellSegs(t),h=r.resliceDaySegs(l,o),a=r.resliceDaySegs(i,o);"function"==typeof e&&(e=u.trigger("eventLimitClick",null,{date:o,dayEl:c,moreEl:s,segs:h,hiddenSegs:a},f));"popover"===e?r.showSegPopover(o,t,s,h):"string"==typeof e&&u.calendar.zoomTo(o,e)})},showSegPopover:function(n,t,i,r){var s,u,f=this,e=this.view,o=i.parent();s=1==e.rowCnt?this.view.el:this.rowEls.eq(t.row);u={className:"fc-more-popover",content:this.renderSegPopoverContent(n,r),parentEl:this.el,top:s.offset().top,autoHide:!0,viewportConstrain:e.opt("popoverViewportConstrain"),hide:function(){f.segPopover.destroy();f.segPopover=null;f.popoverSegs=null}};e.opt("isRTL")?u.right=o.offset().left+o.outerWidth()+1:u.left=o.offset().left-1;this.segPopover=new rr(u);this.segPopover.show()},renderSegPopoverContent:function(t,i){var u,f=this.view,o=f.opt("theme"),s=t.format(f.opt("dayPopoverFormat")),e=n('<div class="fc-header '+f.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"><\/span><span class="fc-title">'+r(s)+'<\/span><div class="fc-clear"/><\/div><div class="fc-body '+f.widgetContentClass+'"><div class="fc-event-container"><\/div><\/div>'),h=e.find(".fc-event-container");for(i=this.renderFgSegEls(i,!0),this.popoverSegs=i,u=0;i.length>u;u++)i[u].cellDate=t,h.append(i[u].el);return e},resliceDaySegs:function(t,i){var u=n.map(t,function(n){return n.event}),r=i.clone().stripTime(),f=r.clone().add(1,"days");return this.eventsToSegs(u,function(n,t){var i=ai(n,t,r,f);return i?[i]:[]})},getMoreLinkText:function(n){var i=this.view,t=i.opt("eventLimitText");return"function"==typeof t?t(n):"+"+n+" "+t},getCellSegs:function(n,t){for(var i,u=this.rowStructs[n.row].segMatrix,r=t||0,f=[];u.length>r;)i=u[r][n.col],i&&f.push(i),r++;return f}});rt.prototype=e(o.prototype);n.extend(rt.prototype,{slotDuration:null,snapDuration:null,minTime:null,maxTime:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,render:function(){this.processOptions();this.el.html(this.renderHtml());this.dayEls=this.el.find(".fc-day");this.slatEls=this.el.find(".fc-slats tr");this.computeSlatTops();this.renderBusinessHours();o.prototype.render.call(this)},renderBusinessHours:function(){var n=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(n),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'<\/table><\/div><div class="fc-slats"><table>'+this.slatRowHtml()+"<\/table><\/div>"},slotBgCellHtml:function(n,t,i){return this.bgCellHtml(n,t,i)},slatRowHtml:function(){for(var i,u,f,n=this.view,h=n.calendar,o=n.opt("isRTL"),s="",c=0==this.slotDuration.asMinutes()%15,e=t.duration(+this.minTime);this.maxTime>e;)i=n.start.clone().time(e),u=i.minutes(),f='<td class="fc-axis fc-time '+n.widgetContentClass+'" '+n.axisStyleAttr()+">"+(c&&u?"":"<span>"+r(h.formatDate(i,n.opt("axisFormat")))+"<\/span>")+"<\/td>",s+="<tr "+(u?'class="fc-minor"':"")+">"+(o?"":f)+'<td class="'+n.widgetContentClass+'"/>'+(o?f:"")+"<\/tr>",e.add(this.slotDuration);return s},processOptions:function(){var i=this.view,r=i.opt("slotDuration"),n=i.opt("snapDuration");r=t.duration(r);n=n?t.duration(n):r;this.slotDuration=r;this.snapDuration=n;this.cellDuration=n;this.minTime=t.duration(i.opt("minTime"));this.maxTime=t.duration(i.opt("maxTime"))},rangeToSegs:function(n,t){var r,i,u,f,e,o=this.view,s=[];for(n=n.clone().stripZone(),t=t.clone().stripZone(),i=0;o.colCnt>i;i++)u=o.cellToDate(0,i),f=u.clone().time(this.minTime),e=u.clone().time(this.maxTime),r=ai(n,t,f,e),r&&(r.col=i,s.push(r));return s},resize:function(){this.computeSlatTops();this.updateSegVerticals()},buildCoords:function(i,r){var o,f,h=this.view.colCnt,s=this.el.offset().top,e=t.duration(+this.minTime),u=null;for(this.dayEls.slice(0,h).each(function(t,i){o=n(i);f=o.offset().left;u&&(u[1]=f);u=[f];r[t]=u}),u[1]=f+o.outerWidth(),u=null;this.maxTime>e;)f=s+this.computeTimeTop(e),u&&(u[1]=f),u=[f],i.push(u),e.add(this.snapDuration);u[1]=s+this.computeTimeTop(e)},getCellDate:function(n){var t=this.view,i=t.calendar;return i.rezoneDate(t.cellToDate(0,n.col).time(this.minTime+this.snapDuration*n.row))},getCellDayEl:function(n){return this.dayEls.eq(n.col)},computeDateTop:function(n,i){return this.computeTimeTop(t.duration(n.clone().stripZone()-i.clone().stripTime()))},computeTimeTop:function(n){var i,u,r,f,t=(n-this.minTime)/this.slotDuration;return t=Math.max(0,t),t=Math.min(this.slatEls.length,t),i=Math.floor(t),u=t-i,r=this.slatTops[i],u?(f=this.slatTops[i+1],r+(f-r)*u):r},computeSlatTops:function(){var t,i=[];this.slatEls.each(function(r,u){t=n(u).position().top;i.push(t)});i.push(t+this.slatEls.last().outerHeight());this.slatTops=i},renderDrag:function(n,t,i){var r;return i?(this.renderRangeHelper(n,t,i),r=this.view.opt("dragOpacity"),void 0!==r&&this.helperEl.css("opacity",r),!0):(this.renderHighlight(n,t||this.view.calendar.getDefaultEventEnd(!1,n)),void 0)},destroyDrag:function(){this.destroyHelper();this.destroyHighlight()},renderResize:function(n,t,i){this.renderRangeHelper(n,t,i)},destroyResize:function(){this.destroyHelper()},renderHelper:function(t,i){var o,f,e,r,u=this.eventsToSegs([t]);for(u=this.renderFgSegEls(u),o=this.renderSegTable(u),f=0;u.length>f;f++)e=u[f],i&&i.col===e.col&&(r=i.el,e.el.css({left:r.css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")}));this.helperEl=n('<div class="fc-helper-skeleton"/>').append(o).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(n,t){this.view.opt("selectHelper")?this.renderRangeHelper(n,t):this.renderHighlight(n,t)},destroySelection:function(){this.destroyHelper();this.destroyHighlight()},renderFill:function(t,i,r){var h,f,c,u,e,a,v,l,o,s,y=this.view;if(i.length){for(i=this.renderFillSegEls(t,i),h=this.groupSegCols(i),r=r||t.toLowerCase(),f=n('<div class="fc-'+r+'-skeleton"><table><tr/><\/table><\/div>'),c=f.find("tr"),u=0;h.length>u;u++)if(e=h[u],a=n("<td/>").appendTo(c),e.length)for(v=n('<div class="fc-'+r+'-container"/>').appendTo(a),l=y.cellToDate(0,u),o=0;e.length>o;o++)s=e[o],v.append(s.el.css({top:this.computeDateTop(s.start,l),bottom:-this.computeDateTop(s.end,l)}));this.bookendCells(c,t);this.el.append(f);this.elsByFill[t]=f}return i}});n.extend(rt.prototype,{eventSkeletonEl:null,renderFgSegs:function(t){return t=this.renderFgSegEls(t),this.el.append(this.eventSkeletonEl=n('<div class="fc-content-skeleton"/>').append(this.renderSegTable(t))),t},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(t){var e,r,i,u,f,o,s=n("<table><tr/><\/table>"),h=s.find("tr");for(e=this.groupSegCols(t),this.computeSegVerticals(t),u=0;e.length>u;u++){for(f=e[u],su(f),o=n('<div class="fc-event-container"/>'),r=0;f.length>r;r++)i=f[r],i.el.css(this.generateSegPositionCss(i)),30>i.bottom-i.top&&i.el.addClass("fc-short"),o.append(i.el);h.append(n("<td/>").append(o))}return this.bookendCells(h,"eventSkeleton"),s},updateSegVerticals:function(){var n,t=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(t),n=0;t.length>n;n++)t[n].el.css(this.generateSegVerticalCss(t[n]))},computeSegVerticals:function(n){for(var t,i=0;n.length>i;i++)t=n[i],t.top=this.computeDateTop(t.start,t.start),t.bottom=this.computeDateTop(t.end,t.start)},fgSegHtml:function(n,t){var f,e,o,u=this.view,i=n.event,l=u.isEventDraggable(i),s=!t&&n.isEnd&&u.isEventResizable(i),h=this.getSegClasses(n,l,s),c=this.getEventSkinCss(i);return h.unshift("fc-time-grid-event"),u.isMultiDayEvent(i)?(n.isStart||n.isEnd)&&(f=u.getEventTimeText(n.start,n.end),e=u.getEventTimeText(n.start,n.end,"LT"),o=u.getEventTimeText(n.start,null)):(f=u.getEventTimeText(i),e=u.getEventTimeText(i,"LT"),o=u.getEventTimeText(i.start,null)),'<a class="'+h.join(" ")+'"'+(i.url?' href="'+r(i.url)+'"':"")+(c?' style="'+c+'"':"")+'><div class="fc-content">'+(f?'<div class="fc-time" data-start="'+r(o)+'" data-full="'+r(e)+'"><span>'+r(f)+"<\/span><\/div>":"")+(i.title?'<div class="fc-title">'+r(i.title)+"<\/div>":"")+'<\/div><div class="fc-bg"/>'+(s?'<div class="fc-resizer"/>':"")+"<\/a>"},generateSegPositionCss:function(n){var u,f,e=this.view,o=e.opt("isRTL"),s=e.opt("slotEventOverlap"),i=n.backwardCoord,r=n.forwardCoord,t=this.generateSegVerticalCss(n);return s&&(r=Math.min(1,i+2*(r-i))),o?(u=1-r,f=i):(u=i,f=1-r),t.zIndex=n.level+1,t.left=100*u+"%",t.right=100*f+"%",s&&n.forwardPressure&&(t[o?"marginLeft":"marginRight"]=20),t},generateSegVerticalCss:function(n){return{top:n.top,bottom:-n.bottom}},groupSegCols:function(n){for(var r=this.view,i=[],t=0;r.colCnt>t;t++)i.push([]);for(t=0;n.length>t;t++)i[n[t].col].push(n[t]);return i}});u.prototype={calendar:null,coordMap:null,el:null,start:null,end:null,intervalStart:null,intervalEnd:null,rowCnt:null,colCnt:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,documentMousedownProxy:null,documentDragStartProxy:null,init:function(){var t=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=t+"-widget-header";this.widgetContentClass=t+"-widget-content";this.highlightStateClass=t+"-state-highlight";this.documentMousedownProxy=n.proxy(this,"documentMousedown");this.documentDragStartProxy=n.proxy(this,"documentDragStart")},render:function(){this.updateSize();this.trigger("viewRender",this,this,this.el);n(document).on("mousedown",this.documentMousedownProxy).on("dragstart",this.documentDragStartProxy)},destroy:function(){this.unselect();this.trigger("viewDestroy",this,this,this.el);this.destroyEvents();this.el.empty();n(document).off("mousedown",this.documentMousedownProxy).off("dragstart",this.documentDragStartProxy)},incrementDate:function(){},updateSize:function(n){n&&this.recordScroll();this.updateHeight();this.updateWidth()},updateWidth:function(){},updateHeight:function(){var n=this.calendar;this.setHeight(n.getSuggestedViewHeight(),n.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(n){var t,i=this.el.add(this.scrollerEl);return i.css({position:"relative",left:-1}),t=this.el.outerHeight()-this.scrollerEl.height(),i.css({position:"",left:""}),n-t},recordScroll:function(){this.scrollerEl&&(this.scrollTop=this.scrollerEl.scrollTop())},restoreScroll:function(){null!==this.scrollTop&&this.scrollerEl.scrollTop(this.scrollTop)},renderEvents:function(){this.segEach(function(n){this.trigger("eventAfterRender",n.event,n.event,n.el)});this.trigger("eventAfterAllRender")},destroyEvents:function(){this.segEach(function(n){this.trigger("eventDestroy",n.event,n.event,n.el)})},resolveEventEl:function(t,i){var r=this.trigger("eventRender",t,t,i);return r===!1?i=null:r&&r!==!0&&(i=n(r)),i},showEvent:function(n){this.segEach(function(n){n.el.css("visibility","")},n)},hideEvent:function(n){this.segEach(function(n){n.el.css("visibility","hidden")},n)},segEach:function(n,t){for(var r=this.getSegs(),i=0;r.length>i;i++)t&&r[i].event._id!==t._id||n.call(this,r[i])},getSegs:function(){},renderDrag:function(){},destroyDrag:function(){},documentDragStart:function(t){var u,o,r,f,a,e=this,s=this.calendar,i=null,h=null,c=null;this.opt("droppable")&&(u=n(t.target),o=this.opt("dropAccept"),(n.isFunction(o)?o.call(u[0],u):u.is(o))&&(r=vu(u),f=r.eventProps,a=new nt(this.coordMap,{cellOver:function(t,u){i=u;h=r.duration?i.clone().add(r.duration):null;c=h||s.getDefaultEventEnd(!i.hasTime(),i);f&&n.extend(f,{start:i,end:h});s.isExternalDragAllowedInRange(i,c,f)?e.renderDrag(i,c):(i=null,tt())},cellOut:function(){i=null;e.destroyDrag();l()}}),n(document).one("dragstop",function(n,t){var o;e.destroyDrag();l();i&&(r.startTime&&!i.hasTime()&&i.time(r.startTime),e.trigger("drop",u[0],i,n,t),f&&(o=s.renderEvent(f,r.stick),e.trigger("eventReceive",null,o[0])))}),a.startDrag(t)))},select:function(n,t,i){this.unselect(i);this.renderSelection(n,t);this.reportSelection(n,t,i)},renderSelection:function(){},reportSelection:function(n,t,i){this.isSelected=!0;this.trigger("select",null,n,t,i)},unselect:function(n){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,n))},destroySelection:function(){},documentMousedown:function(t){var i;this.isSelected&&this.opt("unselectAuto")&&li(t)&&(i=this.opt("unselectCancel"),i&&n(t.target).closest(i).length||this.unselect(t))}};i.dataAttrPrefix="";h.prototype=e(u.prototype);n.extend(h.prototype,{dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,render:function(n,t,i){this.rowCnt=n;this.colCnt=t;this.dayNumbersVisible=i;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderHtml());this.headRowEl=this.el.find("thead .fc-row");this.scrollerEl=this.el.find(".fc-day-grid-container");this.dayGrid.coordMap.containerEl=this.scrollerEl;this.dayGrid.el=this.el.find(".fc-day-grid");this.dayGrid.render(this.hasRigidRows());u.prototype.render.call(this)},destroy:function(){this.dayGrid.destroy();u.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'<\/td><\/tr><\/thead><tbody><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'},headIntroHtml:function(){if(this.weekNumbersVisible)return'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+r(this.opt("weekNumberTitle"))+"<\/span><\/th>"},numberIntroHtml:function(n){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.calendar.calculateWeekNumber(this.cellToDate(n,0))+"<\/span><\/td>"},dayIntroHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"><\/td>"},introHtml:function(){if(this.weekNumbersVisible)return'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><\/td>"},numberCellHtml:function(n,t,i){var r;return this.dayNumbersVisible?(r=this.dayGrid.getDayClasses(i),r.unshift("fc-day-number"),'<td class="'+r.join(" ")+'" data-date="'+i.format()+'">'+i.date()+"<\/td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var n=this.opt("eventLimit");return n&&"number"!=typeof n},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=oi(this.el.find(".fc-week-number")))},setHeight:function(n,t){var r,i=this.opt("eventLimit");et(this.scrollerEl);ui(this.headRowEl);this.dayGrid.destroySegPopover();i&&"number"==typeof i&&this.dayGrid.limitRows(i);r=this.computeScrollerHeight(n);this.setGridHeight(r,t);i&&"number"!=typeof i&&this.dayGrid.limitRows(i);!t&&si(this.scrollerEl,r)&&(ri(this.headRowEl,ci(this.scrollerEl)),r=this.computeScrollerHeight(n),this.scrollerEl.height(r),this.restoreScroll())},setGridHeight:function(n,t){t?ei(this.dayGrid.rowEls):fi(this.dayGrid.rowEls,n,!0)},renderEvents:function(n){this.dayGrid.renderEvents(n);this.updateHeight();u.prototype.renderEvents.call(this,n)},getSegs:function(){return this.dayGrid.getSegs()},destroyEvents:function(){u.prototype.destroyEvents.call(this);this.recordScroll();this.dayGrid.destroyEvents()},renderDrag:function(n,t,i){return this.dayGrid.renderDrag(n,t,i)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(n,t){this.dayGrid.renderSelection(n,t)},destroySelection:function(){this.dayGrid.destroySelection()}});ti({fixedWeekCount:!0});p.month=yt;yt.prototype=e(h.prototype);n.extend(yt.prototype,{name:"month",incrementDate:function(n,t){return n.clone().stripTime().add(t,"months").startOf("month")},render:function(n){var t;this.intervalStart=n.clone().stripTime().startOf("month");this.intervalEnd=this.intervalStart.clone().add(1,"months");this.start=this.intervalStart.clone();this.start=this.skipHiddenDays(this.start);this.start.startOf("week");this.start=this.skipHiddenDays(this.start);this.end=this.intervalEnd.clone();this.end=this.skipHiddenDays(this.end,-1,!0);this.end.add((7-this.end.weekday())%7,"days");this.end=this.skipHiddenDays(this.end,-1,!0);t=Math.ceil(this.end.diff(this.start,"weeks",!0));this.isFixedWeeks()&&(this.end.add(6-t,"weeks"),t=6);this.title=this.calendar.formatDate(this.intervalStart,this.opt("titleFormat"));h.prototype.render.call(this,t,this.getCellsPerWeek(),!0)},setGridHeight:function(n,t){t=t||"variable"===this.opt("weekMode");t&&(n*=this.rowCnt/6);fi(this.dayGrid.rowEls,n,!t)},isFixedWeeks:function(){var n=this.opt("weekMode");return n?"fixed"===n:this.opt("fixedWeekCount")}});p.basicWeek=pt;pt.prototype=e(h.prototype);n.extend(pt.prototype,{name:"basicWeek",incrementDate:function(n,t){return n.clone().stripTime().add(t,"weeks").startOf("week")},render:function(n){this.intervalStart=n.clone().stripTime().startOf("week");this.intervalEnd=this.intervalStart.clone().add(1,"weeks");this.start=this.skipHiddenDays(this.intervalStart);this.end=this.skipHiddenDays(this.intervalEnd,-1,!0);this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," — ");h.prototype.render.call(this,1,this.getCellsPerWeek(),!1)}});p.basicDay=wt;wt.prototype=e(h.prototype);n.extend(wt.prototype,{name:"basicDay",incrementDate:function(n,t){var i=n.clone().stripTime().add(t,"days");return this.skipHiddenDays(i,0>t?-1:1)},render:function(n){this.start=this.intervalStart=n.clone().stripTime();this.end=this.intervalEnd=this.start.clone().add(1,"days");this.title=this.calendar.formatDate(this.start,this.opt("titleFormat"));h.prototype.render.call(this,1,1,!1)}});ti({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",axisFormat:yu,timeFormat:{agenda:pu},minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0});vr=5;v.prototype=e(u.prototype);n.extend(v.prototype,{timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,render:function(t){this.rowCnt=1;this.colCnt=t;this.el.addClass("fc-agenda-view").html(this.renderHtml());this.scrollerEl=this.el.find(".fc-time-grid-container");this.timeGrid.coordMap.containerEl=this.scrollerEl;this.timeGrid.el=this.el.find(".fc-time-grid");this.timeGrid.render();this.bottomRuleEl=n('<hr class="'+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);this.dayGrid&&(this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight());this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)");u.prototype.render.call(this);this.resetScroll()},destroy:function(){this.timeGrid.destroy();this.dayGrid&&this.dayGrid.destroy();u.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'<\/td><\/tr><\/thead><tbody><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="'+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/><\/div><\/td><\/tr><\/tbody><\/table>'},headIntroHtml:function(){var i,n,t,u;return this.opt("weekNumbers")?(i=this.cellToDate(0,0),n=this.calendar.calculateWeekNumber(i),t=this.opt("weekNumberTitle"),u=this.opt("isRTL")?n+t:t+n,'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+r(u)+"<\/span><\/th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><\/th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||r(this.opt("allDayText")))+"<\/span><\/td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><\/td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"><\/td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(n){n&&this.timeGrid.resize();u.prototype.updateSize.call(this,n)},updateWidth:function(){this.axisWidth=oi(this.el.find(".fc-axis"))},setHeight:function(n,t){var i,r;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight());this.bottomRuleEl.hide();this.scrollerEl.css("overflow","");et(this.scrollerEl);ui(this.noScrollRowEls);this.dayGrid&&(this.dayGrid.destroySegPopover(),i=this.opt("eventLimit"),i&&"number"!=typeof i&&(i=vr),i&&this.dayGrid.limitRows(i));t||(r=this.computeScrollerHeight(n),si(this.scrollerEl,r)?(ri(this.noScrollRowEls,ci(this.scrollerEl)),r=this.computeScrollerHeight(n),this.scrollerEl.height(r),this.restoreScroll()):(this.scrollerEl.height(r).css("overflow","hidden"),this.bottomRuleEl.show()))},resetScroll:function(){function i(){r.scrollerEl.scrollTop(n)}var r=this,u=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(u);n=Math.ceil(n);n&&n++;i();setTimeout(i,0)},renderEvents:function(n){for(var f,i=[],r=[],e=[],t=0;n.length>t;t++)n[t].allDay?i.push(n[t]):r.push(n[t]);f=this.timeGrid.renderEvents(r);this.dayGrid&&(e=this.dayGrid.renderEvents(i));this.updateHeight();u.prototype.renderEvents.call(this,n)},getSegs:function(){return this.timeGrid.getSegs().concat(this.dayGrid?this.dayGrid.getSegs():[])},destroyEvents:function(){u.prototype.destroyEvents.call(this);this.recordScroll();this.timeGrid.destroyEvents();this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(n,t,i){return n.hasTime()?this.timeGrid.renderDrag(n,t,i):this.dayGrid?this.dayGrid.renderDrag(n,t,i):void 0},destroyDrag:function(){this.timeGrid.destroyDrag();this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(n,t){n.hasTime()||t.hasTime()?this.timeGrid.renderSelection(n,t):this.dayGrid&&this.dayGrid.renderSelection(n,t)},destroySelection:function(){this.timeGrid.destroySelection();this.dayGrid&&this.dayGrid.destroySelection()}});p.agendaWeek=bt;bt.prototype=e(v.prototype);n.extend(bt.prototype,{name:"agendaWeek",incrementDate:function(n,t){return n.clone().stripTime().add(t,"weeks").startOf("week")},render:function(n){this.intervalStart=n.clone().stripTime().startOf("week");this.intervalEnd=this.intervalStart.clone().add(1,"weeks");this.start=this.skipHiddenDays(this.intervalStart);this.end=this.skipHiddenDays(this.intervalEnd,-1,!0);this.title=this.calendar.formatRange(this.start,this.end.clone().subtract(1),this.opt("titleFormat")," — ");v.prototype.render.call(this,this.getCellsPerWeek())}});p.agendaDay=kt;kt.prototype=e(v.prototype);n.extend(kt.prototype,{name:"agendaDay",incrementDate:function(n,t){var i=n.clone().stripTime().add(t,"days");return this.skipHiddenDays(i,0>t?-1:1)},render:function(n){this.start=this.intervalStart=n.clone().stripTime();this.end=this.intervalEnd=this.start.clone().add(1,"days");this.title=this.calendar.formatDate(this.start,this.opt("titleFormat"));v.prototype.render.call(this,1)}})})