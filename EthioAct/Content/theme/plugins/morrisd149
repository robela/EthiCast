(function(n){var o="0.3.4",f="hasOwnProperty",e=/[\.\/]/,s="*",h=function(){},c=function(n,t){return n-t},r,i,u={n:{}},t=function(n,f){var k=u,w=i,v=Array.prototype.slice.call(arguments,2),s=t.listeners(n),a=0,e,l=[],y={},h=[],b=r,o,p;for(r=n,i=0,o=0,p=s.length;o<p;o++)"zIndex"in s[o]&&(l.push(s[o].zIndex),s[o].zIndex<0&&(y[s[o].zIndex]=s[o]));for(l.sort(c);l[a]<0;)if(e=y[l[a++]],h.push(e.apply(f,v)),i)return i=w,h;for(o=0;o<p;o++)if(e=s[o],"zIndex"in e)if(e.zIndex==l[a]){if(h.push(e.apply(f,v)),i)break;do if(a++,e=y[l[a]],e&&h.push(e.apply(f,v)),i)break;while(e)}else y[e.zIndex]=e;else if(h.push(e.apply(f,v)),i)break;return i=w,r=b,h.length?h:null};t.listeners=function(n){for(var a=n.split(e),t=u,i,v,o,f,p,h,c=[t],l=[],r=0,y=a.length;r<y;r++){for(h=[],f=0,p=c.length;f<p;f++)for(t=c[f].n,v=[t[a[r]],t[s]],o=2;o--;)i=v[o],i&&(h.push(i),l=l.concat(i.f||[]));c=h}return l};t.on=function(n,t){for(var f=n.split(e),i=u,r=0,o=f.length;r<o;r++)i=i.n,!i[f[r]]&&(i[f[r]]={n:{}}),i=i[f[r]];for(i.f=i.f||[],r=0,o=i.f.length;r<o;r++)if(i.f[r]==t)return h;return i.f.push(t),function(n){+n==+n&&(t.zIndex=+n)}};t.stop=function(){i=1};t.nt=function(n){return n?new RegExp("(?:\\.|\\/|^)"+n+"(?:\\.|\\/|$)").test(r):r};t.off=t.unbind=function(n,t){for(var v=n.split(e),i,o,l,r,p,c=[u],a,h=0,y=v.length;h<y;h++)for(r=0;r<c.length;r+=l.length-2){if(l=[r,1],i=c[r].n,v[h]!=s)i[v[h]]&&l.push(i[v[h]]);else for(o in i)i[f](o)&&l.push(i[o]);c.splice.apply(c,l)}for(h=0,y=c.length;h<y;h++)for(i=c[h];i.n;){if(t){if(i.f){for(r=0,p=i.f.length;r<p;r++)if(i.f[r]==t){i.f.splice(r,1);break}i.f.length||delete i.f}for(o in i.n)if(i.n[f](o)&&i.n[o].f){for(a=i.n[o].f,r=0,p=a.length;r<p;r++)if(a[r]==t){a.splice(r,1);break}a.length||delete i.n[o].f}}else{delete i.f;for(o in i.n)i.n[f](o)&&i.n[o].f&&delete i.n[o].f}i=i.n}};t.once=function(n,i){var r=function(){var u=i.apply(this,arguments);return t.unbind(n,r),u};return t.on(n,r)};t.version=o;t.toString=function(){return"You are running Eve "+o};typeof module!="undefined"&&module.exports?module.exports=t:typeof define!="undefined"?define("eve",[],function(){return t}):n.eve=t})(this),function(){function or(n){for(var t=0;t<r.length;t++)r[t].el.paper==n&&r.splice(t--,1)}function at(t,i,u,e,s,c){var g,a,et,l,lt,kt,ti,nt,at,dt,vt,k,rt,st,ht,gt,ut,ct;u=o(u);var tt,ot,pt,ni,wt,bt,w=t.ms,p={},d={},b={};if(e){for(a=0,et=r.length;a<et;a++)if(g=r[a],g.el.id==i.id&&g.anim==t){g.percent!=u?(r.splice(a,1),pt=1):ot=g;i.attr(g.totalOrigin);break}}else e=+d;for(a=0,et=t.percents.length;a<et;a++){if(t.percents[a]==u||t.percents[a]>e*t.top){u=t.percents[a];wt=t.percents[a-1]||0;w=w/t.top*(u-wt);ni=t.percents[a+1];tt=t.anim[u];break}e&&i.attr(t.anim[t.percents[a]])}if(!!tt){if(ot)ot.initstatus=e,ot.start=new Date-ot.ms*e;else{for(l in tt)if(tt[h](l)&&(pi[h](l)||i.paper.customAttributes[h](l))){p[l]=i.attr(l);p[l]==null&&(p[l]=ku[l]);d[l]=tt[l];switch(pi[l]){case v:b[l]=(d[l]-p[l])/w;break;case"colour":p[l]=n.getRGB(p[l]);lt=n.getRGB(d[l]);b[l]={r:(lt.r-p[l].r)/w,g:(lt.g-p[l].g)/w,b:(lt.b-p[l].b)/w};break;case"path":for(kt=yt(p[l],d[l]),ti=kt[1],p[l]=kt[0],b[l]=[],a=0,et=p[l].length;a<et;a++)for(b[l][a]=[0],nt=1,at=p[l][a].length;nt<at;nt++)b[l][a][nt]=(ti[a][nt]-p[l][a][nt])/w;break;case"transform":if(dt=i._,vt=af(dt[l],d[l]),vt)for(p[l]=vt.from,d[l]=vt.to,b[l]=[],b[l].real=!0,a=0,et=p[l].length;a<et;a++)for(b[l][a]=[p[l][a][0]],nt=1,at=p[l][a].length;nt<at;nt++)b[l][a][nt]=(d[l][a][nt]-p[l][a][nt])/w;else k=i.matrix||new ft,rt={_:{transform:dt.transform},getBBox:function(){return i.getBBox(1)}},p[l]=[k.a,k.b,k.c,k.d,k.e,k.f],iu(rt,d[l]),d[l]=rt._.transform,b[l]=[(rt.matrix.a-k.a)/w,(rt.matrix.b-k.b)/w,(rt.matrix.c-k.c)/w,(rt.matrix.d-k.d)/w,(rt.matrix.e-k.e)/w,(rt.matrix.f-k.f)/w];break;case"csv":if(st=y(tt[l])[it](ci),ht=y(p[l])[it](ci),l=="clip-rect")for(p[l]=ht,b[l]=[],a=ht.length;a--;)b[l][a]=(st[a]-p[l][a])/w;d[l]=st;break;default:for(st=[][f](tt[l]),ht=[][f](p[l]),b[l]=[],a=i.paper.customAttributes[l].length;a--;)b[l][a]=((st[a]||0)-(ht[a]||0))/w}}if(gt=tt.easing,ut=n.easing_formulas[gt],ut||(ut=y(gt).match(bu),ut&&ut.length==5?(ct=ut,ut=function(n){return su(n,+ct[1],+ct[2],+ct[3],+ct[4],w)}):ut=ff),bt=tt.start||t.start||+new Date,g={anim:t,percent:u,timestamp:bt,start:bt+(t.del||0),status:0,initstatus:e||0,stop:!1,ms:w,easing:ut,from:p,diff:b,to:d,el:i,callback:tt.callback,prev:wt,next:ni,repeat:c||t.times,origin:i.attr(),totalOrigin:s},r.push(g),e&&!ot&&!pt&&(g.stop=!0,g.start=new Date-w*e,r.length==1))return fr();pt&&(g.start=new Date-g.ms*e);r.length==1&&ou(fr)}eve("raphael.anim.start."+i.id,i,t)}}function rt(n,t){var i=[],u={},r;if(this.ms=t,this.times=1,n){for(r in n)n[h](r)&&(u[o(r)]=n[r],i.push(o(r)));i.sort(rf)}this.anim=u;this.top=i[i.length-1];this.percents=i}function su(n,t,i,r,u,f){function v(n,t){for(var r,u,f,s,i=n,l=0;l<8;l++){if(f=h(i)-n,a(f)<t)return i;if(s=(3*c*i+2*o)*i+e,a(s)<1e-6)break;i=i-f/s}if(r=0,u=1,i=n,i<r)return r;if(i>u)return u;while(r<u){if(f=h(i),a(f-n)<t)return i;n>f?r=i:u=i;i=(u-r)/2+r}return i}function y(n,t){var i=v(n,t);return((p*i+l)*i+s)*i}function h(n){return((c*n+o)*n+e)*n}var e=3*t,o=3*(r-t)-e,c=1-e-o,s=3*i,l=3*(u-i)-s,p=1-s-l;return y(n,1/(200*f))}function sr(){return this.x+lt+this.y+lt+this.width+" × "+this.height}function ft(n,t,i,r,u,f){n!=null?(this.a=+n,this.b=+t,this.c=+i,this.d=+r,this.e=+u,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function ei(t,i,r){var e,o,s,h,b,k,d,g,c,l,y,p,nt,a,w,tt,v,u,f,it;for(t=n._path2curve(t),i=n._path2curve(i),y=r?0:[],p=0,nt=t.length;p<nt;p++)if(a=t[p],a[0]=="M")e=b=a[1],o=k=a[2];else for(a[0]=="C"?(c=[e,o].concat(a.slice(1)),e=c[6],o=c[7]):(c=[e,o,e,o,b,k,b,k],e=b,o=k),w=0,tt=i.length;w<tt;w++)if(v=i[w],v[0]=="M")s=d=v[1],h=g=v[2];else if(v[0]=="C"?(l=[s,h].concat(v.slice(1)),s=l[6],h=l[7]):(l=[s,h,s,h,d,g,d,g],s=d,h=g),u=oi(c,l,r),r)y+=u;else{for(f=0,it=u.length;f<it;f++)u[f].segment1=p,u[f].segment2=w,u[f].bez1=c,u[f].bez2=l;y=y.concat(u)}return y}function oi(t,i,r){var it=n.bezierBBox(t),rt=n.bezierBBox(i),u,s,h,b,k;if(!n.isBBoxIntersect(it,rt))return r?0:[];var ut=ct.apply(0,t),ft=ct.apply(0,i),v=~~(ut/5),y=~~(ft/5),d=[],g=[],tt={},nt=r?0:[];for(u=0;u<v+1;u++)s=n.findDotsAtSegment.apply(n,t.concat(u/v)),d.push({x:s.x,y:s.y,t:u/v});for(u=0;u<y+1;u++)s=n.findDotsAtSegment.apply(n,i.concat(u/y)),g.push({x:s.x,y:s.y,t:u/y});for(u=0;u<v;u++)for(h=0;h<y;h++){var e=d[u],c=d[u+1],o=g[h],l=g[h+1],p=a(c.x-e.x)<.001?"y":"x",w=a(l.x-o.x)<.001?"y":"x",f=hu(e.x,e.y,c.x,c.y,o.x,o.y,l.x,l.y);if(f){if(tt[f.x.toFixed(4)]==f.y.toFixed(4))continue;tt[f.x.toFixed(4)]=f.y.toFixed(4);b=e.t+a((f[p]-e[p])/(c[p]-e[p]))*(c.t-e.t);k=o.t+a((f[w]-o[w])/(l[w]-o[w]))*(l.t-o.t);b>=0&&b<=1&&k>=0&&k<=1&&(r?nt++:nt.push({x:f.x,y:f.y,t1:b,t2:k}))}}return nt}function hu(n,t,i,r,u,f,o,s){if(!(e(n,i)<l(u,o)||l(n,i)>e(u,o)||e(t,r)<l(f,s)||l(t,r)>e(f,s))){var p=(n*r-t*i)*(u-o)-(n-i)*(u*s-f*o),w=(n*r-t*i)*(f-s)-(t-r)*(u*s-f*o),a=(n-i)*(f-s)-(t-r)*(u-o);if(!a)return;var v=p/a,y=w/a,h=+v.toFixed(2),c=+y.toFixed(2);return h<+l(n,i).toFixed(2)||h>+e(n,i).toFixed(2)||h<+l(u,o).toFixed(2)||h>+e(u,o).toFixed(2)||c<+l(t,r).toFixed(2)||c>+e(t,r).toFixed(2)||c<+l(f,s).toFixed(2)||c>+e(f,s).toFixed(2)?void 0:{x:v,y:y}}}function cu(n,t,i,r,u,f,e,o,s){if(!(s<0||ct(n,t,i,r,u,f,e,o)<s)){for(var v=1,l=v/2,h=v-l,c=ct(n,t,i,r,u,f,e,o,h);a(c-s)>.01;)l/=2,h+=(c<s?1:-1)*l,c=ct(n,t,i,r,u,f,e,o,h);return h}}function ct(n,t,r,u,f,e,o,s,h){var c;h==null&&(h=1);h=h>1?1:h<0?0:h;var l=h/2,w=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],b=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],a=0;for(c=0;c<12;c++){var v=l*w[c]+l,y=hr(v,n,r,f,o),p=hr(v,t,u,e,s),k=y*y+p*p;a+=b[c]*i.sqrt(k)}return l*a}function hr(n,t,i,r,u){var f=-3*t+9*i-9*r+3*u,e=n*f+6*t-12*i+6*r;return n*e-3*t+3*i}function cr(n,t){for(var i,f=[],r=0,u=n.length;u-2*!t>r;r+=2)i=[{x:+n[r-2],y:+n[r-1]},{x:+n[r],y:+n[r+1]},{x:+n[r+2],y:+n[r+3]},{x:+n[r+4],y:+n[r+5]}],t?r?u-4==r?i[3]={x:+n[0],y:+n[1]}:u-2==r&&(i[2]={x:+n[0],y:+n[1]},i[3]={x:+n[2],y:+n[3]}):i[0]={x:+n[u-2],y:+n[u-1]}:u-4==r?i[3]=i[2]:r||(i[0]={x:+n[r],y:+n[r+1]}),f.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y]);return f}function wt(){return this.hex}function nt(n,t,i){function r(){var o=Array.prototype.slice.call(arguments,0),u=o.join("␀"),f=r.cache=r.cache||{},e=r.count=r.count||[];return f[h](u)?(lu(e,u),i?i(f[u]):f[u]):(e.length>=1e3&&delete f[e.shift()],e.push(u),f[u]=n[c](t,o),i?i(f[u]):f[u])}return r}function lu(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return n.push(n.splice(i,1)[0])}function si(n){var i,t;if(Object(n)!==n)return n;i=new n.constructor;for(t in n)n[h](t)&&(i[t]=si(n[t]));return i}function n(t){var i,r;return n.is(t,"function")?hi?t():eve.on("raphael.DOMload",t):n.is(t,g)?n._engine.create[c](n,t.splice(0,3+n.is(t[0],v))).add(t):(i=Array.prototype.slice.call(arguments,0),n.is(i[i.length-1],"function"))?(r=i.pop(),hi?r.call(n._engine.create[c](n,i)):eve.on("raphael.DOMload",function(){r.call(n._engine.create[c](n,i))})):n._engine.create[c](n,arguments)}var gt,ni,ef,hf,ut,pt,tr,st,uu,k,ht,w,fi;n.version="2.1.0";n.eve=eve;var hi,ci=/[, ]+/,au={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},vu=/\{(\d+)\}/g,h="hasOwnProperty",t={doc:document,win:window},li={was:Object.prototype[h].call(t.win,"Raphael"),is:t.win.Raphael},lr=function(){this.ca=this.customAttributes={}},s,c="apply",f="concat",ai="createTouch"in t.doc,b="",lt=" ",y=String,it="split",ar="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[it](lt),vi={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},bt=y.prototype.toLowerCase,i=Math,e=i.max,l=i.min,a=i.abs,d=i.pow,p=i.PI,v="number",kt="string",g="array",yu=Object.prototype.toString,ne=n._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,pu=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,wu={NaN:1,Infinity:1,"-Infinity":1},bu=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,yi=i.round,o=parseFloat,et=parseInt,vr=y.prototype.toUpperCase,ku=n._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},pi=n._availableAnimAttrs={blur:v,"clip-rect":"csv",cx:v,cy:v,fill:"colour","fill-opacity":v,"font-size":v,height:v,opacity:v,path:"path",r:v,rx:v,ry:v,stroke:"colour","stroke-opacity":v,"stroke-width":v,transform:"transform",width:v,x:v,y:v},wi=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,du={hs:1,rg:1},gu=/,?([achlmqrstvxz]),?/gi,nf=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,tf=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,yr=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,te=n._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,vt={},ie=function(n,t){return n.key-t.key},rf=function(n,t){return o(n)-o(t)},uf=function(){},ff=function(n){return n},bi=n._rectPath=function(n,t,i,r,u){return u?[["M",n+u,t],["l",i-u*2,0],["a",u,u,0,0,1,u,u],["l",0,r-u*2],["a",u,u,0,0,1,-u,u],["l",u*2-i,0],["a",u,u,0,0,1,-u,-u],["l",0,u*2-r],["a",u,u,0,0,1,u,-u],["z"]]:[["M",n,t],["l",i,0],["l",0,r],["l",-i,0],["z"]]},pr=function(n,t,i,r){return r==null&&(r=i),[["M",n,t],["m",0,-r],["a",i,r,0,1,1,0,2*r],["a",i,r,0,1,1,0,-2*r],["z"]]},dt=n._getPath={path:function(n){return n.attr("path")},circle:function(n){var t=n.attrs;return pr(t.cx,t.cy,t.r)},ellipse:function(n){var t=n.attrs;return pr(t.cx,t.cy,t.rx,t.ry)},rect:function(n){var t=n.attrs;return bi(t.x,t.y,t.width,t.height,t.r)},image:function(n){var t=n.attrs;return bi(t.x,t.y,t.width,t.height)},text:function(n){var t=n._getBBox();return bi(t.x,t.y,t.width,t.height)}},ki=n.mapPath=function(n,t){if(!t)return n;var f,e,u,i,o,s,r;for(n=yt(n),u=0,o=n.length;u<o;u++)for(r=n[u],i=1,s=r.length;i<s;i+=2)f=t.x(r[i],r[i+1]),e=t.y(r[i],r[i+1]),r[i]=f,r[i+1]=e;return n};if(n._g=t,n.type=t.win.SVGAngle||t.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",n.type=="VML"){if(gt=t.doc.createElement("div"),gt.innerHTML='<v:shape adj="1"/>',ni=gt.firstChild,ni.style.behavior="url(#default#VML)",!ni||typeof ni.adj!="object")return n.type=b;gt=null}n.svg=!(n.vml=n.type=="VML");n._Paper=lr;n.fn=s=lr.prototype=n.prototype;n._id=0;n._oid=0;n.is=function(n,t){return(t=bt.call(t),t=="finite")?!wu[h](+n):t=="array"?n instanceof Array:t=="null"&&n===null||t==typeof n&&n!==null||t=="object"&&n===Object(n)||t=="array"&&Array.isArray&&Array.isArray(n)||yu.call(n).slice(8,-1).toLowerCase()==t};n.angle=function(t,r,u,f,e,o){if(e==null){var s=t-u,h=r-f;return!s&&!h?0:(180+i.atan2(-h,-s)*180/p+360)%360}return n.angle(t,r,e,o)-n.angle(u,f,e,o)};n.rad=function(n){return n%360*p/180};n.deg=function(n){return n*180/p%360};n.snapTo=function(t,i,r){var f,u;if(r=n.is(r,"finite")?r:10,n.is(t,g)){for(f=t.length;f--;)if(a(t[f]-i)<=r)return t[f]}else{if(t=+t,u=i%t,u<r)return i-u;if(u>t-r)return i-u+t}return i};ef=n.createUUID=function(n,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(n,t).toUpperCase()}}(/[xy]/g,function(n){var t=i.random()*16|0,r=n=="x"?t:t&3|8;return r.toString(16)});n.setWindow=function(i){eve("raphael.setWindow",n,t.win,i);t.win=i;t.doc=t.win.document;n._engine.initWin&&n._engine.initWin(t.win)};var ti=function(i){var e,u,f,o,r;if(n.vml){e=/^\s+|\s+$/g;try{f=new ActiveXObject("htmlfile");f.write("<body>");f.close();u=f.body}catch(s){u=createPopup().document.body}o=u.createTextRange();ti=nt(function(n){try{u.style.color=y(n).replace(e,b);var t=o.queryCommandValue("ForeColor");return t=(t&255)<<16|t&65280|(t&16711680)>>>16,"#"+("000000"+t.toString(16)).slice(-6)}catch(i){return"none"}})}else r=t.doc.createElement("i"),r.title="Raphaël Colour Picker",r.style.display="none",t.doc.body.appendChild(r),ti=nt(function(n){return r.style.color=n,t.doc.defaultView.getComputedStyle(r,b).getPropertyValue("color")});return ti(i)},of=function(){return"hsb("+[this.h,this.s,this.b]+")"},sf=function(){return"hsl("+[this.h,this.s,this.l]+")"},wr=function(){return this.hex},br=function(t,i,r){if(i==null&&n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(r=t.b,i=t.g,t=t.r),i==null&&n.is(t,kt)){var u=n.getRGB(t);t=u.r;i=u.g;r=u.b}return(t>1||i>1||r>1)&&(t/=255,i/=255,r/=255),[t,i,r]},kr=function(t,i,r,u){t*=255;i*=255;r*=255;var f={r:t,g:i,b:r,hex:n.rgb(t,i,r),toString:wr};return n.is(u,"finite")&&(f.opacity=u),f};n.color=function(t){var i;return n.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(i=n.hsb2rgb(t),t.r=i.r,t.g=i.g,t.b=i.b,t.hex=i.hex):n.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(i=n.hsl2rgb(t),t.r=i.r,t.g=i.g,t.b=i.b,t.hex=i.hex):(n.is(t,"string")&&(t=n.getRGB(t)),n.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(i=n.rgb2hsl(t),t.h=i.h,t.s=i.s,t.l=i.l,i=n.rgb2hsb(t),t.v=i.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=wr,t};n.hsb2rgb=function(n,t,i,r){this.is(n,"object")&&"h"in n&&"s"in n&&"b"in n&&(i=n.b,t=n.s,n=n.h,r=n.o);n*=360;var e,o,s,f,u;return n=n%360/60,u=i*t,f=u*(1-a(n%2-1)),e=o=s=i-u,n=~~n,e+=[u,f,0,0,f,u][n],o+=[f,u,u,f,0,0][n],s+=[0,0,f,u,u,f][n],kr(e,o,s,r)};n.hsl2rgb=function(n,t,i,r){this.is(n,"object")&&"h"in n&&"s"in n&&"l"in n&&(i=n.l,t=n.s,n=n.h);(n>1||t>1||i>1)&&(n/=360,t/=100,i/=100);n*=360;var e,o,s,f,u;return n=n%360/60,u=2*t*(i<.5?i:1-i),f=u*(1-a(n%2-1)),e=o=s=i-u/2,n=~~n,e+=[u,f,0,0,f,u][n],o+=[f,u,u,f,0,0][n],s+=[0,0,f,u,u,f][n],kr(e,o,s,r)};n.rgb2hsb=function(n,t,i){i=br(n,t,i);n=i[0];t=i[1];i=i[2];var f,o,u,r;return u=e(n,t,i),r=u-l(n,t,i),f=r==0?null:u==n?(t-i)/r:u==t?(i-n)/r+2:(n-t)/r+4,f=(f+360)%6/6,o=r==0?0:r/u,{h:f,s:o,b:u,toString:of}};n.rgb2hsl=function(n,t,i){i=br(n,t,i);n=i[0];t=i[1];i=i[2];var o,h,u,f,s,r;return f=e(n,t,i),s=l(n,t,i),r=f-s,o=r==0?null:f==n?(t-i)/r:f==t?(i-n)/r+2:(n-t)/r+4,o=(o+360)%6/6,u=(f+s)/2,h=r==0?0:u<.5?r/(2*u):r/(2-2*u),{h:o,s:h,l:u,toString:sf}};n._path2string=function(){return this.join(",").replace(gu,"$1")};hf=n._preload=function(n,i){var r=t.doc.createElement("img");r.style.cssText="position:absolute;left:-9999em;top:-9999em";r.onload=function(){i.call(this);this.onload=null;t.doc.body.removeChild(this)};r.onerror=function(){t.doc.body.removeChild(this)};t.doc.body.appendChild(r);r.src=n};n.getRGB=nt(function(t){if(!t||!!((t=y(t)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:wt};if(t=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:wt};du[h](t.toLowerCase().substring(0,2))||t.charAt()=="#"||(t=ti(t));var u,f,e,s,c,i,r=t.match(pu);return r?(r[2]&&(e=et(r[2].substring(5),16),f=et(r[2].substring(3,5),16),u=et(r[2].substring(1,3),16)),r[3]&&(e=et((c=r[3].charAt(3))+c,16),f=et((c=r[3].charAt(2))+c,16),u=et((c=r[3].charAt(1))+c,16)),r[4]&&(i=r[4][it](wi),u=o(i[0]),i[0].slice(-1)=="%"&&(u*=2.55),f=o(i[1]),i[1].slice(-1)=="%"&&(f*=2.55),e=o(i[2]),i[2].slice(-1)=="%"&&(e*=2.55),r[1].toLowerCase().slice(0,4)=="rgba"&&(s=o(i[3])),i[3]&&i[3].slice(-1)=="%"&&(s/=100)),r[5])?(i=r[5][it](wi),u=o(i[0]),i[0].slice(-1)=="%"&&(u*=2.55),f=o(i[1]),i[1].slice(-1)=="%"&&(f*=2.55),e=o(i[2]),i[2].slice(-1)=="%"&&(e*=2.55),(i[0].slice(-3)=="deg"||i[0].slice(-1)=="°")&&(u/=360),r[1].toLowerCase().slice(0,4)=="hsba"&&(s=o(i[3])),i[3]&&i[3].slice(-1)=="%"&&(s/=100),n.hsb2rgb(u,f,e,s)):r[6]?(i=r[6][it](wi),u=o(i[0]),i[0].slice(-1)=="%"&&(u*=2.55),f=o(i[1]),i[1].slice(-1)=="%"&&(f*=2.55),e=o(i[2]),i[2].slice(-1)=="%"&&(e*=2.55),(i[0].slice(-3)=="deg"||i[0].slice(-1)=="°")&&(u/=360),r[1].toLowerCase().slice(0,4)=="hsla"&&(s=o(i[3])),i[3]&&i[3].slice(-1)=="%"&&(s/=100),n.hsl2rgb(u,f,e,s)):(r={r:u,g:f,b:e,toString:wt},r.hex="#"+(16777216|e|f<<8|u<<16).toString(16).slice(1),n.is(s,"finite")&&(r.opacity=s),r):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:wt}},n);n.hsb=nt(function(t,i,r){return n.hsb2rgb(t,i,r).hex});n.hsl=nt(function(t,i,r){return n.hsl2rgb(t,i,r).hex});n.rgb=nt(function(n,t,i){return"#"+(16777216|i|t<<8|n<<16).toString(16).slice(1)});n.getColor=function(n){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:n||.75},i=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),i.hex};n.getColor.reset=function(){delete this.start};n.parsePathString=function(t){var r,u,i;return t?(r=ut(t),r.arr)?tt(r.arr):(u={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[],n.is(t,g)&&n.is(t[0],g)&&(i=tt(t)),i.length||y(t).replace(nf,function(n,t,r){var e=[],o=t.toLowerCase();if(r.replace(yr,function(n,t){t&&e.push(+t)}),o=="m"&&e.length>2&&(i.push([t][f](e.splice(0,2))),o="l",t=t=="m"?"l":"L"),o=="r")i.push([t][f](e));else while(e.length>=u[o])if(i.push([t][f](e.splice(0,u[o]))),!u[o])break}),i.toString=n._path2string,r.arr=tt(i),i):null};n.parseTransformString=nt(function(t){if(!t)return null;var i=[];return n.is(t,g)&&n.is(t[0],g)&&(i=tt(t)),i.length||y(t).replace(tf,function(n,t,r){var u=[],e=bt.call(t);r.replace(yr,function(n,t){t&&u.push(+t)});i.push([t][f](u))}),i.toString=n._path2string,i});ut=function(n){var t=ut.ps=ut.ps||{};return t[n]?t[n].sleep=100:t[n]={sleep:100},setTimeout(function(){for(var i in t)t[h](i)&&i!=n&&(t[i].sleep--,!t[i].sleep&&delete t[i])}),t[n]};n.findDotsAtSegment=function(n,t,r,u,f,e,o,s,h){var c=1-h,b=d(c,3),k=d(c,2),l=h*h,g=l*h,tt=b*n+k*3*h*r+c*3*h*h*f+g*o,it=b*t+k*3*h*u+c*3*h*h*e+g*s,a=n+2*h*(r-n)+l*(f-2*r+n),v=t+2*h*(u-t)+l*(e-2*u+t),y=r+2*h*(f-r)+l*(o-2*f+r),w=u+2*h*(e-u)+l*(s-2*e+u),rt=c*n+h*r,ut=c*t+h*u,ft=c*f+h*o,et=c*e+h*s,nt=90-i.atan2(a-y,v-w)*180/p;return(a>y||v<w)&&(nt+=180),{x:tt,y:it,m:{x:a,y:v},n:{x:y,y:w},start:{x:rt,y:ut},end:{x:ft,y:et},alpha:nt}};n.bezierBBox=function(t,i,r,u,f,e,o,s){n.is(t,"array")||(t=[t,i,r,u,f,e,o,s]);var h=tu.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}};n.isPointInsideBBox=function(n,t,i){return t>=n.x&&t<=n.x2&&i>=n.y&&i<=n.y2};n.isBBoxIntersect=function(t,i){var r=n.isPointInsideBBox;return r(i,t.x,t.y)||r(i,t.x2,t.y)||r(i,t.x,t.y2)||r(i,t.x2,t.y2)||r(t,i.x,i.y)||r(t,i.x2,i.y)||r(t,i.x,i.y2)||r(t,i.x2,i.y2)||(t.x<i.x2&&t.x>i.x||i.x<t.x2&&i.x>t.x)&&(t.y<i.y2&&t.y>i.y||i.y<t.y2&&i.y>t.y)};n.pathIntersection=function(n,t){return ei(n,t)};n.pathIntersectionNumber=function(n,t){return ei(n,t,1)};n.isPointInsidePath=function(t,i,r){var u=n.pathBBox(t);return n.isPointInsideBBox(u,i,r)&&ei(t,[["M",i,r],["H",u.x2+10]],1)%2==1};n._removedFactory=function(n){return function(){eve("raphael.log",null,"Raphaël: you are calling to method “"+n+"” of removed object",n)}};var di=n.pathBBox=function(n){var a=ut(n),h,v,u;if(a.bbox)return a.bbox;if(!n)return{x:0,y:0,width:0,height:0,x2:0,y2:0};n=yt(n);var o=0,s=0,i=[],r=[],t;for(h=0,v=n.length;h<v;h++)t=n[h],t[0]=="M"?(o=t[1],s=t[2],i.push(o),r.push(s)):(u=tu(o,s,t[1],t[2],t[3],t[4],t[5],t[6]),i=i[f](u.min.x,u.max.x),r=r[f](u.min.y,u.max.y),o=t[5],s=t[6]);var y=l[c](0,i),p=l[c](0,r),w=e[c](0,i),b=e[c](0,r),k={x:y,y:p,x2:w,y2:b,width:w-y,height:b-p};return a.bbox=si(k),k},tt=function(t){var i=si(t);return i.toString=n._path2string,i},cf=n._pathToRelative=function(t){var v=ut(t),u,p,f,i,s,w,h,b,c;if(v.rel)return tt(v.rel);n.is(t,g)&&n.is(t&&t[0],g)||(t=n.parsePathString(t));var r=[],o=0,e=0,l=0,a=0,y=0;for(t[0][0]=="M"&&(o=t[0][1],e=t[0][2],l=o,a=e,y++,r.push(["M",o,e])),u=y,p=t.length;u<p;u++){if(f=r[u]=[],i=t[u],i[0]!=bt.call(i[0])){f[0]=bt.call(i[0]);switch(f[0]){case"a":f[1]=i[1];f[2]=i[2];f[3]=i[3];f[4]=i[4];f[5]=i[5];f[6]=+(i[6]-o).toFixed(3);f[7]=+(i[7]-e).toFixed(3);break;case"v":f[1]=+(i[1]-e).toFixed(3);break;case"m":l=i[1];a=i[2];default:for(s=1,w=i.length;s<w;s++)f[s]=+(i[s]-(s%2?o:e)).toFixed(3)}}else for(f=r[u]=[],i[0]=="m"&&(l=i[1]+o,a=i[2]+e),h=0,b=i.length;h<b;h++)r[u][h]=i[h];c=r[u].length;switch(r[u][0]){case"z":o=l;e=a;break;case"h":o+=+r[u][c-1];break;case"v":e+=+r[u][c-1];break;default:o+=+r[u][c-2];e+=+r[u][c-1]}}return r.toString=n._path2string,v.rel=tt(r),r},dr=n._pathToAbsolute=function(t){var p=ut(t),w,i,r,v,k,h,o,y,c,d;if(p.abs)return tt(p.abs);if(n.is(t,g)&&n.is(t&&t[0],g)||(t=n.parsePathString(t)),!t||!t.length)return[["M",0,0]];var s=[],u=0,e=0,l=0,a=0,b=0;for(t[0][0]=="M"&&(u=+t[0][1],e=+t[0][2],l=u,a=e,b++,s[0]=["M",u,e]),w=t.length==3&&t[0][0]=="M"&&t[1][0].toUpperCase()=="R"&&t[2][0].toUpperCase()=="Z",v=b,k=t.length;v<k;v++){if(s.push(i=[]),r=t[v],r[0]!=vr.call(r[0])){i[0]=vr.call(r[0]);switch(i[0]){case"A":i[1]=r[1];i[2]=r[2];i[3]=r[3];i[4]=r[4];i[5]=r[5];i[6]=+(r[6]+u);i[7]=+(r[7]+e);break;case"V":i[1]=+r[1]+e;break;case"H":i[1]=+r[1]+u;break;case"R":for(h=[u,e][f](r.slice(1)),o=2,y=h.length;o<y;o++)h[o]=+h[o]+u,h[++o]=+h[o]+e;s.pop();s=s[f](cr(h,w));break;case"M":l=+r[1]+u;a=+r[2]+e;default:for(o=1,y=r.length;o<y;o++)i[o]=+r[o]+(o%2?u:e)}}else if(r[0]=="R")h=[u,e][f](r.slice(1)),s.pop(),s=s[f](cr(h,w)),i=["R"][f](r.slice(-2));else for(c=0,d=r.length;c<d;c++)i[c]=r[c];switch(i[0]){case"Z":u=l;e=a;break;case"H":u=i[1];break;case"V":e=i[1];break;case"M":l=i[i.length-2];a=i[i.length-1];default:u=i[i.length-2];e=i[i.length-1]}}return s.toString=n._path2string,p.abs=tt(s),s},ii=function(n,t,i,r){return[n,t,i,r,i,r]},gr=function(n,t,i,r,u,f){var e=1/3,o=2/3;return[e*n+o*i,e*t+o*r,e*u+o*i,e*f+o*r,u,f]},nu=function(n,t,r,u,e,o,s,h,c,l){var at=p*120/180,et=p/180*(+e||0),w=[],g,ot=nt(function(n,t,r){var u=n*i.cos(r)-t*i.sin(r),f=n*i.sin(r)+t*i.cos(r);return{x:u,y:f}}),st,lt,b,gt;if(l)y=l[0],v=l[1],ut=l[2],ft=l[3];else{g=ot(n,t,-et);n=g.x;t=g.y;g=ot(h,c,-et);h=g.x;c=g.y;var oi=i.cos(p/180*e),si=i.sin(p/180*e),k=(n-h)/2,d=(t-c)/2,rt=k*k/(r*r)+d*d/(u*u);rt>1&&(rt=i.sqrt(rt),r=rt*r,u=rt*u);var ht=r*r,ct=u*u,vt=(o==s?-1:1)*i.sqrt(a((ht*ct-ht*d*d-ct*k*k)/(ht*d*d+ct*k*k))),ut=vt*r*d/u+(n+h)/2,ft=vt*-u*k/r+(t+c)/2,y=i.asin(((t-ft)/u).toFixed(9)),v=i.asin(((c-ft)/u).toFixed(9));y=n<ut?p-y:y;v=h<ut?p-v:v;y<0&&(y=p*2+y);v<0&&(v=p*2+v);s&&y>v&&(y=y-p*2);!s&&v>y&&(v=v-p*2)}if(st=v-y,a(st)>at){var ni=v,ti=h,ii=c;v=y+at*(s&&v>y?1:-1);h=ut+r*i.cos(v);c=ft+u*i.sin(v);w=nu(h,c,r,u,e,0,s,ti,ii,[v,ni,ut,ft])}st=v-y;var ri=i.cos(y),ui=i.sin(y),fi=i.cos(v),ei=i.sin(v),yt=i.tan(st/4),pt=4/3*r*yt,wt=4/3*u*yt,bt=[n,t],tt=[n+pt*ui,t-wt*ri],kt=[h+pt*ei,c-wt*fi],dt=[h,c];if(tt[0]=2*bt[0]-tt[0],tt[1]=2*bt[1]-tt[1],l)return[tt,kt,dt][f](w);for(w=[tt,kt,dt][f](w).join()[it](","),lt=[],b=0,gt=w.length;b<gt;b++)lt[b]=b%2?ot(w[b-1],w[b],et).y:ot(w[b],w[b+1],et).x;return lt},ri=function(n,t,i,r,u,f,e,o,s){var h=1-s;return{x:d(h,3)*n+d(h,2)*3*s*i+h*3*s*s*u+d(s,3)*e,y:d(h,3)*t+d(h,2)*3*s*r+h*3*s*s*f+d(s,3)*o}},tu=nt(function(n,t,r,u,f,o,s,h){var b=f-2*r+n-(s-2*f+r),v=2*(r-n)-2*(f-r),g=n-r,p=(-v+i.sqrt(v*v-4*b*g))/2/b,w=(-v-i.sqrt(v*v-4*b*g))/2/b,k=[t,h],d=[n,s],y;return a(p)>"1e12"&&(p=.5),a(w)>"1e12"&&(w=.5),p>0&&p<1&&(y=ri(n,t,r,u,f,o,s,h,p),d.push(y.x),k.push(y.y)),w>0&&w<1&&(y=ri(n,t,r,u,f,o,s,h,w),d.push(y.x),k.push(y.y)),b=o-2*u+t-(h-2*o+u),v=2*(u-t)-2*(o-u),g=t-u,p=(-v+i.sqrt(v*v-4*b*g))/2/b,w=(-v-i.sqrt(v*v-4*b*g))/2/b,a(p)>"1e12"&&(p=.5),a(w)>"1e12"&&(w=.5),p>0&&p<1&&(y=ri(n,t,r,u,f,o,s,h,p),d.push(y.x),k.push(y.y)),w>0&&w<1&&(y=ri(n,t,r,u,f,o,s,h,w),d.push(y.x),k.push(y.y)),{min:{x:l[c](0,d),y:l[c](0,k)},max:{x:e[c](0,d),y:e[c](0,k)}}}),yt=n._path2curve=nt(function(n,t){var w=!t&&ut(n),r,v;if(!t&&w.curve)return tt(w.curve);var u=dr(n),i=t&&dr(t),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b=function(n,t){var i,r;if(!n)return["C",t.x,t.y,t.x,t.y,t.x,t.y];n[0]in{T:1,Q:1}||(t.qx=t.qy=null);switch(n[0]){case"M":t.X=n[1];t.Y=n[2];break;case"A":n=["C"][f](nu[c](0,[t.x,t.y][f](n.slice(1))));break;case"S":i=t.x+(t.x-(t.bx||t.x));r=t.y+(t.y-(t.by||t.y));n=["C",i,r][f](n.slice(1));break;case"T":t.qx=t.x+(t.x-(t.qx||t.x));t.qy=t.y+(t.y-(t.qy||t.y));n=["C"][f](gr(t.x,t.y,t.qx,t.qy,n[1],n[2]));break;case"Q":t.qx=n[1];t.qy=n[2];n=["C"][f](gr(t.x,t.y,n[1],n[2],n[3],n[4]));break;case"L":n=["C"][f](ii(t.x,t.y,n[1],n[2]));break;case"H":n=["C"][f](ii(t.x,t.y,n[1],t.y));break;case"V":n=["C"][f](ii(t.x,t.y,t.x,n[1]));break;case"Z":n=["C"][f](ii(t.x,t.y,t.X,t.Y))}return n},k=function(n,t){if(n[t].length>7){n[t].shift();for(var r=n[t];r.length;)n.splice(t++,0,["C"][f](r.splice(0,6)));n.splice(t,1);v=e(u.length,i&&i.length||0)}},d=function(n,t,r,f,o){n&&t&&n[o][0]=="M"&&t[o][0]!="M"&&(t.splice(o,0,["M",f.x,f.y]),r.bx=0,r.by=0,r.x=n[o][1],r.y=n[o][2],v=e(u.length,i&&i.length||0))};for(r=0,v=e(u.length,i&&i.length||0);r<v;r++){u[r]=b(u[r],s);k(u,r);i&&(i[r]=b(i[r],h));i&&k(i,r);d(u,i,s,h,r);d(i,u,h,s,r);var l=u[r],a=i&&i[r],y=l.length,p=i&&a.length;s.x=l[y-2];s.y=l[y-1];s.bx=o(l[y-4])||s.x;s.by=o(l[y-3])||s.y;h.bx=i&&(o(a[p-4])||h.x);h.by=i&&(o(a[p-3])||h.y);h.x=i&&a[p-2];h.y=i&&a[p-1]}return i||(w.curve=tt(u)),i?[u,i]:u},null,tt),re=n._parseDots=nt(function(t){for(var f,h,c,e,u,l,r=[],i=0,s=t.length;i<s;i++){if(f={},h=t[i].match(/^([^:]*):?([\d\.]*)/),f.color=n.getRGB(h[1]),f.color.error)return null;f.color=f.color.hex;h[2]&&(f.offset=h[2]+"%");r.push(f)}for(i=1,s=r.length-1;i<s;i++)if(!r[i].offset){for(c=o(r[i-1].offset||0),e=0,u=i+1;u<s;u++)if(r[u].offset){e=r[u].offset;break}for(e||(e=100,u=s),e=o(e),l=(e-c)/(u-i+1);i<u;i++)c+=l,r[i].offset=c+"%"}return r}),ui=n._tear=function(n,t){n==t.top&&(t.top=n.prev);n==t.bottom&&(t.bottom=n.next);n.next&&(n.next.prev=n.prev);n.prev&&(n.prev.next=n.next)},ue=n._tofront=function(n,t){t.top!==n&&(ui(n,t),n.next=null,n.prev=t.top,t.top.next=n,t.top=n)},fe=n._toback=function(n,t){t.bottom!==n&&(ui(n,t),n.next=t.bottom,n.prev=null,t.bottom.prev=n,t.bottom=n)},ee=n._insertafter=function(n,t,i){ui(n,i);t==i.top&&(i.top=n);t.next&&(t.next.prev=n);n.next=t.next;n.prev=t;t.next=n},oe=n._insertbefore=function(n,t,i){ui(n,i);t==i.bottom&&(i.bottom=n);t.prev&&(t.prev.next=n);n.prev=t.prev;t.prev=n;n.next=t},lf=n.toMatrix=function(n,t){var r=di(n),i={_:{transform:b},getBBox:function(){return r}};return iu(i,t),i.matrix},se=n.transformPath=function(n,t){return ki(n,lf(n,t))},iu=n._extractTransform=function(t,i){var k,tt;if(i==null)return t._.transform;i=y(i).replace(/\.{3}|\u2026/g,t._.transform||b);var a=n.parseTransformString(i),v=0,g=0,nt=0,p=1,w=1,e=t._,u=new ft;if(e.transform=a||[],a)for(k=0,tt=a.length;k<tt;k++){var r=a[k],o=r.length,l=y(r[0]).toLowerCase(),d=r[0]!=l,s=d?u.invert():0,it,rt,h,c,f;l=="t"&&o==3?d?(it=s.x(0,0),rt=s.y(0,0),h=s.x(r[1],r[2]),c=s.y(r[1],r[2]),u.translate(h-it,c-rt)):u.translate(r[1],r[2]):l=="r"?o==2?(f=f||t.getBBox(1),u.rotate(r[1],f.x+f.width/2,f.y+f.height/2),v+=r[1]):o==4&&(d?(h=s.x(r[2],r[3]),c=s.y(r[2],r[3]),u.rotate(r[1],h,c)):u.rotate(r[1],r[2],r[3]),v+=r[1]):l=="s"?o==2||o==3?(f=f||t.getBBox(1),u.scale(r[1],r[o-1],f.x+f.width/2,f.y+f.height/2),p*=r[1],w*=r[o-1]):o==5&&(d?(h=s.x(r[3],r[4]),c=s.y(r[3],r[4]),u.scale(r[1],r[2],h,c)):u.scale(r[1],r[2],r[3],r[4]),p*=r[1],w*=r[2]):l=="m"&&o==7&&u.add(r[1],r[2],r[3],r[4],r[5],r[6]);e.dirtyT=1;t.matrix=u}t.matrix=u;e.sx=p;e.sy=w;e.deg=v;e.dx=g=u.e;e.dy=nt=u.f;p==1&&w==1&&!v&&e.bbox?(e.bbox.x+=+g,e.bbox.y+=+nt):e.dirtyT=1},ru=function(n){var t=n[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return n.length==4?[t,0,n[2],n[3]]:[t,0];case"s":return n.length==5?[t,1,1,n[3],n[4]]:n.length==3?[t,1,1]:[t,1]}},af=n._equaliseTransform=function(t,i){i=y(i).replace(/\.{3}|\u2026/g,t);t=n.parseTransformString(t)||[];i=n.parseTransformString(i)||[];for(var l=e(t.length,i.length),s=[],h=[],u=0,f,c,r,o;u<l;u++){if(r=t[u]||ru(i[u]),o=i[u]||ru(r),r[0]!=o[0]||r[0].toLowerCase()=="r"&&(r[2]!=o[2]||r[3]!=o[3])||r[0].toLowerCase()=="s"&&(r[3]!=o[3]||r[4]!=o[4]))return;for(s[u]=[],h[u]=[],f=0,c=e(r.length,o.length);f<c;f++)f in r&&(s[u][f]=r[f]),f in o&&(h[u][f]=o[f])}return{from:s,to:h}};n._getContainer=function(i,r,u,f){var e;return e=f==null&&!n.is(i,"object")?t.doc.getElementById(i):i,e!=null?e.tagName?r==null?{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}:{container:e,width:r,height:u}:{container:1,x:i,y:r,width:u,height:f}:void 0};n.pathToRelative=cf;n._engine={};n.path2curve=yt;n.matrix=function(n,t,i,r,u,f){return new ft(n,t,i,r,u,f)},function(t){function u(n){var t=i.sqrt(r(n));n[0]&&(n[0]/=t);n[1]&&(n[1]/=t)}function r(n){return n[0]*n[0]+n[1]*n[1]}t.add=function(n,t,i,r,u,f){var e=[[],[],[]],a=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],l=[[n,i,u],[t,r,f],[0,0,1]],o,s,h,c;for(n&&n instanceof ft&&(l=[[n.a,n.c,n.e],[n.b,n.d,n.f],[0,0,1]]),o=0;o<3;o++)for(s=0;s<3;s++){for(c=0,h=0;h<3;h++)c+=a[o][h]*l[h][s];e[o][s]=c}this.a=e[0][0];this.b=e[1][0];this.c=e[0][1];this.d=e[1][1];this.e=e[0][2];this.f=e[1][2]};t.invert=function(){var n=this,t=n.a*n.d-n.b*n.c;return new ft(n.d/t,-n.b/t,-n.c/t,n.a/t,(n.c*n.f-n.d*n.e)/t,(n.b*n.e-n.a*n.f)/t)};t.clone=function(){return new ft(this.a,this.b,this.c,this.d,this.e,this.f)};t.translate=function(n,t){this.add(1,0,0,1,n,t)};t.scale=function(n,t,i,r){t==null&&(t=n);(i||r)&&this.add(1,0,0,1,i,r);this.add(n,0,0,t,0,0);(i||r)&&this.add(1,0,0,1,-i,-r)};t.rotate=function(t,r,u){t=n.rad(t);r=r||0;u=u||0;var f=+i.cos(t).toFixed(9),e=+i.sin(t).toFixed(9);this.add(f,e,-e,f,r,u);this.add(1,0,0,1,-r,-u)};t.x=function(n,t){return n*this.a+t*this.c+this.e};t.y=function(n,t){return n*this.b+t*this.d+this.f};t.get=function(n){return+this[y.fromCharCode(97+n)].toFixed(4)};t.toString=function(){return n.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};t.split=function(){var t={},f,e,o;return t.dx=this.e,t.dy=this.f,f=[[this.a,this.c],[this.b,this.d]],t.scalex=i.sqrt(r(f[0])),u(f[0]),t.shear=f[0][0]*f[1][0]+f[0][1]*f[1][1],f[1]=[f[1][0]-f[0][0]*t.shear,f[1][1]-f[0][1]*t.shear],t.scaley=i.sqrt(r(f[1])),u(f[1]),t.shear/=t.scaley,e=-f[0][1],o=f[1][1],o<0?(t.rotate=n.deg(i.acos(o)),e<0&&(t.rotate=360-t.rotate)):t.rotate=n.deg(i.asin(e)),t.isSimple=!+t.shear.toFixed(9)&&(t.scalex.toFixed(9)==t.scaley.toFixed(9)||!t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t};t.toTransformString=function(n){var t=n||this[it]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:b)+(t.scalex!=1||t.scaley!=1?"s"+[t.scalex,t.scaley,0,0]:b)+(t.rotate?"r"+[t.rotate,0,0]:b)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(ft.prototype);pt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);s.safari=navigator.vendor=="Apple Computer, Inc."&&(pt&&pt[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&pt&&pt[1]<8?function(){var n=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){n.remove()})}:uf;var vf=function(){this.returnValue=!1},yf=function(){return this.originalEvent.preventDefault()},pf=function(){this.cancelBubble=!0},wf=function(){return this.originalEvent.stopPropagation()},bf=function(){return t.doc.addEventListener?function(n,i,r,u){var f=ai&&vi[i]?vi[i]:i,e=function(f){var c=t.doc.documentElement.scrollTop||t.doc.body.scrollTop,l=t.doc.documentElement.scrollLeft||t.doc.body.scrollLeft,a=f.clientX+l,v=f.clientY+c,e,o,s;if(ai&&vi[h](i))for(e=0,o=f.targetTouches&&f.targetTouches.length;e<o;e++)if(f.targetTouches[e].target==n){s=f;f=f.targetTouches[e];f.originalEvent=s;f.preventDefault=yf;f.stopPropagation=wf;break}return r.call(u,f,a,v)};return n.addEventListener(f,e,!1),function(){return n.removeEventListener(f,e,!1),!0}}:t.doc.attachEvent?function(n,i,r,u){var f=function(n){n=n||t.win.event;var i=t.doc.documentElement.scrollTop||t.doc.body.scrollTop,f=t.doc.documentElement.scrollLeft||t.doc.body.scrollLeft,e=n.clientX+f,o=n.clientY+i;return n.preventDefault=n.preventDefault||vf,n.stopPropagation=n.stopPropagation||pf,r.call(u,n,e,o)};return n.attachEvent("on"+i,f),function(){return n.detachEvent("on"+i,f),!0}}:void 0}(),ot=[],gi=function(n){for(var u=n.clientX,f=n.clientY,a=t.doc.documentElement.scrollTop||t.doc.body.scrollTop,v=t.doc.documentElement.scrollLeft||t.doc.body.scrollLeft,i,c=ot.length,o,e;c--;){if(i=ot[c],ai){for(o=n.touches.length;o--;)if(e=n.touches[o],e.identifier==i.el._drag.id){u=e.clientX;f=e.clientY;(n.originalEvent?n.originalEvent:n).preventDefault();break}}else n.preventDefault();var r=i.el.node,s,l=r.nextSibling,h=r.parentNode,y=r.style.display;t.win.opera&&h.removeChild(r);r.style.display="none";s=i.el.paper.getElementByPoint(u,f);r.style.display=y;t.win.opera&&(l?h.insertBefore(r,l):h.appendChild(r));s&&eve("raphael.drag.over."+i.el.id,i.el,s);u+=v;f+=a;eve("raphael.drag.move."+i.el.id,i.move_scope||i.el,u-i.el._drag.x,f-i.el._drag.y,u,f,n)}},nr=function(t){n.unmousemove(gi).unmouseup(nr);for(var r=ot.length,i;r--;)i=ot[r],i.el._drag={},eve("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,t);ot=[]},u=n.el={};for(tr=ar.length;tr--;)(function(i){n[i]=u[i]=function(r,u){return n.is(r,"function")&&(this.events=this.events||[],this.events.push({name:i,f:r,unbind:bf(this.shape||this.node||t.doc,i,r,u||this)})),this};n["un"+i]=u["un"+i]=function(n){for(var t=this.events||[],r=t.length;r--;)if(t[r].name==i&&t[r].f==n)return t[r].unbind(),t.splice(r,1),!t.length&&delete this.events,this;return this}})(ar[tr]);u.data=function(t,i){var u=vt[this.id]=vt[this.id]||{},r;if(arguments.length==1){if(n.is(t,"object")){for(r in t)t[h](r)&&this.data(r,t[r]);return this}return eve("raphael.data.get."+this.id,this,u[t],t),u[t]}return u[t]=i,eve("raphael.data.set."+this.id,this,i,t),this};u.removeData=function(n){return n==null?vt[this.id]={}:vt[this.id]&&delete vt[this.id][n],this};u.hover=function(n,t,i,r){return this.mouseover(n,i).mouseout(t,r||i)};u.unhover=function(n,t){return this.unmouseover(n).unmouseout(t)};st=[];u.drag=function(i,r,u,f,e,o){function s(s){(s.originalEvent||s).preventDefault();var h=t.doc.documentElement.scrollTop||t.doc.body.scrollTop,c=t.doc.documentElement.scrollLeft||t.doc.body.scrollLeft;this._drag.x=s.clientX+c;this._drag.y=s.clientY+h;this._drag.id=s.identifier;!ot.length&&n.mousemove(gi).mouseup(nr);ot.push({el:this,move_scope:f,start_scope:e,end_scope:o});r&&eve.on("raphael.drag.start."+this.id,r);i&&eve.on("raphael.drag.move."+this.id,i);u&&eve.on("raphael.drag.end."+this.id,u);eve("raphael.drag.start."+this.id,e||f||this,s.clientX+c,s.clientY+h,s)}return this._drag={},st.push({el:this,start:s}),this.mousedown(s),this};u.onDragOver=function(n){n?eve.on("raphael.drag.over."+this.id,n):eve.unbind("raphael.drag.over."+this.id)};u.undrag=function(){for(var t=st.length;t--;)st[t].el==this&&(this.unmousedown(st[t].start),st.splice(t,1),eve.unbind("raphael.drag.*."+this.id));st.length||n.unmousemove(gi).unmouseup(nr)};s.circle=function(t,i,r){var u=n._engine.circle(this,t||0,i||0,r||0);return this.__set__&&this.__set__.push(u),u};s.rect=function(t,i,r,u,f){var e=n._engine.rect(this,t||0,i||0,r||0,u||0,f||0);return this.__set__&&this.__set__.push(e),e};s.ellipse=function(t,i,r,u){var f=n._engine.ellipse(this,t||0,i||0,r||0,u||0);return this.__set__&&this.__set__.push(f),f};s.path=function(t){!t||n.is(t,kt)||n.is(t[0],g)||(t+=b);var i=n._engine.path(n.format[c](n,arguments),this);return this.__set__&&this.__set__.push(i),i};s.image=function(t,i,r,u,f){var e=n._engine.image(this,t||"about:blank",i||0,r||0,u||0,f||0);return this.__set__&&this.__set__.push(e),e};s.text=function(t,i,r){var u=n._engine.text(this,t||0,i||0,y(r));return this.__set__&&this.__set__.push(u),u};s.set=function(t){n.is(t,"array")||(t=Array.prototype.splice.call(arguments,0,arguments.length));var i=new ht(t);return this.__set__&&this.__set__.push(i),i};s.setStart=function(n){this.__set__=n||this.set()};s.setFinish=function(){var n=this.__set__;return delete this.__set__,n};s.setSize=function(t,i){return n._engine.setSize.call(this,t,i)};s.setViewBox=function(t,i,r,u,f){return n._engine.setViewBox.call(this,t,i,r,u,f)};s.top=s.bottom=null;s.raphael=n;uu=function(n){var u=n.getBoundingClientRect(),f=n.ownerDocument,i=f.body,r=f.documentElement,e=r.clientTop||i.clientTop||0,o=r.clientLeft||i.clientLeft||0,s=u.top+(t.win.pageYOffset||r.scrollTop||i.scrollTop)-e,h=u.left+(t.win.pageXOffset||r.scrollLeft||i.scrollLeft)-o;return{y:s,x:h}};s.getElementByPoint=function(n,i){var o=this,f=o.canvas,r=t.doc.elementFromPoint(n,i),s,u,e;if(t.win.opera&&r.tagName=="svg"&&(s=uu(f),u=f.createSVGRect(),u.x=n-s.x,u.y=i-s.y,u.width=u.height=1,e=f.getIntersectionList(u,null),e.length&&(r=e[e.length-1])),!r)return null;while(r.parentNode&&r!=f.parentNode&&!r.raphael)r=r.parentNode;return r==o.canvas.parentNode&&(r=f),r=r&&r.raphael?o.getById(r.raphaelid):null,r};s.getById=function(n){for(var t=this.bottom;t;){if(t.id==n)return t;t=t.next}return null};s.forEach=function(n,t){for(var i=this.bottom;i;){if(n.call(t,i)===!1)return this;i=i.next}return this};s.getElementsByPoint=function(n,t){var i=this.set();return this.forEach(function(r){r.isPointInside(n,t)&&i.push(r)}),i};u.isPointInside=function(t,i){var r=this.realPath=this.realPath||dt[this.type](this);return n.isPointInsidePath(r,t,i)};u.getBBox=function(n){if(this.removed)return{};var t=this._;return n?((t.dirty||!t.bboxwt)&&(this.realPath=dt[this.type](this),t.bboxwt=di(this.realPath),t.bboxwt.toString=sr,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=dt[this.type](this)),t.bbox=di(ki(this.realPath,this.matrix)),t.bbox.toString=sr,t.dirty=t.dirtyT=0),t.bbox)};u.clone=function(){if(this.removed)return null;var n=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(n),n};u.glow=function(n){var r;if(this.type=="text")return null;n=n||{};var t={width:(n.width||10)+(+this.attr("stroke-width")||1),fill:n.fill||!1,opacity:n.opacity||.5,offsetx:n.offsetx||0,offsety:n.offsety||0,color:n.color||"#000"},u=t.width/2,f=this.paper,e=f.set(),i=this.realPath||dt[this.type](this);for(i=this.matrix?ki(i,this.matrix):i,r=1;r<u+1;r++)e.push(f.path(i).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/u*r).toFixed(3),opacity:+(t.opacity/u).toFixed(3)}));return e.insertBefore(this).translate(t.offsetx,t.offsety)};var ir=function(t,i,r,u,f,e,o,s,h){return h==null?ct(t,i,r,u,f,e,o,s):n.findDotsAtSegment(t,i,r,u,f,e,o,s,cu(t,i,r,u,f,e,o,s,h))},rr=function(t,i){return function(r,u,f){var y,p;r=yt(r);var s,h,e,a,c="",v={},o,l=0;for(y=0,p=r.length;y<p;y++){if(e=r[y],e[0]=="M")s=+e[1],h=+e[2];else{if(a=ir(s,h,e[1],e[2],e[3],e[4],e[5],e[6]),l+a>u){if(i&&!v.start){if(o=ir(s,h,e[1],e[2],e[3],e[4],e[5],e[6],u-l),c+=["C"+o.start.x,o.start.y,o.m.x,o.m.y,o.x,o.y],f)return c;v.start=c;c=["M"+o.x,o.y+"C"+o.n.x,o.n.y,o.end.x,o.end.y,e[5],e[6]].join();l+=a;s=+e[5];h=+e[6];continue}if(!t&&!i)return o=ir(s,h,e[1],e[2],e[3],e[4],e[5],e[6],u-l),{x:o.x,y:o.y,alpha:o.alpha}}l+=a;s=+e[5];h=+e[6]}c+=e.shift()+e}return v.end=c,o=t?l:i?v:n.findDotsAtSegment(s,h,e[0],e[1],e[2],e[3],e[4],e[5],1),o.alpha&&(o={x:o.x,y:o.y,alpha:o.alpha}),o}},fu=rr(1),eu=rr(),ur=rr(0,1);n.getTotalLength=fu;n.getPointAtLength=eu;n.getSubpath=function(n,t,i){if(this.getTotalLength(n)-i<1e-6)return ur(n,t).end;var r=ur(n,i,1);return t?ur(r,t).end:r};u.getTotalLength=function(){if(this.type=="path")return this.node.getTotalLength?this.node.getTotalLength():fu(this.attrs.path)};u.getPointAtLength=function(n){if(this.type=="path")return eu(this.attrs.path,n)};u.getSubpath=function(t,i){if(this.type=="path")return n.getSubpath(this.attrs.path,t,i)};k=n.easing_formulas={linear:function(n){return n},"<":function(n){return d(n,1.7)},">":function(n){return d(n,.48)},"<>":function(n){var r=.48-n/1.04,u=i.sqrt(.1734+r*r),f=u-r,o=d(a(f),1/3)*(f<0?-1:1),e=-u-r,s=d(a(e),1/3)*(e<0?-1:1),t=o+s+.5;return(1-t)*3*t*t+t*t*t},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){n=n-1;var t=1.70158;return n*n*((t+1)*n+t)+1},elastic:function(n){return n==!!n?n:d(2,-10*n)*i.sin((n-.075)*2*p/.3)+1},bounce:function(n){var r=7.5625,t=2.75,i;return n<1/t?i=r*n*n:n<2/t?(n-=1.5/t,i=r*n*n+.75):n<2.5/t?(n-=2.25/t,i=r*n*n+.9375):(n-=2.625/t,i=r*n*n+.984375),i}};k.easeIn=k["ease-in"]=k["<"];k.easeOut=k["ease-out"]=k[">"];k.easeInOut=k["ease-in-out"]=k["<>"];k["back-in"]=k.backIn;k["back-out"]=k.backOut;var r=[],ou=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){setTimeout(n,16)},fr=function(){for(var ut=+new Date,w=0,t,a,i,u,d,c,g,p,rt;w<r.length;w++)if(t=r[w],!t.el.removed&&!t.paused){var b=ut-t.start,s=t.ms,ft=t.easing,o=t.from,l=t.diff,nt=t.to,et=t.t,y=t.el,tt={},e,it={},k;if(t.initstatus?(b=(t.initstatus*t.anim.top-t.prev)/(t.percent-t.prev)*s,t.status=t.initstatus,delete t.initstatus,t.stop&&r.splice(w--,1)):t.status=(t.prev+(t.percent-t.prev)*(b/s))/t.anim.top,!(b<0))if(b<s){a=ft(b/s);for(i in o)if(o[h](i)){switch(pi[i]){case v:e=+o[i]+a*s*l[i];break;case"colour":e="rgb("+[er(yi(o[i].r+a*s*l[i].r)),er(yi(o[i].g+a*s*l[i].g)),er(yi(o[i].b+a*s*l[i].b))].join(",")+")";break;case"path":for(e=[],u=0,d=o[i].length;u<d;u++){for(e[u]=[o[i][u][0]],c=1,g=o[i][u].length;c<g;c++)e[u][c]=+o[i][u][c]+a*s*l[i][u][c];e[u]=e[u].join(lt)}e=e.join(lt);break;case"transform":if(l[i].real)for(e=[],u=0,d=o[i].length;u<d;u++)for(e[u]=[o[i][u][0]],c=1,g=o[i][u].length;c<g;c++)e[u][c]=o[i][u][c]+a*s*l[i][u][c];else p=function(n){return+o[i][n]+a*s*l[i][n]},e=[["m",p(0),p(1),p(2),p(3),p(4),p(5)]];break;case"csv":if(i=="clip-rect")for(e=[],u=4;u--;)e[u]=+o[i][u]+a*s*l[i][u];break;default:for(rt=[][f](o[i]),e=[],u=y.paper.customAttributes[i].length;u--;)e[u]=+rt[u]+a*s*l[i][u]}tt[i]=e}y.attr(tt),function(n,t,i){setTimeout(function(){eve("raphael.anim.frame."+n,t,i)})}(y.id,y,t.anim)}else{if(function(t,i,r){setTimeout(function(){eve("raphael.anim.frame."+i.id,i,r);eve("raphael.anim.finish."+i.id,i,r);n.is(t,"function")&&t.call(i)})}(t.callback,y,t.anim),y.attr(nt),r.splice(w--,1),t.repeat>1&&!t.next){for(k in nt)nt[h](k)&&(it[k]=t.totalOrigin[k]);t.el.attr(it);at(t.anim,t.el,t.anim.percents[0],null,t.totalOrigin,t.repeat-1)}t.next&&!t.stop&&at(t.anim,t.el,t.next,null,t.totalOrigin,t.repeat)}}n.svg&&y&&y.paper&&y.paper.safari();r.length&&ou(fr)},er=function(n){return n>255?255:n<0?0:n};u.animateWith=function(t,i,u,f,e,o){var s=this,c,h,l;if(s.removed)return o&&o.call(s),s;for(c=u instanceof rt?u:n.animation(u,f,e,o),at(c,s,c.percents[0],null,s.attr()),h=0,l=r.length;h<l;h++)if(r[h].anim==i&&r[h].el==t){r[l-1].start=r[h].start;break}return s};u.onAnimation=function(n){return n?eve.on("raphael.anim.frame."+this.id,n):eve.unbind("raphael.anim.frame."+this.id),this};rt.prototype.delay=function(n){var t=new rt(this.anim,this.ms);return t.times=this.times,t.del=+n||0,t};rt.prototype.repeat=function(n){var t=new rt(this.anim,this.ms);return t.del=this.del,t.times=i.floor(e(n,0))||1,t};n.animation=function(t,i,r,u){if(t instanceof rt)return t;(n.is(r,"function")||!r)&&(u=u||r||null,r=null);t=Object(t);i=+i||0;var e={},s;for(var f in t)t[h](f)&&o(f)!=f&&o(f)+"%"!=f&&(s=!0,e[f]=t[f]);return s?(r&&(e.easing=r),u&&(e.callback=u),new rt({100:e},i)):new rt(t,i)};u.animate=function(t,i,r,u){var f=this,e;return f.removed?(u&&u.call(f),f):(e=t instanceof rt?t:n.animation(t,i,r,u),at(e,f,e.percents[0],null,f.attr()),f)};u.setTime=function(n,t){return n&&t!=null&&this.status(n,l(t,n.ms)/n.ms),this};u.status=function(n,t){var f=[],u=0,e,i;if(t!=null)return at(n,this,-1,l(t,1)),this;for(e=r.length;u<e;u++)if(i=r[u],i.el.id==this.id&&(!n||i.anim==n)){if(n)return i.status;f.push({anim:i.anim,status:i.status})}return n?0:f};u.pause=function(n){for(var t=0;t<r.length;t++)r[t].el.id!=this.id||n&&r[t].anim!=n||eve("raphael.anim.pause."+this.id,this,r[t].anim)===!1||(r[t].paused=!0);return this};u.resume=function(n){for(var i,t=0;t<r.length;t++)r[t].el.id!=this.id||n&&r[t].anim!=n||(i=r[t],eve("raphael.anim.resume."+this.id,this,i.anim)!==!1&&(delete i.paused,this.status(i.anim,i.status)));return this};u.stop=function(n){for(var t=0;t<r.length;t++)r[t].el.id!=this.id||n&&r[t].anim!=n||eve("raphael.anim.stop."+this.id,this,r[t].anim)===!1||r.splice(t--,1);return this};eve.on("raphael.remove",or);eve.on("raphael.clear",or);u.toString=function(){return"Raphaël’s object"};ht=function(n){if(this.items=[],this.length=0,this.type="set",n)for(var t=0,i=n.length;t<i;t++)n[t]&&(n[t].constructor==u.constructor||n[t].constructor==ht)&&(this[this.items.length]=this.items[this.items.length]=n[t],this.length++)};w=ht.prototype;w.push=function(){for(var n,t,i=0,r=arguments.length;i<r;i++)n=arguments[i],n&&(n.constructor==u.constructor||n.constructor==ht)&&(t=this.items.length,this[t]=this.items[t]=n,this.length++);return this};w.pop=function(){return this.length&&delete this[this.length--],this.items.pop()};w.forEach=function(n,t){for(var i=0,r=this.items.length;i<r;i++)if(n.call(t,this.items[i],i)===!1)return this;return this};for(fi in u)u[h](fi)&&(w[fi]=function(n){return function(){var t=arguments;return this.forEach(function(i){i[n][c](i,t)})}}(fi));w.attr=function(t,i){var r,f,u,e;if(t&&n.is(t,g)&&n.is(t[0],"object"))for(r=0,f=t.length;r<f;r++)this.items[r].attr(t[r]);else for(u=0,e=this.items.length;u<e;u++)this.items[u].attr(t,i);return this};w.clear=function(){while(this.length)this.pop()};w.splice=function(n,t){var r;n=n<0?e(this.length+n,0):n;t=e(0,l(this.length-n,t));for(var u=[],o=[],f=[],i=2;i<arguments.length;i++)f.push(arguments[i]);for(i=0;i<t;i++)o.push(this[n+i]);for(;i<this.length-n;i++)u.push(this[n+i]);for(r=f.length,i=0;i<r+u.length;i++)this.items[n+i]=this[n+i]=i<r?f[i]:u[i-r];for(i=this.items.length=this.length-=t-r;this[i];)delete this[i++];return new ht(o)};w.exclude=function(n){for(var t=0,i=this.length;t<i;t++)if(this[t]==n)return this.splice(t,1),!0};w.animate=function(t,i,r,u){var e;(n.is(r,"function")||!r)&&(u=r||null);var o=this.items.length,f=o,h,c=this,s;if(!o)return this;for(u&&(s=function(){--o||u.call(c)}),r=n.is(r,kt)?r:s,e=n.animation(t,i,r,s),h=this.items[--f].animate(e);f--;)this.items[f]&&!this.items[f].removed&&this.items[f].animateWith(h,e,e);return this};w.insertAfter=function(n){for(var t=this.items.length;t--;)this.items[t].insertAfter(n);return this};w.getBBox=function(){for(var n,t=[],i=[],r=[],u=[],f=this.items.length;f--;)this.items[f].removed||(n=this.items[f].getBBox(),t.push(n.x),i.push(n.y),r.push(n.x+n.width),u.push(n.y+n.height));return t=l[c](0,t),i=l[c](0,i),r=e[c](0,r),u=e[c](0,u),{x:t,y:i,x2:r,y2:u,width:r-t,height:u-i}};w.clone=function(n){n=new ht;for(var t=0,i=this.items.length;t<i;t++)n.push(this.items[t].clone());return n};w.toString=function(){return"Raphaël‘s set"};n.registerFont=function(n){var i,u,f,r,t,e;if(!n.face)return n;this.fonts=this.fonts||{};i={w:n.w,face:{},glyphs:{}};u=n.face["font-family"];for(f in n.face)n.face[h](f)&&(i.face[f]=n.face[f]);if(this.fonts[u]?this.fonts[u].push(i):this.fonts[u]=[i],!n.svg){i.face["units-per-em"]=et(n.face["units-per-em"],10);for(r in n.glyphs)if(n.glyphs[h](r)&&(t=n.glyphs[r],i.glyphs[r]={w:t.w,k:{},d:t.d&&"M"+t.d.replace(/[mlcxtrv]/g,function(n){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[n]||"M"})+"z"},t.k))for(e in t.k)t[h](e)&&(i.glyphs[r].k[e]=t.k[e])}return n};s.getFont=function(t,i,r,u){var f,c,o,e,s,l;if(u=u||"normal",r=r||"normal",i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400,!!n.fonts){if(f=n.fonts[t],!f){c=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,b)+"(\\s|$)","i");for(o in n.fonts)if(n.fonts[h](o)&&c.test(o)){f=n.fonts[o];break}}if(f)for(s=0,l=f.length;s<l;s++)if(e=f[s],e.face["font-weight"]==i&&(e.face["font-style"]==r||!e.face["font-style"])&&e.face["font-stretch"]==u)break;return e}};s.print=function(t,i,r,u,f,o,s){var c,ft,k,v;o=o||"middle";s=e(l(s||0,1),-1);var a=y(r)[it](b),d=0,p=0,nt=b,h;if(n.is(u,r)&&(u=this.getFont(u)),u){h=(f||16)/u.face["units-per-em"];var w=u.face.bbox[it](ci),tt=+w[0],g=w[3]-w[1],rt=0,ut=+w[1]+(o=="baseline"?g+ +u.face.descent:g/2);for(c=0,ft=a.length;c<ft;c++)a[c]=="\n"?(d=0,v=0,p=0,rt+=g):(k=p&&u.glyphs[a[c-1]]||{},v=u.glyphs[a[c]],d+=p?(k.w||u.w)+(k.k&&k.k[a[c]]||0)+u.w*s:0,p=1),v&&v.d&&(nt+=n.transformPath(v.d,["t",d*h,rt*h,"s",h,h,tt,ut,"t",(t-tt)/h,(i-ut)/h]))}return this.path(nt).attr({fill:"#000",stroke:"none"})};s.add=function(t){if(n.is(t,"array"))for(var u=this.set(),r=0,f=t.length,i;r<f;r++)i=t[r]||{},au[h](i.type)&&u.push(this[i.type]().attr(i));return u};n.format=function(t,i){var r=n.is(i,g)?[0][f](i):arguments;return t&&n.is(t,kt)&&r.length-1&&(t=t.replace(vu,function(n,t){return r[++t]==null?b:r[t]})),t||b};n.fullfill=function(){var n=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(n,i,r){var u=r;return i.replace(t,function(n,t,i,r,f){t=t||r;u&&(t in u&&(u=u[t]),typeof u=="function"&&f&&(u=u()))}),u=(u==null||u==r?n:u)+"",u};return function(t,r){return String(t).replace(n,function(n,t){return i(n,t,r)})}}();n.ninja=function(){return li.was?t.win.Raphael=li.is:delete Raphael,n};n.st=w,function(t,i,r){function u(){/in/.test(t.readyState)?setTimeout(u,9):n.eve("raphael.DOMload")}t.readyState==null&&t.addEventListener&&(t.addEventListener(i,r=function(){t.removeEventListener(i,r,!1);t.readyState="complete"},!1),t.readyState="loading");u()}(document,"DOMContentLoaded");li.was?t.win.Raphael=n:Raphael=n;eve.on("raphael.DOMload",function(){hi=!0})}();window.Raphael.svg&&function(n){var i="hasOwnProperty",u=String,f=parseFloat,tt=parseInt,c=Math,k=c.max,y=c.abs,d=c.pow,l=/[, ]+/,p=n.eve,o="",w=" ",a="http://www.w3.org/1999/xlink",ft={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},e={},nt,v;n.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var t=function(r,f){if(f){typeof r=="string"&&(r=t(r));for(var e in f)f[i](e)&&(e.substring(0,6)=="xlink:"?r.setAttributeNS(a,e.substring(6),u(f[e])):r.setAttribute(e,u(f[e])))}else r=n._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},it=function(i,r){var w="linear",l=i.id+r,b=.5,s=.5,tt=i.node,it=i.paper,g=tt.style,a=n._g.doc.getElementById(l),v,e,nt,p,h,rt;if(!a){if(r=u(r).replace(n._radial_gradient,function(n,t,i){if(w="radial",t&&i){b=f(t);s=f(i);var r=(s>.5)*2-1;d(b-.5,2)+d(s-.5,2)>.25&&(s=c.sqrt(.25-d(b-.5,2))*r+.5)&&s!=.5&&(s=s.toFixed(5)-1e-5*r)}return o}),r=r.split(/\s*\-\s*/),w=="linear"){if(v=r.shift(),v=-f(v),isNaN(v))return null;e=[0,0,c.cos(n.rad(v)),c.sin(n.rad(v))];nt=1/(k(y(e[2]),y(e[3]))||1);e[2]*=nt;e[3]*=nt;e[2]<0&&(e[0]=-e[2],e[2]=0);e[3]<0&&(e[1]=-e[3],e[3]=0)}if(p=n._parseDots(r),!p)return null;if(l=l.replace(/[\(\)\s,\xb0#]/g,"_"),i.gradient&&l!=i.gradient.id&&(it.defs.removeChild(i.gradient),delete i.gradient),!i.gradient)for(a=t(w+"Gradient",{id:l}),i.gradient=a,t(a,w=="radial"?{fx:b,fy:s}:{x1:e[0],y1:e[1],x2:e[2],y2:e[3],gradientTransform:i.matrix.invert()}),it.defs.appendChild(a),h=0,rt=p.length;h<rt;h++)a.appendChild(t("stop",{offset:p[h].offset?p[h].offset:h?"100%":"0%","stop-color":p[h].color||"#fff"}))}return t(tt,{fill:"url(#"+l+")",opacity:1,"fill-opacity":1}),g.fill=o,g.opacity=1,g.fillOpacity=1,1},b=function(n){var i=n.getBBox(1);t(n.pattern,{patternTransform:n.matrix.invert()+" translate("+i.x+","+i.y+")"})},s=function(r,f,s){var b,k,g,tt,it,rt;if(r.type=="path"){for(var ut=u(f).toLowerCase().split("-"),ht=r.paper,h=s?"end":"start",ct=r.node,l=r.attrs,d=l["stroke-width"],et=ut.length,a="classic",p,w,ot,st,c,v=3,y=3,nt=5;et--;)switch(ut[et]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=ut[et];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":v=5;break;case"short":v=2}a=="open"?(v+=2,y+=2,nt+=2,ot=1,st=s?4:1,c={fill:"none",stroke:l.stroke}):(st=ot=v/2,c={fill:l.stroke,stroke:"none"});r._.arrows?s?(r._.arrows.endPath&&e[r._.arrows.endPath]--,r._.arrows.endMarker&&e[r._.arrows.endMarker]--):(r._.arrows.startPath&&e[r._.arrows.startPath]--,r._.arrows.startMarker&&e[r._.arrows.startMarker]--):r._.arrows={};a!="none"?(b="raphael-marker-"+a,k="raphael-marker-"+h+a+v+y,n._g.doc.getElementById(b)?e[b]++:(ht.defs.appendChild(t(t("path"),{"stroke-linecap":"round",d:ft[a],id:b})),e[b]=1),g=n._g.doc.getElementById(k),g?(e[k]++,tt=g.getElementsByTagName("use")[0]):(g=t(t("marker"),{id:k,markerHeight:y,markerWidth:v,orient:"auto",refX:st,refY:y/2}),tt=t(t("use"),{"xlink:href":"#"+b,transform:(s?"rotate(180 "+v/2+" "+y/2+") ":o)+"scale("+v/nt+","+y/nt+")","stroke-width":(2/(v/nt+y/nt)).toFixed(4)}),g.appendChild(tt),ht.defs.appendChild(g),e[k]=1),t(tt,c),it=ot*(a!="diamond"&&a!="oval"),s?(p=r._.arrows.startdx*d||0,w=n.getTotalLength(l.path)-it*d):(p=it*d,w=n.getTotalLength(l.path)-(r._.arrows.enddx*d||0)),c={},c["marker-"+h]="url(#"+k+")",(w||p)&&(c.d=Raphael.getSubpath(l.path,p,w)),t(ct,c),r._.arrows[h+"Path"]=b,r._.arrows[h+"Marker"]=k,r._.arrows[h+"dx"]=it,r._.arrows[h+"Type"]=a,r._.arrows[h+"String"]=f):(s?(p=r._.arrows.startdx*d||0,w=n.getTotalLength(l.path)-p):(p=0,w=n.getTotalLength(l.path)-(r._.arrows.enddx*d||0)),r._.arrows[h+"Path"]&&t(ct,{d:Raphael.getSubpath(l.path,p,w)}),delete r._.arrows[h+"Path"],delete r._.arrows[h+"Marker"],delete r._.arrows[h+"dx"],delete r._.arrows[h+"Type"],delete r._.arrows[h+"String"]);for(c in e)e[i](c)&&!e[c]&&(rt=n._g.doc.getElementById(c),rt&&rt.parentNode.removeChild(rt))}},et={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},rt=function(n,i,r){if(i=et[u(i).toLowerCase()],i){for(var e=n.attrs["stroke-width"]||"1",s={round:e,square:e,butt:0}[n.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],f=i.length;f--;)o[f]=i[f]*e+(f%2?1:-1)*s;t(n.node,{"stroke-dasharray":o.join(",")})}},g=function(r,f){var h=r.node,c=r.attrs,vt=h.style.visibility,v,e,d,ft,g,p,et,lt,st,ht,ct,w,nt,ut,at;h.style.visibility="hidden";for(v in f)if(f[i](v)){if(!n._availableAttrs[i](v))continue;e=f[v];c[v]=e;switch(v){case"blur":r.blur(e);break;case"href":case"title":case"target":d=h.parentNode;d.tagName.toLowerCase()!="a"&&(ft=t("a"),d.insertBefore(ft,h),ft.appendChild(h),d=ft);v=="target"?d.setAttributeNS(a,"show",e=="blank"?"new":e):d.setAttributeNS(a,v,e);break;case"cursor":h.style.cursor=e;break;case"transform":r.transform(e);break;case"arrow-start":s(r,e);break;case"arrow-end":s(r,e,1);break;case"clip-rect":g=u(e).split(l);g.length==4&&(r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode),p=t("clipPath"),et=t("rect"),p.id=n.createUUID(),t(et,{x:g[0],y:g[1],width:g[2],height:g[3]}),p.appendChild(et),r.paper.defs.appendChild(p),t(h,{"clip-path":"url(#"+p.id+")"}),r.clip=et);e||(lt=h.getAttribute("clip-path"),lt&&(st=n._g.doc.getElementById(lt.replace(/(^url\(#|\)$)/g,o)),st&&st.parentNode.removeChild(st),t(h,{"clip-path":o}),delete r.clip));break;case"path":r.type=="path"&&(t(h,{d:e?c.path=n._pathToAbsolute(e):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&s(r,r._.arrows.startString),"endString"in r._.arrows&&s(r,r._.arrows.endString,1)));break;case"width":if(h.setAttribute(v,e),r._.dirty=1,c.fx)v="x",e=c.x;else break;case"x":c.fx&&(e=-c.x-(c.width||0));case"rx":if(v=="rx"&&r.type=="rect")break;case"cx":h.setAttribute(v,e);r.pattern&&b(r);r._.dirty=1;break;case"height":if(h.setAttribute(v,e),r._.dirty=1,c.fy)v="y",e=c.y;else break;case"y":c.fy&&(e=-c.y-(c.height||0));case"ry":if(v=="ry"&&r.type=="rect")break;case"cy":h.setAttribute(v,e);r.pattern&&b(r);r._.dirty=1;break;case"r":r.type=="rect"?t(h,{rx:e,ry:e}):h.setAttribute(v,e);r._.dirty=1;break;case"src":r.type=="image"&&h.setAttributeNS(a,"href",e);break;case"stroke-width":(r._.sx!=1||r._.sy!=1)&&(e/=k(y(r._.sx),y(r._.sy))||1);r.paper._vbSize&&(e*=r.paper._vbSize);h.setAttribute(v,e);c["stroke-dasharray"]&&rt(r,c["stroke-dasharray"],f);r._.arrows&&("startString"in r._.arrows&&s(r,r._.arrows.startString),"endString"in r._.arrows&&s(r,r._.arrows.endString,1));break;case"stroke-dasharray":rt(r,e,f);break;case"fill":if(ht=u(e).match(n._ISURL),ht){p=t("pattern");ct=t("image");p.id=n.createUUID();t(p,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});t(ct,{x:0,y:0,"xlink:href":ht[1]});p.appendChild(ct),function(i){n._preload(ht[1],function(){var n=this.offsetWidth,u=this.offsetHeight;t(i,{width:n,height:u});t(ct,{width:n,height:u});r.paper.safari()})}(p);r.paper.defs.appendChild(p);t(h,{fill:"url(#"+p.id+")"});r.pattern=p;r.pattern&&b(r);break}if(w=n.getRGB(e),w.error){if((r.type=="circle"||r.type=="ellipse"||u(e).charAt()!="r")&&it(r,e)){("opacity"in c||"fill-opacity"in c)&&(nt=n._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g,o)),nt&&(ut=nt.getElementsByTagName("stop"),t(ut[ut.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})));c.gradient=e;c.fill="none";break}}else delete f.gradient,delete c.gradient,!n.is(c.opacity,"undefined")&&n.is(f.opacity,"undefined")&&t(h,{opacity:c.opacity}),!n.is(c["fill-opacity"],"undefined")&&n.is(f["fill-opacity"],"undefined")&&t(h,{"fill-opacity":c["fill-opacity"]});w[i]("opacity")&&t(h,{"fill-opacity":w.opacity>1?w.opacity/100:w.opacity});case"stroke":w=n.getRGB(e);h.setAttribute(v,w.hex);v=="stroke"&&w[i]("opacity")&&t(h,{"stroke-opacity":w.opacity>1?w.opacity/100:w.opacity});v=="stroke"&&r._.arrows&&("startString"in r._.arrows&&s(r,r._.arrows.startString),"endString"in r._.arrows&&s(r,r._.arrows.endString,1));break;case"gradient":(r.type=="circle"||r.type=="ellipse"||u(e).charAt()!="r")&&it(r,e);break;case"opacity":c.gradient&&!c[i]("stroke-opacity")&&t(h,{"stroke-opacity":e>1?e/100:e});case"fill-opacity":if(c.gradient){nt=n._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g,o));nt&&(ut=nt.getElementsByTagName("stop"),t(ut[ut.length-1],{"stop-opacity":e}));break}default:v=="font-size"&&(e=tt(e,10)+"px");at=v.replace(/(\-.)/g,function(n){return n.substring(1).toUpperCase()});h.style[at]=e;r._.dirty=1;h.setAttribute(v,e)}}ot(r,f);h.style.visibility=vt},ut=1.2,ot=function(r,f){var y,h,l,e,a,p,v;if(r.type=="text"&&!!(f[i]("text")||f[i]("font")||f[i]("font-size")||f[i]("x")||f[i]("y"))){var c=r.attrs,s=r.node,w=s.firstChild?tt(n._g.doc.defaultView.getComputedStyle(s.firstChild,o).getPropertyValue("font-size"),10):10;if(f[i]("text")){for(c.text=f.text;s.firstChild;)s.removeChild(s.firstChild);for(y=u(f.text).split("\n"),h=[],e=0,a=y.length;e<a;e++)l=t("tspan"),e&&t(l,{dy:w*ut,x:c.x}),l.appendChild(n._g.doc.createTextNode(y[e])),s.appendChild(l),h[e]=l}else for(h=s.getElementsByTagName("tspan"),e=0,a=h.length;e<a;e++)e?t(h[e],{dy:w*ut,x:c.x}):t(h[0],{dy:0});t(s,{x:c.x,y:c.y});r._.dirty=1;p=r._getBBox();v=c.y-(p.y+p.height/2);v&&n.is(v,"finite")&&t(h[0],{dy:v})}},h=function(t,i){this[0]=this.node=t;t.raphael=!0;this.id=n._oid++;t.raphaelid=this.id;this.matrix=n.matrix();this.realPath=null;this.paper=i;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!i.bottom&&(i.bottom=this);this.prev=i.top;i.top&&(i.top.next=this);i.top=this;this.next=null},r=n.el;h.prototype=r;r.constructor=h;n._engine.path=function(n,i){var u=t("path"),r;return i.canvas&&i.canvas.appendChild(u),r=new h(u,i),r.type="path",g(r,{fill:"none",stroke:"#000",path:n}),r};r.rotate=function(n,t,i){if(this.removed)return this;if(n=u(n).split(l),n.length-1&&(t=f(n[1]),i=f(n[2])),n=f(n[0]),i==null&&(t=i),t==null||i==null){var r=this.getBBox(1);t=r.x+r.width/2;i=r.y+r.height/2}return this.transform(this._.transform.concat([["r",n,t,i]])),this};r.scale=function(n,t,i,r){if(this.removed)return this;if(n=u(n).split(l),n.length-1&&(t=f(n[1]),i=f(n[2]),r=f(n[3])),n=f(n[0]),t==null&&(t=n),r==null&&(i=r),i==null||r==null)var e=this.getBBox(1);return i=i==null?e.x+e.width/2:i,r=r==null?e.y+e.height/2:r,this.transform(this._.transform.concat([["s",n,t,i,r]])),this};r.translate=function(n,t){return this.removed?this:(n=u(n).split(l),n.length-1&&(t=f(n[1])),n=f(n[0])||0,t=+t||0,this.transform(this._.transform.concat([["t",n,t]])),this)};r.transform=function(r){var u=this._,f;return r==null?u.transform:(n._extractTransform(this,r),this.clip&&t(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&t(this.node,{transform:this.matrix}),(u.sx!=1||u.sy!=1)&&(f=this.attrs[i]("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":f})),this)};r.hide=function(){return this.removed||this.paper.safari(this.node.style.display="none"),this};r.show=function(){return this.removed||this.paper.safari(this.node.style.display=""),this};r.remove=function(){var t,i;if(!this.removed&&!!this.node.parentNode){t=this.paper;t.__set__&&t.__set__.exclude(this);p.unbind("raphael.*.*."+this.id);this.gradient&&t.defs.removeChild(this.gradient);n._tear(this,t);this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(i in this)this[i]=typeof this[i]=="function"?n._removedFactory(i):null;this.removed=!0}};r._getBBox=function(){var t,n;this.node.style.display=="none"&&(this.show(),t=!0);n={};try{n=this.node.getBBox()}catch(i){}finally{n=n||{}}return t&&this.hide(),n};r.attr=function(t,r){var e,c,a,s,o,h,f,u,v,y;if(this.removed)return this;if(t==null){e={};for(c in this.attrs)this.attrs[i](c)&&(e[c]=this.attrs[c]);return e.gradient&&e.fill=="none"&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(r==null&&n.is(t,"string")){if(t=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(t=="transform")return this._.transform;for(a=t.split(l),s={},o=0,h=a.length;o<h;o++)t=a[o],s[t]=t in this.attrs?this.attrs[t]:n.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:n._availableAttrs[t];return h-1?s:s[a[0]]}if(r==null&&n.is(t,"array")){for(s={},o=0,h=t.length;o<h;o++)s[t[o]]=this.attr(t[o]);return s}r!=null?(f={},f[t]=r):t!=null&&n.is(t,"object")&&(f=t);for(u in f)p("raphael.attr."+u+"."+this.id,this,f[u]);for(u in this.paper.customAttributes)if(this.paper.customAttributes[i](u)&&f[i](u)&&n.is(this.paper.customAttributes[u],"function")){v=this.paper.customAttributes[u].apply(this,[].concat(f[u]));this.attrs[u]=f[u];for(y in v)v[i](y)&&(f[y]=v[y])}return g(this,f),this};r.toFront=function(){if(this.removed)return this;this.node.parentNode.tagName.toLowerCase()=="a"?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&n._tofront(this,t),this};r.toBack=function(){var t,i;return this.removed?this:(t=this.node.parentNode,t.tagName.toLowerCase()=="a"?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),n._toback(this,this.paper),i=this.paper,this)};r.insertAfter=function(t){if(this.removed)return this;var i=t.node||t[t.length-1].node;return i.nextSibling?i.parentNode.insertBefore(this.node,i.nextSibling):i.parentNode.appendChild(this.node),n._insertafter(this,t,this.paper),this};r.insertBefore=function(t){if(this.removed)return this;var i=t.node||t[0].node;return i.parentNode.insertBefore(this.node,i),n._insertbefore(this,t,this.paper),this};r.blur=function(i){var r=this,u,f;+i!=0?(u=t("filter"),f=t("feGaussianBlur"),r.attrs.blur=i,u.id=n.createUUID(),t(f,{stdDeviation:+i||1.5}),u.appendChild(f),r.paper.defs.appendChild(u),r._blur=u,t(r.node,{filter:"url(#"+u.id+")"})):(r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter"))};n._engine.circle=function(n,i,r,u){var e=t("circle"),f;return n.canvas&&n.canvas.appendChild(e),f=new h(e,n),f.attrs={cx:i,cy:r,r:u,fill:"none",stroke:"#000"},f.type="circle",t(e,f.attrs),f};n._engine.rect=function(n,i,r,u,f,e){var s=t("rect"),o;return n.canvas&&n.canvas.appendChild(s),o=new h(s,n),o.attrs={x:i,y:r,width:u,height:f,r:e||0,rx:e||0,ry:e||0,fill:"none",stroke:"#000"},o.type="rect",t(s,o.attrs),o};n._engine.ellipse=function(n,i,r,u,f){var o=t("ellipse"),e;return n.canvas&&n.canvas.appendChild(o),e=new h(o,n),e.attrs={cx:i,cy:r,rx:u,ry:f,fill:"none",stroke:"#000"},e.type="ellipse",t(o,e.attrs),e};n._engine.image=function(n,i,r,u,f,e){var o=t("image"),s;return t(o,{x:r,y:u,width:f,height:e,preserveAspectRatio:"none"}),o.setAttributeNS(a,"href",i),n.canvas&&n.canvas.appendChild(o),s=new h(o,n),s.attrs={x:r,y:u,width:f,height:e,src:i},s.type="image",s};n._engine.text=function(i,r,u,f){var o=t("text"),e;return i.canvas&&i.canvas.appendChild(o),e=new h(o,i),e.attrs={x:r,y:u,"text-anchor":"middle",text:f,font:n._availableAttrs.font,stroke:"none",fill:"#000"},e.type="text",g(e,e.attrs),e};n._engine.setSize=function(n,t){return this.width=n||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this};n._engine.create=function(){var u=n._getContainer.apply(0,arguments),i=u&&u.container,o=u.x,s=u.y,f=u.width,e=u.height,r,h,c;if(!i)throw new Error("SVG container not found.");return r=t("svg"),h="overflow:hidden;",o=o||0,s=s||0,f=f||512,e=e||342,t(r,{height:e,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg"}),i==1?(r.style.cssText=h+"position:absolute;left:"+o+"px;top:"+s+"px",n._g.doc.body.appendChild(r),c=1):(r.style.cssText=h+"position:relative",i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r)),i=new n._Paper,i.width=f,i.height=e,i.canvas=r,i.clear(),i._left=i._top=0,c&&(i.renderfix=function(){}),i.renderfix(),i};n._engine.setViewBox=function(n,i,r,u,f){p("raphael.setViewBox",this,this._viewBox,[n,i,r,u,f]);var o=k(r/this.width,u/this.height),e=this.top,c=f?"meet":"xMinYMin",s,h;for(n==null?(this._vbSize&&(o=1),delete this._vbSize,s="0 0 "+this.width+w+this.height):(this._vbSize=o,s=n+w+i+w+r+w+u),t(this.canvas,{viewBox:s,preserveAspectRatio:c});o&&e;)h="stroke-width"in e.attrs?e.attrs["stroke-width"]:1,e.attr({"stroke-width":h}),e._.dirty=1,e._.dirtyT=1,e=e.prev;return this._viewBox=[n,i,r,u,!!f],this};n.prototype.renderfix=function(){var n=this.canvas,u=n.style,t,i,r;try{t=n.getScreenCTM()||n.createSVGMatrix()}catch(f){t=n.createSVGMatrix()}i=-t.e%1;r=-t.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,u.left=this._left+"px"),r&&(this._top=(this._top+r)%1,u.top=this._top+"px"))};n.prototype.clear=function(){n.eve("raphael.clear",this);for(var i=this.canvas;i.firstChild;)i.removeChild(i.firstChild);this.bottom=this.top=null;(this.desc=t("desc")).appendChild(n._g.doc.createTextNode("Created with Raphaël "+n.version));i.appendChild(this.desc);i.appendChild(this.defs=t("defs"))};n.prototype.remove=function(){p("raphael.remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?n._removedFactory(t):null};nt=n.st;for(v in r)r[i](v)&&!nt[i](v)&&(nt[v]=function(n){return function(){var t=arguments;return this.forEach(function(i){i[n].apply(i,t)})}}(v))}(window.Raphael);window.Raphael.vml&&function(n){var h="hasOwnProperty",i=String,f=parseFloat,c=Math,e=c.round,k=c.max,g=c.min,p=c.abs,l="fill",a=/[, ]+/,ut=n.eve,ft=" progid:DXImageTransform.Microsoft",o=" ",u="",nt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},et=/([clmz]),?([^clmz]*)/gi,ot=/ progid:\S+Blur\([^\)]+\)/g,st=/-?[^,\s-]+/g,tt="position:absolute;left:0;top:0;width:1px;height:1px",t=21600,ht={path:1,rect:1,image:1},ct={circle:1,ellipse:1},lt=function(r){var l=/[ahqstv]/ig,a=n._pathToAbsolute,v,c,y,f,s,w,h,p;if(i(r).match(l)&&(a=n._path2curve),l=/[clmz]/g,a==n._pathToAbsolute&&!i(r).match(l))return i(r).replace(et,function(n,i,r){var u=[],o=i.toLowerCase()=="m",f=nt[i];return r.replace(st,function(n){o&&u.length==2&&(f+=u+nt[i=="m"?"l":"L"],u=[]);u.push(e(n*t))}),f+u});for(c=a(r),v=[],s=0,w=c.length;s<w;s++){for(y=c[s],f=c[s][0].toLowerCase(),f=="z"&&(f="x"),h=1,p=y.length;h<p;h++)f+=e(y[h]*t)+(h!=p-1?",":u);v.push(f)}return v.join(o)},it=function(t,i,r){var u=n.matrix();return u.rotate(-t,.5,.5),{dx:u.x(i,r),dy:u.y(i,r)}},w=function(n,i,r,u,f,e){var v=n._,k=n.matrix,h=v.fillpos,c=n.node,y=c.style,w=1,b="",d=t/i,g=t/r,a,s;y.visibility="hidden";!i||!r||(c.coordsize=p(d)+o+p(g),y.rotation=e*(i*r<0?-1:1),e&&(a=it(e,u,f),u=a.dx,f=a.dy),i<0&&(b+="x"),r<0&&(b+=" y")&&(w=-1),y.flip=b,c.coordorigin=u*-d+o+f*-g,(h||v.fillsize)&&(s=c.getElementsByTagName(l),s=s&&s[0],c.removeChild(s),h&&(a=it(e,k.x(h[0],h[1]),k.y(h[0],h[1])),s.position=a.dx*w+o+a.dy*w),v.fillsize&&(s.size=v.fillsize[0]*p(i)+o+v.fillsize[1]*p(r)),c.appendChild(s)),y.visibility="visible")},s,d,y;n.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var rt=function(n,t,r){for(var u=i(t).toLowerCase().split("-"),o=r?"end":"start",f=u.length,s="classic",h="medium",c="medium",e;f--;)switch(u[f]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=u[f];break;case"wide":case"narrow":c=u[f];break;case"long":case"short":h=u[f]}e=n.node.getElementsByTagName("stroke")[0];e[o+"arrow"]=s;e[o+"arrowlength"]=h;e[o+"arrowwidth"]=c},v=function(r,c){var yt,nt,ot,ut,ft,y,si,pt,st,tt,d,dt,gt,et,ni,vt,ri,bt,hi;r.attrs=r.attrs||{};var b=r.node,v=r.attrs,it=b.style,ui=ht[r.type]&&(c.x!=v.x||c.y!=v.y||c.width!=v.width||c.height!=v.height||c.cx!=v.cx||c.cy!=v.cy||c.rx!=v.rx||c.ry!=v.ry||c.r!=v.r),ci=ct[r.type]&&(v.cx!=c.cx||v.cy!=c.cy||v.r!=c.r||v.rx!=c.rx||v.ry!=c.ry),p=r;for(yt in c)c[h](yt)&&(v[yt]=c[yt]);if(ui&&(v.path=n._getPath[r.type](r),r._.dirty=1),c.href&&(b.href=c.href),c.title&&(b.title=c.title),c.target&&(b.target=c.target),c.cursor&&(it.cursor=c.cursor),"blur"in c&&r.blur(c.blur),(c.path&&r.type=="path"||ui)&&(b.path=lt(~i(v.path).toLowerCase().indexOf("r")?n._pathToAbsolute(v.path):v.path),r.type=="image"&&(r._.fillpos=[v.x,v.y],r._.fillsize=[v.width,v.height],w(r,1,1,0,0,0))),"transform"in c&&r.transform(c.transform),ci){var kt=+v.cx,fi=+v.cy,ei=+v.rx||+v.r||0,oi=+v.ry||+v.r||0;b.path=n.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",e((kt-ei)*t),e((fi-oi)*t),e((kt+ei)*t),e((fi+oi)*t),e(kt*t))}if("clip-rect"in c&&(nt=i(c["clip-rect"]).split(a),nt.length==4&&(nt[2]=+nt[2]+ +nt[0],nt[3]=+nt[3]+ +nt[1],ot=b.clipRect||n._g.doc.createElement("div"),ut=ot.style,ut.clip=n.format("rect({1}px {2}px {3}px {0}px)",nt),b.clipRect||(ut.position="absolute",ut.top=0,ut.left=0,ut.width=r.paper.width+"px",ut.height=r.paper.height+"px",b.parentNode.insertBefore(ot,b),ot.appendChild(b),b.clipRect=ot)),c["clip-rect"]||b.clipRect&&(b.clipRect.style.clip="auto")),r.textpath&&(ft=r.textpath.style,c.font&&(ft.font=c.font),c["font-family"]&&(ft.fontFamily='"'+c["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,u)+'"'),c["font-size"]&&(ft.fontSize=c["font-size"]),c["font-weight"]&&(ft.fontWeight=c["font-weight"]),c["font-style"]&&(ft.fontStyle=c["font-style"])),"arrow-start"in c&&rt(p,c["arrow-start"]),"arrow-end"in c&&rt(p,c["arrow-end"],1),(c.opacity!=null||c["stroke-width"]!=null||c.fill!=null||c.src!=null||c.stroke!=null||c["stroke-width"]!=null||c["stroke-opacity"]!=null||c["fill-opacity"]!=null||c["stroke-dasharray"]!=null||c["stroke-miterlimit"]!=null||c["stroke-linejoin"]!=null||c["stroke-linecap"]!=null)&&(y=b.getElementsByTagName(l),si=!1,y=y&&y[0],!y&&(si=y=s(l)),r.type=="image"&&c.src&&(y.src=c.src),c.fill&&(y.on=!0),(y.on==null||c.fill=="none"||c.fill===null)&&(y.on=!1),y.on&&c.fill&&(pt=i(c.fill).match(n._ISURL),pt?(y.parentNode==b&&b.removeChild(y),y.rotate=!0,y.src=pt[1],y.type="tile",st=r.getBBox(1),y.position=st.x+o+st.y,r._.fillpos=[st.x,st.y],n._preload(pt[1],function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]})):(y.color=n.getRGB(c.fill).hex,y.src=u,y.type="solid",n.getRGB(c.fill).error&&(p.type in{circle:1,ellipse:1}||i(c.fill).charAt()!="r")&&at(p,c.fill,y)&&(v.fill="none",v.gradient=c.fill,y.rotate=!1))),("fill-opacity"in c||"opacity"in c)&&(tt=((+v["fill-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+n.getRGB(c.fill).o+1||2)-1),tt=g(k(tt,0),1),y.opacity=tt,y.src&&(y.color="none")),b.appendChild(y),d=b.getElementsByTagName("stroke")&&b.getElementsByTagName("stroke")[0],dt=!1,d||(dt=d=s("stroke")),(c.stroke&&c.stroke!="none"||c["stroke-width"]||c["stroke-opacity"]!=null||c["stroke-dasharray"]||c["stroke-miterlimit"]||c["stroke-linejoin"]||c["stroke-linecap"])&&(d.on=!0),(c.stroke=="none"||c.stroke===null||d.on==null||c.stroke==0||c["stroke-width"]==0)&&(d.on=!1),gt=n.getRGB(c.stroke),d.on&&c.stroke&&(d.color=gt.hex),tt=((+v["stroke-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+gt.o+1||2)-1),et=(f(c["stroke-width"])||1)*.75,tt=g(k(tt,0),1),c["stroke-width"]==null&&(et=v["stroke-width"]),c["stroke-width"]&&(d.weight=et),et&&et<1&&(tt*=et)&&(d.weight=1),d.opacity=tt,c["stroke-linejoin"]&&(d.joinstyle=c["stroke-linejoin"]||"miter"),d.miterlimit=c["stroke-miterlimit"]||8,c["stroke-linecap"]&&(d.endcap=c["stroke-linecap"]=="butt"?"flat":c["stroke-linecap"]=="square"?"square":"round"),c["stroke-dasharray"]&&(ni={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},d.dashstyle=ni[h](c["stroke-dasharray"])?ni[c["stroke-dasharray"]]:u),dt&&b.appendChild(d)),p.type=="text"){p.paper.canvas.style.display=u;var ti=p.paper.span,ii=100,wt=v.font&&v.font.match(/\d+(?:\.\d*)?(?=px)/);for(it=ti.style,v.font&&(it.font=v.font),v["font-family"]&&(it.fontFamily=v["font-family"]),v["font-weight"]&&(it.fontWeight=v["font-weight"]),v["font-style"]&&(it.fontStyle=v["font-style"]),wt=f(v["font-size"]||wt&&wt[0])||10,it.fontSize=wt*ii+"px",p.textpath.string&&(ti.innerHTML=i(p.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")),vt=ti.getBoundingClientRect(),p.W=v.w=(vt.right-vt.left)/ii,p.H=v.h=(vt.bottom-vt.top)/ii,p.X=v.x,p.Y=v.y+p.H/2,(("x"in c)||("y"in c))&&(p.path.v=n.format("m{0},{1}l{2},{1}",e(v.x*t),e(v.y*t),e(v.x*t)+1)),ri=["x","y","text","font","font-family","font-weight","font-style","font-size"],bt=0,hi=ri.length;bt<hi;bt++)if(ri[bt]in c){p._.dirty=1;break}switch(v["text-anchor"]){case"start":p.textpath.style["v-text-align"]="left";p.bbx=p.W/2;break;case"end":p.textpath.style["v-text-align"]="right";p.bbx=-p.W/2;break;default:p.textpath.style["v-text-align"]="center";p.bbx=0}p.textpath.style["v-text-kern"]=!0}},at=function(t,r,e){var l,s,a,h,w;t.attrs=t.attrs||{};var b=t.attrs,v=Math.pow,y="linear",p=".5 .5";if((t.attrs.gradient=r,r=i(r).replace(n._radial_gradient,function(n,t,i){return y="radial",t&&i&&(t=f(t),i=f(i),v(t-.5,2)+v(i-.5,2)>.25&&(i=c.sqrt(.25-v(t-.5,2))*((i>.5)*2-1)+.5),p=t+o+i),u}),r=r.split(/\s*\-\s*/),y=="linear"&&(l=r.shift(),l=-f(l),isNaN(l)))||(s=n._parseDots(r),!s))return null;if(t=t.shape||t.node,s.length){for(t.removeChild(e),e.on=!0,e.method="none",e.color=s[0].color,e.color2=s[s.length-1].color,a=[],h=0,w=s.length;h<w;h++)s[h].offset&&a.push(s[h].offset+o+s[h].color);e.colors=a.length?a.join():"0% "+e.color;y=="radial"?(e.type="gradientTitle",e.focus="100%",e.focussize="0 0",e.focusposition=p,e.angle=0):(e.type="gradient",e.angle=(270-l)%360);t.appendChild(e)}return 1},b=function(t,i){this[0]=this.node=t;t.raphael=!0;this.id=n._oid++;t.raphaelid=this.id;this.X=0;this.Y=0;this.attrs={};this.paper=i;this.matrix=n.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!i.bottom&&(i.bottom=this);this.prev=i.top;i.top&&(i.top.next=this);i.top=this;this.next=null},r=n.el;b.prototype=r;r.constructor=b;r.transform=function(r){var e,a,l;if(r==null)return this._.transform;e=this.paper._viewBoxShift;a=e?"s"+[e.scale,e.scale]+"-1-1t"+[e.dx,e.dy]:u;e&&(l=r=i(r).replace(/\.{3}|\u2026/g,this._.transform||u));n._extractTransform(this,a+r);var s=this.matrix.clone(),h=this.skew,c=this.node,f,v=~i(this.attrs.fill).indexOf("-"),d=!i(this.attrs.fill).indexOf("url(");if(s.translate(-.5,-.5),d||v||this.type=="image")if(h.matrix="1 0 0 1",h.offset="0 0",f=s.split(),v&&f.noRotation||!f.isSimple){c.style.filter=s.toFilter();var y=this.getBBox(),p=this.getBBox(1),b=y.x-p.x,k=y.y-p.y;c.coordorigin=b*-t+o+k*-t;w(this,1,1,b,k,0)}else c.style.filter=u,w(this,f.scalex,f.scaley,f.dx,f.dy,f.rotate);else c.style.filter=u,h.matrix=i(s),h.offset=s.offset();return l&&(this._.transform=l),this};r.rotate=function(n,t,r){if(this.removed)return this;if(n!=null){if(n=i(n).split(a),n.length-1&&(t=f(n[1]),r=f(n[2])),n=f(n[0]),r==null&&(t=r),t==null||r==null){var u=this.getBBox(1);t=u.x+u.width/2;r=u.y+u.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",n,t,r]])),this}};r.translate=function(n,t){return this.removed?this:(n=i(n).split(a),n.length-1&&(t=f(n[1])),n=f(n[0])||0,t=+t||0,this._.bbox&&(this._.bbox.x+=n,this._.bbox.y+=t),this.transform(this._.transform.concat([["t",n,t]])),this)};r.scale=function(n,t,r,u){if(this.removed)return this;if(n=i(n).split(a),n.length-1&&(t=f(n[1]),r=f(n[2]),u=f(n[3]),isNaN(r)&&(r=null),isNaN(u)&&(u=null)),n=f(n[0]),t==null&&(t=n),u==null&&(r=u),r==null||u==null)var e=this.getBBox(1);return r=r==null?e.x+e.width/2:r,u=u==null?e.y+e.height/2:u,this.transform(this._.transform.concat([["s",n,t,r,u]])),this._.dirtyT=1,this};r.hide=function(){return this.removed||(this.node.style.display="none"),this};r.show=function(){return this.removed||(this.node.style.display=u),this};r._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};r.remove=function(){if(!this.removed&&!!this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this);n.eve.unbind("raphael.*.*."+this.id);n._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]=typeof this[t]=="function"?n._removedFactory(t):null;this.removed=!0}};r.attr=function(t,i){var f,c,y,o,e,s,r,u,p,w;if(this.removed)return this;if(t==null){f={};for(c in this.attrs)this.attrs[h](c)&&(f[c]=this.attrs[c]);return f.gradient&&f.fill=="none"&&(f.fill=f.gradient)&&delete f.gradient,f.transform=this._.transform,f}if(i==null&&n.is(t,"string")){if(t==l&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;for(y=t.split(a),o={},e=0,s=y.length;e<s;e++)t=y[e],o[t]=t in this.attrs?this.attrs[t]:n.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:n._availableAttrs[t];return s-1?o:o[y[0]]}if(this.attrs&&i==null&&n.is(t,"array")){for(o={},e=0,s=t.length;e<s;e++)o[t[e]]=this.attr(t[e]);return o}i!=null&&(r={},r[t]=i);i==null&&n.is(t,"object")&&(r=t);for(u in r)ut("raphael.attr."+u+"."+this.id,this,r[u]);if(r){for(u in this.paper.customAttributes)if(this.paper.customAttributes[h](u)&&r[h](u)&&n.is(this.paper.customAttributes[u],"function")){p=this.paper.customAttributes[u].apply(this,[].concat(r[u]));this.attrs[u]=r[u];for(w in p)p[h](w)&&(r[w]=p[w])}r.text&&this.type=="text"&&(this.textpath.string=r.text);v(this,r)}return this};r.toFront=function(){return this.removed||this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&n._tofront(this,this.paper),this};r.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),n._toback(this,this.paper)),this)};r.insertAfter=function(t){return this.removed?this:(t.constructor==n.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),n._insertafter(this,t,this.paper),this)};r.insertBefore=function(t){return this.removed?this:(t.constructor==n.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),n._insertbefore(this,t,this.paper),this)};r.blur=function(t){var i=this.node.runtimeStyle,r=i.filter;r=r.replace(ot,u);+t!=0?(this.attrs.blur=t,i.filter=r+o+ft+".Blur(pixelradius="+(+t||1.5)+")",i.margin=n.format("-{0}px 0 0 -{0}px",e(+t||1.5))):(i.filter=r,i.margin=0,delete this.attrs.blur)};n._engine.path=function(n,i){var f=s("shape"),r,h,e;return f.style.cssText=tt,f.coordsize=t+o+t,f.coordorigin=i.coordorigin,r=new b(f,i),h={fill:"none",stroke:"#000"},n&&(h.path=n),r.type="path",r.path=[],r.Path=u,v(r,h),i.canvas.appendChild(f),e=s("skew"),e.on=!0,f.appendChild(e),r.skew=e,r.transform(u),r};n._engine.rect=function(t,i,r,u,f,e){var h=n._rectPath(i,r,u,f,e),o=t.path(h),s=o.attrs;return o.X=s.x=i,o.Y=s.y=r,o.W=s.width=u,o.H=s.height=f,s.r=e,s.path=h,o.type="rect",o};n._engine.ellipse=function(n,t,i,r,u){var f=n.path(),e=f.attrs;return f.X=t-r,f.Y=i-u,f.W=r*2,f.H=u*2,f.type="ellipse",v(f,{cx:t,cy:i,rx:r,ry:u}),f};n._engine.circle=function(n,t,i,r){var u=n.path(),f=u.attrs;return u.X=t-r,u.Y=i-r,u.W=u.H=r*2,u.type="circle",v(u,{cx:t,cy:i,r:r}),u};n._engine.image=function(t,i,r,u,f,e){var a=n._rectPath(r,u,f,e),o=t.path(a).attr({stroke:"none"}),s=o.attrs,c=o.node,h=c.getElementsByTagName(l)[0];return s.src=i,o.X=s.x=r,o.Y=s.y=u,o.W=s.width=f,o.H=s.height=e,s.path=a,o.type="image",h.parentNode==c&&c.removeChild(h),h.rotate=!0,h.src=i,h.type="tile",o._.fillpos=[r,u],o._.fillsize=[f,e],c.appendChild(h),w(o,1,1,0,0,0),o};n._engine.text=function(r,f,h,c){var a=s("shape"),y=s("path"),p=s("textpath"),l,k,w;return f=f||0,h=h||0,c=c||"",y.v=n.format("m{0},{1}l{2},{1}",e(f*t),e(h*t),e(f*t)+1),y.textpathok=!0,p.string=i(c),p.on=!0,a.style.cssText=tt,a.coordsize=t+o+t,a.coordorigin="0 0",l=new b(a,r),k={fill:"#000",stroke:"none",font:n._availableAttrs.font,text:c},l.shape=a,l.path=y,l.textpath=p,l.type="text",l.attrs.text=i(c),l.attrs.x=f,l.attrs.y=h,l.attrs.w=1,l.attrs.h=1,v(l,k),a.appendChild(p),a.appendChild(y),r.canvas.appendChild(a),w=s("skew"),w.on=!0,a.appendChild(w),l.skew=w,l.transform(u),l};n._engine.setSize=function(t,i){var r=this.canvas.style;return this.width=t,this.height=i,t==+t&&(t+="px"),i==+i&&(i+="px"),r.width=t,r.height=i,r.clip="rect(0 "+t+" "+i+" 0)",this._viewBox&&n._engine.setViewBox.apply(this,this._viewBox),this};n._engine.setViewBox=function(t,i,r,u,f){n.eve("raphael.setViewBox",this,this._viewBox,[t,i,r,u,f]);var e=this.width,o=this.height,c=1/k(r/e,u/o),s,h;return f&&(s=o/u,h=e/r,r*s<e&&(t-=(e-r*s)/2/s),u*h<o&&(i-=(o-u*h)/2/h)),this._viewBox=[t,i,r,u,!!f],this._viewBoxShift={dx:-t,dy:-i,scale:c},this.forEach(function(n){n.transform("...")}),this};n._engine.initWin=function(n){var t=n.document;t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{t.namespaces.rvml||t.namespaces.add("rvml","urn:schemas-microsoft-com:vml");s=function(n){return t.createElement("<rvml:"+n+' class="rvml">')}}catch(i){s=function(n){return t.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};n._engine.initWin(n._g.win);n._engine.create=function(){var e=n._getContainer.apply(0,arguments),f=e.container,r=e.height,u=e.width,c=e.x,l=e.y;if(!f)throw new Error("VML container not found.");var i=new n._Paper,s=i.canvas=n._g.doc.createElement("div"),h=s.style;return c=c||0,l=l||0,u=u||512,r=r||342,i.width=u,i.height=r,u==+u&&(u+="px"),r==+r&&(r+="px"),i.coordsize=t*1e3+o+t*1e3,i.coordorigin="0 0",i.span=n._g.doc.createElement("span"),i.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",s.appendChild(i.span),h.cssText=n.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",u,r),f==1?(n._g.doc.body.appendChild(s),h.left=c+"px",h.top=l+"px",h.position="absolute"):f.firstChild?f.insertBefore(s,f.firstChild):f.appendChild(s),i.renderfix=function(){},i};n.prototype.clear=function(){n.eve("raphael.clear",this);this.canvas.innerHTML=u;this.span=n._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};n.prototype.remove=function(){n.eve("raphael.remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?n._removedFactory(t):null;return!0};d=n.st;for(y in r)r[h](y)&&!d[h](y)&&(d[y]=function(n){return function(){var t=arguments;return this.forEach(function(i){i[n].apply(i,t)})}}(y))}(window.Raphael),function(){var t,n,r,u,e=[].slice,i=function(n,t){return function(){return n.apply(t,arguments)}},o={}.hasOwnProperty,f=function(n,t){function r(){this.constructor=n}for(var i in t)o.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},s=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};n=window.Morris={};t=jQuery;n.EventEmitter=function(){function n(){}return n.prototype.on=function(n,t){return this.handlers==null&&(this.handlers={}),this.handlers[n]==null&&(this.handlers[n]=[]),this.handlers[n].push(t),this},n.prototype.fire=function(){var u,f,t,n,o,i,r;if(t=arguments[0],u=2<=arguments.length?e.call(arguments,1):[],this.handlers!=null&&this.handlers[t]!=null){for(i=this.handlers[t],r=[],n=0,o=i.length;n<o;n++)f=i[n],r.push(f.apply(null,u));return r}},n}();n.commas=function(n){var r,t,i,u;return n!=null?(i=n<0?"-":"",r=Math.abs(n),t=Math.floor(r).toFixed(0),i+=t.replace(/(?=(?:\d{3})+$)(?!^)/g,","),u=r.toString(),u.length>t.length&&(i+=u.slice(t.length)),i):"-"};n.pad2=function(n){return(n<10?"0":"")+n};n.Grid=function(r){function u(n){this.resizeHandler=i(this.resizeHandler,this);var r=this;if(this.el=typeof n.element=="string"?t(document.getElementById(n.element)):t(n.element),this.el==null||this.el.length===0)throw new Error("Graph container element not found");this.el.css("position")==="static"&&this.el.css("position","relative");this.options=t.extend({},this.gridDefaults,this.defaults||{},n);typeof this.options.units=="string"&&(this.options.postUnits=n.units);this.raphael=new Raphael(this.el[0]);this.elementWidth=null;this.elementHeight=null;this.dirty=!1;this.selectFrom=null;this.init&&this.init();this.setData(this.options.data);this.el.bind("mousemove",function(n){var i,u,f,e,t;return u=r.el.offset(),t=n.pageX-u.left,r.selectFrom?(i=r.data[r.hitTest(Math.min(t,r.selectFrom))]._x,f=r.data[r.hitTest(Math.max(t,r.selectFrom))]._x,e=f-i,r.selectionRect.attr({x:i,width:e})):r.fire("hovermove",t,n.pageY-u.top)});this.el.bind("mouseleave",function(){return r.selectFrom&&(r.selectionRect.hide(),r.selectFrom=null),r.fire("hoverout")});this.el.bind("touchstart touchmove touchend",function(n){var t,i;return i=n.originalEvent.touches[0]||n.originalEvent.changedTouches[0],t=r.el.offset(),r.fire("hovermove",i.pageX-t.left,i.pageY-t.top)});this.el.bind("click",function(n){var t;return t=r.el.offset(),r.fire("gridclick",n.pageX-t.left,n.pageY-t.top)});this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(n){var t;return t=r.el.offset(),r.startRange(n.pageX-t.left)}),this.el.bind("mouseup",function(n){var t;return t=r.el.offset(),r.endRange(n.pageX-t.left),r.fire("hovermove",n.pageX-t.left,n.pageY-t.top)}));this.options.resize&&t(window).bind("resize",function(){return r.timeoutId!=null&&window.clearTimeout(r.timeoutId),r.timeoutId=window.setTimeout(r.resizeHandler,100)});this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)");this.postInit&&this.postInit()}return f(u,r),u.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},u.prototype.setData=function(t,i){var w,c,s,l,a,r,h,v,o,y,b,f,e,u,p;if(i==null&&(i=!0),this.options.data=t,t==null||t.length===0){this.data=[];this.raphael.clear();this.hover!=null&&this.hover.hide();return}return f=this.cumulative?0:null,e=this.cumulative?0:null,this.options.goals.length>0&&(a=Math.min.apply(Math,this.options.goals),l=Math.max.apply(Math,this.options.goals),e=e!=null?Math.min(e,a):a,f=f!=null?Math.max(f,l):l),this.data=function(){var i,a,l;for(l=[],s=i=0,a=t.length;i<a;s=++i)h=t[s],r={src:h},r.label=h[this.options.xkey],this.options.parseTime?(r.x=n.parseDate(r.label),this.options.dateFormat?r.label=this.options.dateFormat(r.x):typeof r.label=="number"&&(r.label=new Date(r.label).toString())):(r.x=s,this.options.xLabelFormat&&(r.label=this.options.xLabelFormat(r))),o=0,r.y=function(){var n,r,t,i;for(t=this.options.ykeys,i=[],c=n=0,r=t.length;n<r;c=++n)b=t[c],u=h[b],typeof u=="string"&&(u=parseFloat(u)),u!=null&&typeof u!="number"&&(u=null),u!=null&&(this.cumulative?o+=u:f!=null?(f=Math.max(u,f),e=Math.min(u,e)):f=e=u),this.cumulative&&o!=null&&(f=Math.max(o,f),e=Math.min(o,e)),i.push(u);return i}.call(this),l.push(r);return l}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(n,t){return(n.x>t.x)-(t.x>n.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.events=this.options.parseTime?function(){var t,u,i,r;for(i=this.options.events,r=[],t=0,u=i.length;t<u;t++)w=i[t],r.push(n.parseDate(w));return r}.call(this):this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",e),this.ymax=this.yboundary("max",f),this.ymin===this.ymax&&(e&&(this.ymin-=1),this.ymax+=1),((p=this.options.axes)===!0||p==="both"||p==="y"||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(v=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var n,r,t,i;for(i=[],y=n=r=this.ymin,t=this.ymax;v>0?n<=t:n>=t;y=n+=v)i.push(y);return i}.call(this))),this.dirty=!0,i?this.redraw():void 0},u.prototype.yboundary=function(n,t){var i,r;return i=this.options["y"+n],typeof i=="string"?i.slice(0,4)==="auto"?i.length>5?(r=parseInt(i.slice(5),10),t==null)?r:Math[n](t,r):t!=null?t:0:parseInt(i,10):i},u.prototype.autoGridLines=function(n,t,i){var u,f,s,h,c,r,e,o,l;return c=t-n,l=Math.floor(Math.log(c)/Math.log(10)),e=Math.pow(10,l),f=Math.floor(n/e)*e,u=Math.ceil(t/e)*e,r=(u-f)/(i-1),e===1&&r>1&&Math.ceil(r)!==r&&(r=Math.ceil(r),u=f+r*(i-1)),f<0&&u>0&&(f=Math.floor(n/r)*r,u=Math.ceil(t/r)*r),r<1?(h=Math.floor(Math.log(r)/Math.log(10)),s=function(){var n,t;for(t=[],o=n=f;r>0?n<=u:n>=u;o=n+=r)t.push(parseFloat(o.toFixed(1-h)));return t}()):s=function(){var n,t;for(t=[],o=n=f;r>0?n<=u:n>=u;o=n+=r)t.push(o);return t}(),s},u.prototype._calc=function(){var f,e,n,t,i,o,r,u;return i=this.el.width(),n=this.el.height(),(this.elementWidth!==i||this.elementHeight!==n||this.dirty)&&(this.elementWidth=i,this.elementHeight=n,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,((r=this.options.axes)===!0||r==="both"||r==="y")&&(o=function(){var n,r,t,i;for(t=this.grid,i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.measureText(this.yAxisFormat(e)).width);return i}.call(this),this.left+=Math.max.apply(Math,o)),((u=this.options.axes)===!0||u==="both"||u==="x")&&(f=function(){var n,i,r;for(r=[],t=n=0,i=this.data.length;0<=i?n<i:n>i;t=0<=i?++n:--n)r.push(this.measureText(this.data[t].text,-this.options.xLabelAngle).height);return r}.call(this),this.bottom-=Math.max.apply(Math,f)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc)?this.calc():void 0},u.prototype.transY=function(n){return this.bottom-(n-this.ymin)*this.dy},u.prototype.transX=function(n){return this.data.length===1?(this.left+this.right)/2:this.left+(n-this.xmin)*this.dx},u.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},u.prototype.measureText=function(n,t){var r,i;return t==null&&(t=0),i=this.raphael.text(100,100,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(t),r=i.getBBox(),i.remove(),r},u.prototype.yAxisFormat=function(n){return this.yLabelFormat(n)},u.prototype.yLabelFormat=function(t){return typeof this.options.yLabelFormat=="function"?this.options.yLabelFormat(t):""+this.options.preUnits+n.commas(t)+this.options.postUnits},u.prototype.drawGrid=function(){var i,r,n,o,u,f,e,t;if(this.options.grid!==!1||(u=this.options.axes)===!0||u==="both"||u==="y"){for(f=this.grid,t=[],n=0,o=f.length;n<o;n++)i=f[n],r=this.transY(i),((e=this.options.axes)===!0||e==="both"||e==="y")&&this.drawYAxisLabel(this.left-this.options.padding/2,r,this.yAxisFormat(i)),this.options.grid?t.push(this.drawGridLine("M"+this.left+","+r+"H"+(this.left+this.width))):t.push(void 0);return t}},u.prototype.drawGoals=function(){var u,f,n,t,e,i,r;for(i=this.options.goals,r=[],n=t=0,e=i.length;t<e;n=++t)f=i[n],u=this.options.goalLineColors[n%this.options.goalLineColors.length],r.push(this.drawGoal(f,u));return r},u.prototype.drawEvents=function(){var u,f,n,t,e,i,r;for(i=this.events,r=[],n=t=0,e=i.length;t<e;n=++t)f=i[n],u=this.options.eventLineColors[n%this.options.eventLineColors.length],r.push(this.drawEvent(f,u));return r},u.prototype.drawGoal=function(n,t){return this.raphael.path("M"+this.left+","+this.transY(n)+"H"+this.right).attr("stroke",t).attr("stroke-width",this.options.goalStrokeWidth)},u.prototype.drawEvent=function(n,t){return this.raphael.path("M"+this.transX(n)+","+this.bottom+"V"+this.top).attr("stroke",t).attr("stroke-width",this.options.eventStrokeWidth)},u.prototype.drawYAxisLabel=function(n,t,i){return this.raphael.text(n,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},u.prototype.drawGridLine=function(n){return this.raphael.path(n).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},u.prototype.startRange=function(n){return this.hover.hide(),this.selectFrom=n,this.selectionRect.attr({x:n,width:0}).show()},u.prototype.endRange=function(n){var t,i;if(this.selectFrom)return i=Math.min(this.selectFrom,n),t=Math.max(this.selectFrom,n),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(t)].x}),this.selectFrom=null},u.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},u}(n.EventEmitter);n.parseDate=function(n){var e,o,c,s,u,r,h,i,t,f,l;return typeof n=="number"?n:(o=n.match(/^(\d+) Q(\d)$/),s=n.match(/^(\d+)-(\d+)$/),u=n.match(/^(\d+)-(\d+)-(\d+)$/),h=n.match(/^(\d+) W(\d+)$/),i=n.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),t=n.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),o?new Date(parseInt(o[1],10),parseInt(o[2],10)*3-1,1).getTime():s?new Date(parseInt(s[1],10),parseInt(s[2],10)-1,1).getTime():u?new Date(parseInt(u[1],10),parseInt(u[2],10)-1,parseInt(u[3],10)).getTime():h?(f=new Date(parseInt(h[1],10),0,1),f.getDay()!==4&&f.setMonth(0,1+(11-f.getDay())%7),f.getTime()+parseInt(h[2],10)*6048e5):i?i[6]?(r=0,i[6]!=="Z"&&(r=parseInt(i[8],10)*60+parseInt(i[9],10),i[7]==="+"&&(r=0-r)),Date.UTC(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)+r)):new Date(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)).getTime():t?(l=parseFloat(t[6]),e=Math.floor(l),c=Math.round((l-e)*1e3),t[8]?(r=0,t[8]!=="Z"&&(r=parseInt(t[10],10)*60+parseInt(t[11],10),t[9]==="+"&&(r=0-r)),Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10)+r,e,c)):new Date(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),e,c).getTime()):new Date(parseInt(n,10),0,1).getTime())};n.Hover=function(){function i(i){i==null&&(i={});this.options=t.extend({},n.Hover.defaults,i);this.el=t("<div class='"+this.options["class"]+"'><\/div>");this.el.hide();this.options.parent.append(this.el)}return i.defaults={"class":"morris-hover morris-default-style"},i.prototype.update=function(n,t,i){return n?(this.html(n),this.show(),this.moveTo(t,i)):this.hide()},i.prototype.html=function(n){return this.el.html(n)},i.prototype.moveTo=function(n,t){var r,f,e,u,o,i;return o=this.options.parent.innerWidth(),u=this.options.parent.innerHeight(),f=this.el.outerWidth(),r=this.el.outerHeight(),e=Math.min(Math.max(0,n-f/2),o-f),t!=null?(i=t-r-10,i<0&&(i=t+10,i+r>u&&(i=u/2-r/2))):i=u/2-r/2,this.el.css({left:e+"px",top:parseInt(i)+"px"})},i.prototype.show=function(){return this.el.show()},i.prototype.hide=function(){return this.el.hide()},i}();n.Line=function(t){function r(t){if(this.hilight=i(this.hilight,this),this.onHoverOut=i(this.onHoverOut,this),this.onHoverMove=i(this.onHoverMove,this),this.onGridClick=i(this.onGridClick,this),!(this instanceof n.Line))return new n.Line(t);r.__super__.constructor.call(this,t)}return f(r,t),r.prototype.init=function(){if(this.options.hideHover!=="always"){this.hover=new n.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}},r.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},r.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},r.prototype.calcPoints=function(){var n,t,i,f,r,u;for(r=this.data,u=[],i=0,f=r.length;i<f;i++)n=r[i],n._x=this.transX(n.x),n._y=function(){var i,f,u,r;for(u=n.y,r=[],i=0,f=u.length;i<f;i++)t=u[i],t!=null?r.push(this.transY(t)):r.push(t);return r}.call(this),u.push(n._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var i,f,r,u;for(r=n._y,u=[],i=0,f=r.length;i<f;i++)t=r[i],t!=null&&u.push(t);return u}())));return u},r.prototype.hitTest=function(n){var t,u,i,f,r;if(this.data.length===0)return null;for(r=this.data.slice(1),t=i=0,f=r.length;i<f;t=++i)if(u=r[t],n<(u._x+this.data[t]._x)/2)break;return t},r.prototype.onGridClick=function(n,t){var i;return i=this.hitTest(n),this.fire("click",i,this.data[i].src,n,t)},r.prototype.onHoverMove=function(n){var t;return t=this.hitTest(n),this.displayHoverForRow(t)},r.prototype.onHoverOut=function(){if(this.options.hideHover!==!1)return this.displayHoverForRow(null)},r.prototype.displayHoverForRow=function(n){var t;return n!=null?((t=this.hover).update.apply(t,this.hoverContentForRow(n)),this.hilight(n)):(this.hover.hide(),this.hilight())},r.prototype.hoverContentForRow=function(n){var i,r,t,e,u,o,f;for(t=this.data[n],i="<div class='morris-hover-row-label'>"+t.label+"<\/div>",f=t.y,r=u=0,o=f.length;u<o;r=++u)e=f[r],i+="<div class='morris-hover-point' style='color: "+this.colorFor(t,r,"label")+"'>\n  "+this.options.labels[r]+":\n  "+this.yLabelFormat(e)+"\n<\/div>";return typeof this.options.hoverCallback=="function"&&(i=this.options.hoverCallback(n,this.options,i,t.src)),[i,t._x,t._ymax]},r.prototype.generatePaths=function(){var r,t,i,u;return this.paths=function(){var f,e,h,o;for(o=[],t=f=0,e=this.options.ykeys.length;0<=e?f<e:f>e;t=0<=e?++f:--f)u=typeof this.options.smooth=="boolean"?this.options.smooth:(h=this.options.ykeys[t],s.call(this.options.smooth,h)>=0),r=function(){var n,f,r,u;for(r=this.data,u=[],n=0,f=r.length;n<f;n++)i=r[n],i._y[t]!==void 0&&u.push({x:i._x,y:i._y[t]});return u}.call(this),r.length>1?o.push(n.Line.createPath(r,u,this.bottom)):o.push(null);return o}.call(this)},r.prototype.draw=function(){var n;return((n=this.options.axes)===!0||n==="both"||n==="x")&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},r.prototype.drawXAxis=function(){var h,e,i,r,u,o,c,f,l,s,t=this;for(c=this.bottom+this.options.padding/2,u=null,r=null,h=function(n,i){var e,f,o,s,h;return e=t.drawXAxisLabel(t.transX(i),c,n),h=e.getBBox(),e.transform("r"+-t.options.xLabelAngle),f=e.getBBox(),e.transform("t0,"+f.height/2+"..."),t.options.xLabelAngle!==0&&(s=-.5*h.width*Math.cos(t.options.xLabelAngle*Math.PI/180),e.transform("t"+s+",0...")),f=e.getBBox(),(u==null||u>=f.x+f.width||r!=null&&r>=f.x)&&f.x>=0&&f.x+f.width<t.el.width()?(t.options.xLabelAngle!==0&&(o=1.25*t.options.gridTextSize/Math.sin(t.options.xLabelAngle*Math.PI/180),r=f.x-o),u=f.x-t.options.xLabelMargin):e.remove()},i=this.options.parseTime?this.data.length===1&&this.options.xLabels==="auto"?[[this.data[0].label,this.data[0].x]]:n.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var n,r,t,i;for(t=this.data,i=[],n=0,r=t.length;n<r;n++)o=t[n],i.push([o.label,o.x]);return i}.call(this),i.reverse(),s=[],f=0,l=i.length;f<l;f++)e=i[f],s.push(h(e[0],e[1]));return s},r.prototype.drawSeries=function(){var n,t,i,r,u,f;for(this.seriesPoints=[],n=t=r=this.options.ykeys.length-1;r<=0?t<=0:t>=0;n=r<=0?++t:--t)this._drawLineFor(n);for(f=[],n=i=u=this.options.ykeys.length-1;u<=0?i<=0:i>=0;n=u<=0?++i:--i)f.push(this._drawPointFor(n));return f},r.prototype._drawPointFor=function(n){var r,t,i,e,u,f;for(this.seriesPoints[n]=[],u=this.data,f=[],i=0,e=u.length;i<e;i++)t=u[i],r=null,t._y[n]!=null&&(r=this.drawLinePoint(t._x,t._y[n],this.colorFor(t,n,"point"),n)),f.push(this.seriesPoints[n].push(r));return f},r.prototype._drawLineFor=function(n){var t;return t=this.paths[n],t!==null?this.drawLinePath(t,this.colorFor(null,n,"line"),n):void 0},r.createPath=function(t,i,r){var u,l,h,f,o,a,s,e,v,y,p,w,c,b;for(s="",i&&(h=n.Line.gradients(t)),e={y:null},f=c=0,b=t.length;c<b;f=++c)u=t[f],u.y!=null&&(e.y!=null?i?(l=h[f],a=h[f-1],o=(u.x-e.x)/4,v=e.x+o,p=Math.min(r,e.y+o*a),y=u.x-o,w=Math.min(r,u.y-o*l),s+="C"+v+","+p+","+y+","+w+","+u.x+","+u.y):s+="L"+u.x+","+u.y:i&&h[f]==null||(s+="M"+u.x+","+u.y)),e=u;return s},r.gradients=function(n){var f,e,i,r,u,o,s,t;for(e=function(n,t){return(n.y-t.y)/(n.x-t.x)},t=[],i=o=0,s=n.length;o<s;i=++o)f=n[i],f.y!=null?(r=n[i+1]||{y:null},u=n[i-1]||{y:null},u.y!=null&&r.y!=null?t.push(e(u,r)):u.y!=null?t.push(e(u,f)):r.y!=null?t.push(e(f,r)):t.push(null)):t.push(null);return t},r.prototype.hilight=function(n){var t,i,r,u,f;if(this.prevHilight!==null&&this.prevHilight!==n)for(t=i=0,u=this.seriesPoints.length-1;0<=u?i<=u:i>=u;t=0<=u?++i:--i)this.seriesPoints[t][this.prevHilight]&&this.seriesPoints[t][this.prevHilight].animate(this.pointShrinkSeries(t));if(n!==null&&this.prevHilight!==n)for(t=r=0,f=this.seriesPoints.length-1;0<=f?r<=f:r>=f;t=0<=f?++r:--r)this.seriesPoints[t][n]&&this.seriesPoints[t][n].animate(this.pointGrowSeries(t));return this.prevHilight=n},r.prototype.colorFor=function(n,t,i){return typeof this.options.lineColors=="function"?this.options.lineColors.call(this,n,t,i):i==="point"?this.options.pointFillColors[t%this.options.pointFillColors.length]||this.options.lineColors[t%this.options.lineColors.length]:this.options.lineColors[t%this.options.lineColors.length]},r.prototype.drawXAxisLabel=function(n,t,i){return this.raphael.text(n,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},r.prototype.drawLinePath=function(n,t,i){return this.raphael.path(n).attr("stroke",t).attr("stroke-width",this.lineWidthForSeries(i))},r.prototype.drawLinePoint=function(n,t,i,r){return this.raphael.circle(n,t,this.pointSizeForSeries(r)).attr("fill",i).attr("stroke-width",this.pointStrokeWidthForSeries(r)).attr("stroke",this.pointStrokeColorForSeries(r))},r.prototype.pointStrokeWidthForSeries=function(n){return this.options.pointStrokeWidths[n%this.options.pointStrokeWidths.length]},r.prototype.pointStrokeColorForSeries=function(n){return this.options.pointStrokeColors[n%this.options.pointStrokeColors.length]},r.prototype.lineWidthForSeries=function(n){return this.options.lineWidth instanceof Array?this.options.lineWidth[n%this.options.lineWidth.length]:this.options.lineWidth},r.prototype.pointSizeForSeries=function(n){return this.options.pointSize instanceof Array?this.options.pointSize[n%this.options.pointSize.length]:this.options.pointSize},r.prototype.pointGrowSeries=function(n){return Raphael.animation({r:this.pointSizeForSeries(n)+3},25,"linear")},r.prototype.pointShrinkSeries=function(n){return Raphael.animation({r:this.pointSizeForSeries(n)},25,"linear")},r}(n.Grid);n.labelSeries=function(i,r,u,f,e){var s,y,p,w,c,l,o,a,h,b,v;if(p=200*(r-i)/u,y=new Date(i),o=n.LABEL_SPECS[f],o===void 0)for(v=n.AUTO_LABEL_ORDER,h=0,b=v.length;h<b;h++)if(w=v[h],l=n.LABEL_SPECS[w],p>=l.span){o=l;break}for(o===void 0&&(o=n.LABEL_SPECS.second),e&&(o=t.extend({},o,{fmt:e})),s=o.start(y),c=[];(a=s.getTime())<=r;)a>=i&&c.push([o.fmt(s),a]),o.incr(s);return c};r=function(t){return{span:t*6e4,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours())},fmt:function(t){return""+n.pad2(t.getHours())+":"+n.pad2(t.getMinutes())},incr:function(n){return n.setUTCMinutes(n.getUTCMinutes()+t)}}};u=function(t){return{span:t*1e3,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes())},fmt:function(t){return""+n.pad2(t.getHours())+":"+n.pad2(t.getMinutes())+":"+n.pad2(t.getSeconds())},incr:function(n){return n.setUTCSeconds(n.getUTCSeconds()+t)}}};n.LABEL_SPECS={decade:{span:1728e8,start:function(n){return new Date(n.getFullYear()-n.getFullYear()%10,0,1)},fmt:function(n){return""+n.getFullYear()},incr:function(n){return n.setFullYear(n.getFullYear()+10)}},year:{span:1728e7,start:function(n){return new Date(n.getFullYear(),0,1)},fmt:function(n){return""+n.getFullYear()},incr:function(n){return n.setFullYear(n.getFullYear()+1)}},month:{span:24192e5,start:function(n){return new Date(n.getFullYear(),n.getMonth(),1)},fmt:function(t){return""+t.getFullYear()+"-"+n.pad2(t.getMonth()+1)},incr:function(n){return n.setMonth(n.getMonth()+1)}},week:{span:6048e5,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+n.pad2(t.getMonth()+1)+"-"+n.pad2(t.getDate())},incr:function(n){return n.setDate(n.getDate()+7)}},day:{span:864e5,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+n.pad2(t.getMonth()+1)+"-"+n.pad2(t.getDate())},incr:function(n){return n.setDate(n.getDate()+1)}},hour:r(60),"30min":r(30),"15min":r(15),"10min":r(10),"5min":r(5),minute:r(1),"30sec":u(30),"15sec":u(15),"10sec":u(10),"5sec":u(5),second:u(1)};n.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"];n.Area=function(i){function r(i){var f;if(!(this instanceof n.Area))return new n.Area(i);f=t.extend({},u,i);this.cumulative=!f.behaveLikeLine;f.fillOpacity==="auto"&&(f.fillOpacity=f.behaveLikeLine?.8:1);r.__super__.constructor.call(this,f)}var u;return f(r,i),u={fillOpacity:"auto",behaveLikeLine:!1},r.prototype.calcPoints=function(){var n,i,r,t,e,u,f;for(u=this.data,f=[],t=0,e=u.length;t<e;t++)n=u[t],n._x=this.transX(n.x),i=0,n._y=function(){var t,e,f,u;for(f=n.y,u=[],t=0,e=f.length;t<e;t++)r=f[t],this.options.behaveLikeLine?u.push(this.transY(r)):(i+=r||0,u.push(this.transY(i)));return u}.call(this),f.push(n._ymax=Math.max.apply(Math,n._y));return f},r.prototype.drawSeries=function(){var n,i,t,o,r,u,f,e;for(this.seriesPoints=[],i=this.options.behaveLikeLine?function(){u=[];for(var n=0,t=this.options.ykeys.length-1;0<=t?n<=t:n>=t;0<=t?n++:n--)u.push(n);return u}.apply(this):function(){f=[];for(var n=r=this.options.ykeys.length-1;r<=0?n<=0:n>=0;r<=0?n++:n--)f.push(n);return f}.apply(this),e=[],t=0,o=i.length;t<o;t++)n=i[t],this._drawFillFor(n),this._drawLineFor(n),e.push(this._drawPointFor(n));return e},r.prototype._drawFillFor=function(n){var t;return t=this.paths[n],t!==null?(t=t+("L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z"),this.drawFilledPath(t,this.fillForSeries(n))):void 0},r.prototype.fillForSeries=function(n){var t;return t=Raphael.rgb2hsl(this.colorFor(this.data[n],n,"line")),Raphael.hsl(t.h,this.options.behaveLikeLine?t.s*.9:t.s*.75,Math.min(.98,this.options.behaveLikeLine?t.l*1.2:t.l*1.25))},r.prototype.drawFilledPath=function(n,t){return this.raphael.path(n).attr("fill",t).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},r}(n.Line);n.Bar=function(r){function u(r){if(this.onHoverOut=i(this.onHoverOut,this),this.onHoverMove=i(this.onHoverMove,this),this.onGridClick=i(this.onGridClick,this),!(this instanceof n.Bar))return new n.Bar(r);u.__super__.constructor.call(this,t.extend({},r,{parseTime:!1}))}return f(u,r),u.prototype.init=function(){if(this.cumulative=this.options.stacked,this.options.hideHover!=="always"){this.hover=new n.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}},u.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},u.prototype.calc=function(){var n;return this.calcBars(),this.options.hideHover===!1?(n=this.hover).update.apply(n,this.hoverContentForRow(this.data.length-1)):void 0},u.prototype.calcBars=function(){var n,t,i,r,e,u,f;for(u=this.data,f=[],n=r=0,e=u.length;r<e;n=++r)t=u[n],t._x=this.left+this.width*(n+.5)/this.data.length,f.push(t._y=function(){var n,f,u,r;for(u=t.y,r=[],n=0,f=u.length;n<f;n++)i=u[n],i!=null?r.push(this.transY(i)):r.push(null);return r}.call(this));return f},u.prototype.draw=function(){var n;return((n=this.options.axes)===!0||n==="both"||n==="x")&&this.drawXAxis(),this.drawSeries()},u.prototype.drawXAxis=function(){var o,t,n,h,c,u,f,s,l,a,i,r,e;for(a=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),f=null,u=null,e=[],o=i=0,r=this.data.length;0<=r?i<r:i>r;o=0<=r?++i:--i)s=this.data[this.data.length-1-o],t=this.drawXAxisLabel(s._x,a,s.label),l=t.getBBox(),t.transform("r"+-this.options.xLabelAngle),n=t.getBBox(),t.transform("t0,"+n.height/2+"..."),this.options.xLabelAngle!==0&&(c=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),t.transform("t"+c+",0...")),(f==null||f>=n.x+n.width||u!=null&&u>=n.x)&&n.x>=0&&n.x+n.width<this.el.width()?(this.options.xLabelAngle!==0&&(h=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),u=n.x-h),e.push(f=n.x-this.options.xLabelMargin)):e.push(t.remove());return e},u.prototype.drawSeries=function(){var n,h,t,i,c,l,v,r,o,u,a,y,f,e,s;return t=this.width/this.options.data.length,r=this.options.stacked?1:this.options.ykeys.length,n=(t*this.options.barSizeRatio-this.options.barGap*(r-1))/r,this.options.barSize&&(n=Math.min(n,this.options.barSize)),y=t-n*r-this.options.barGap*(r-1),v=y/2,s=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var r,w,y,p;for(y=this.data,p=[],i=r=0,w=y.length;r<w;i=++r)o=y[i],c=0,p.push(function(){var y,w,p,r;for(p=o._y,r=[],u=y=0,w=p.length;y<w;u=++y)e=p[u],e!==null?(s?(f=Math.min(e,s),h=Math.max(e,s)):(f=e,h=this.bottom),l=this.left+i*t+v,this.options.stacked||(l+=u*(n+this.options.barGap)),a=h-f,this.options.verticalGridCondition&&this.options.verticalGridCondition(o.x)&&this.drawBar(this.left+i*t,this.top,t,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(f-=c),this.drawBar(l,f,n,a,this.colorFor(o,u,"bar"),this.options.barOpacity,this.options.barRadius),r.push(c+=a)):r.push(null);return r}.call(this));return p}.call(this)},u.prototype.colorFor=function(n,t,i){var r,u;return typeof this.options.barColors=="function"?(r={x:n.x,y:n.y[t],label:n.label},u={index:t,key:this.options.ykeys[t],label:this.options.labels[t]},this.options.barColors.call(this,r,u,i)):this.options.barColors[t%this.options.barColors.length]},u.prototype.hitTest=function(n){return this.data.length===0?null:(n=Math.max(Math.min(n,this.right),this.left),Math.min(this.data.length-1,Math.floor((n-this.left)/(this.width/this.data.length))))},u.prototype.onGridClick=function(n,t){var i;return i=this.hitTest(n),this.fire("click",i,this.data[i].src,n,t)},u.prototype.onHoverMove=function(n){var t,i;return t=this.hitTest(n),(i=this.hover).update.apply(i,this.hoverContentForRow(t))},u.prototype.onHoverOut=function(){if(this.options.hideHover!==!1)return this.hover.hide()},u.prototype.hoverContentForRow=function(n){var t,i,r,e,o,u,s,f;for(r=this.data[n],t="<div class='morris-hover-row-label'>"+r.label+"<\/div>",f=r.y,i=u=0,s=f.length;u<s;i=++u)o=f[i],t+="<div class='morris-hover-point' style='color: "+this.colorFor(r,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(o)+"\n<\/div>";return typeof this.options.hoverCallback=="function"&&(t=this.options.hoverCallback(n,this.options,t,r.src)),e=this.left+(n+.5)*this.width/this.data.length,[t,e]},u.prototype.drawXAxisLabel=function(n,t,i){return this.raphael.text(n,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},u.prototype.drawBar=function(n,t,i,r,u,f,e){var o,s;return o=Math.max.apply(Math,e),s=o===0||o>r?this.raphael.rect(n,t,i,r):this.raphael.path(this.roundedRect(n,t,i,r,e)),s.attr("fill",u).attr("fill-opacity",f).attr("stroke","none")},u.prototype.roundedRect=function(n,t,i,r,u){return u==null&&(u=[0,0,0,0]),["M",n,u[0]+t,"Q",n,t,n+u[0],t,"L",n+i-u[1],t,"Q",n+i,t,n+i,t+u[1],"L",n+i,t+r-u[2],"Q",n+i,t+r,n+i-u[2],t+r,"L",n+u[3],t+r,"Q",n,t+r,n,t+r-u[3],"Z"]},u}(n.Grid);n.Donut=function(r){function u(r){this.resizeHandler=i(this.resizeHandler,this);this.select=i(this.select,this);this.click=i(this.click,this);var u=this;if(!(this instanceof n.Donut))return new n.Donut(r);if(this.options=t.extend({},this.defaults,r),this.el=typeof r.element=="string"?t(document.getElementById(r.element)):t(r.element),this.el===null||this.el.length===0)throw new Error("Graph placeholder not found.");r.data!==void 0&&r.data.length!==0&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&t(window).bind("resize",function(){return u.timeoutId!=null&&window.clearTimeout(u.timeoutId),u.timeoutId=window.setTimeout(u.resizeHandler,100)}),this.setData(r.data))}return f(u,r),u.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:n.commas,resize:!1},u.prototype.redraw=function(){var d,r,u,e,t,o,g,l,a,f,v,i,s,h,y,c,nt,tt,it,p,w,b,k;for(this.raphael.clear(),r=this.el.width()/2,u=this.el.height()/2,s=(Math.min(r,u)-10)/3,v=0,p=this.values,h=0,nt=p.length;h<nt;h++)i=p[h],v+=i;for(l=5/(2*s),d=1.9999*Math.PI-l*this.data.length,o=0,t=0,this.segments=[],w=this.values,e=y=0,tt=w.length;y<tt;e=++y){i=w[e];a=o+l+d*(i/v);f=new n.DonutSegment(r,u,s*2,s,o,a,this.data[e].color||this.options.colors[t%this.options.colors.length],this.options.backgroundColor,t,this.raphael);f.render();this.segments.push(f);f.on("hover",this.select);f.on("click",this.click);o=a;t+=1}for(this.text1=this.drawEmptyDonutLabel(r,u-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(r,u+10,this.options.labelColor,14),g=Math.max.apply(Math,this.values),t=0,b=this.values,k=[],c=0,it=b.length;c<it;c++){if(i=b[c],i===g){this.select(t);break}k.push(t+=1)}return k},u.prototype.setData=function(n){var t;return this.data=n,this.values=function(){var n,u,i,r;for(i=this.data,r=[],n=0,u=i.length;n<u;n++)t=i[n],r.push(parseFloat(t.value));return r}.call(this),this.redraw()},u.prototype.click=function(n){return this.fire("click",n,this.data[n])},u.prototype.select=function(n){var t,u,f,i,e,r;for(r=this.segments,i=0,e=r.length;i<e;i++)u=r[i],u.deselect();return f=this.segments[n],f.select(),t=this.data[n],this.setLabels(t.label,this.options.formatter(t.value,t))},u.prototype.setLabels=function(n,t){var u,s,h,f,i,e,r,o;return u=(Math.min(this.el.width()/2,this.el.height()/2)-10)*2/3,f=1.8*u,h=u/2,s=u/3,this.text1.attr({text:n,transform:""}),i=this.text1.getBBox(),e=Math.min(f/i.width,h/i.height),this.text1.attr({transform:"S"+e+","+e+","+(i.x+i.width/2)+","+(i.y+i.height)}),this.text2.attr({text:t,transform:""}),r=this.text2.getBBox(),o=Math.min(f/r.width,s/r.height),this.text2.attr({transform:"S"+o+","+o+","+(r.x+r.width/2)+","+r.y})},u.prototype.drawEmptyDonutLabel=function(n,t,i,r,u){var f;return f=this.raphael.text(n,t,"").attr("font-size",r).attr("fill",i),u!=null&&f.attr("font-weight",u),f},u.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},u}(n.EventEmitter);n.DonutSegment=function(n){function t(n,t,r,u,f,e,o,s,h,c){this.cx=n;this.cy=t;this.inner=r;this.outer=u;this.color=o;this.backgroundColor=s;this.index=h;this.raphael=c;this.deselect=i(this.deselect,this);this.select=i(this.select,this);this.sin_p0=Math.sin(f);this.cos_p0=Math.cos(f);this.sin_p1=Math.sin(e);this.cos_p1=Math.cos(e);this.is_long=e-f>Math.PI?1:0;this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5);this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer);this.hilight=this.calcArc(this.inner)}return f(t,n),t.prototype.calcArcPoints=function(n){return[this.cx+n*this.sin_p0,this.cy+n*this.cos_p0,this.cx+n*this.sin_p1,this.cy+n*this.cos_p1]},t.prototype.calcSegment=function(n,t){var u,f,e,o,s,h,c,l,i,r;return i=this.calcArcPoints(n),u=i[0],e=i[1],f=i[2],o=i[3],r=this.calcArcPoints(t),s=r[0],c=r[1],h=r[2],l=r[3],"M"+u+","+e+("A"+n+","+n+",0,"+this.is_long+",0,"+f+","+o)+("L"+h+","+l)+("A"+t+","+t+",0,"+this.is_long+",1,"+s+","+c)+"Z"},t.prototype.calcArc=function(n){var i,r,u,f,t;return t=this.calcArcPoints(n),i=t[0],u=t[1],r=t[2],f=t[3],"M"+i+","+u+("A"+n+","+n+",0,"+this.is_long+",0,"+r+","+f)},t.prototype.render=function(){var n=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return n.fire("hover",n.index)},function(){return n.fire("click",n.index)})},t.prototype.drawDonutArc=function(n,t){return this.raphael.path(n).attr({stroke:t,"stroke-width":2,opacity:0})},t.prototype.drawDonutSegment=function(n,t,i,r,u){return this.raphael.path(n).attr({fill:t,stroke:i,"stroke-width":3}).hover(r).click(u)},t.prototype.select=function(){if(!this.selected)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},t.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},t}(n.EventEmitter)}.call(this)