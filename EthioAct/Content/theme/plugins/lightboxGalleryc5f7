!function(n){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper"],n):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=n(window.blueimp.helper||window.jQuery))}(function(n){"use strict";function t(n,i){return void 0===document.body.style.maxHeight?null:this&&this.options===t.prototype.options?n&&n.length?(this.list=n,this.num=n.length,this.initOptions(i),void this.initialize()):void this.console.log("blueimp Gallery: No or empty list provided as first argument.",n):new t(n,i)}return n.extend(t.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(t){var i={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},r=function(){var n,u,r=i.transition;document.body.appendChild(t);r&&(n=r.name.slice(0,-9)+"ransform",void 0!==t.style[n]&&(t.style[n]="translateZ(0)",u=window.getComputedStyle(t).getPropertyValue(r.prefix+"transform"),i.transform={prefix:r.prefix,name:n,translate:!0,translateZ:!!u&&"none"!==u}));void 0!==t.style.backgroundSize&&(i.backgroundSize={},t.style.backgroundSize="contain",i.backgroundSize.contain="contain"===window.getComputedStyle(t).getPropertyValue("background-size"),t.style.backgroundSize="cover",i.backgroundSize.cover="cover"===window.getComputedStyle(t).getPropertyValue("background-size"));document.body.removeChild(t)};return function(n,i){for(var r in i)if(i.hasOwnProperty(r)&&void 0!==t.style[r]){n.transition=i[r];n.transition.name=r;break}}(i,{webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}}),document.body?r():n(document).on("DOMContentLoaded",r),i}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),this.initWidget()===!1?!1:(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void(this.options.startSlideshow&&this.play()))},slide:function(n,t){window.clearTimeout(this.timeout);var i,f,u,r=this.index;if(r!==n&&1!==this.num){if(t||(t=this.options.transitionSpeed),this.support.transform){for(this.options.continuous||(n=this.circle(n)),i=Math.abs(r-n)/(r-n),this.options.continuous&&(f=i,i=-this.positions[this.circle(n)]/this.slideWidth,i!==f&&(n=-i*this.num+n)),u=Math.abs(r-n)-1;u;)u-=1,this.move(this.circle((n>r?n:r)-u-1),this.slideWidth*i,0);n=this.circle(n);this.move(r,this.slideWidth*i,t);this.move(n,0,t);this.options.continuous&&this.move(this.circle(n-i),-(this.slideWidth*i),0)}else n=this.circle(n),this.animate(r*-this.slideWidth,n*-this.slideWidth,t);this.onslide(n)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(n){var t=this;window.clearTimeout(this.timeout);this.interval=n||this.options.slideshowInterval;this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(n,i){t.animationFrameId=t.requestAnimationFrame.call(window,function(){t.slide(n,i)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval));this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout);this.interval=null;this.container.removeClass(this.options.playingClass)},add:function(n){var t;for(n.concat||(n=Array.prototype.slice.call(n)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(n),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),t=this.num-n.length;t<this.num;t+=1)this.addSlide(t),this.positionSlide(t);this.positions.length=this.num;this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty();this.slides=[]},handleClose:function(){var n=this.options;this.destroyEventListeners();this.pause();this.container[0].style.display="none";this.container.removeClass(n.displayClass).removeClass(n.singleClass).removeClass(n.leftEdgeClass).removeClass(n.rightEdgeClass);n.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle);this.options.clearSlides&&this.resetSlides();this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var n=this,t=function(i){i.target===n.container[0]&&(n.container.off(n.support.transition.end,t),n.handleClose())};this.options.onclose&&this.options.onclose.call(this);this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,t),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(n){return(this.num+n%this.num)%this.num},move:function(n,t,i){this.translateX(n,t,i);this.positions[n]=t},translate:function(n,t,i,r){var u=this.slides[n].style,e=this.support.transition,f=this.support.transform;u[e.name+"Duration"]=r+"ms";u[f.name]="translate("+t+"px, "+i+"px)"+(f.translateZ?" translateZ(0)":"")},translateX:function(n,t,i){this.translate(n,t,0,i)},translateY:function(n,t,i){this.translate(n,0,t,i)},animate:function(n,t,i){if(!i)return void(this.slidesContainer[0].style.left=t+"px");var r=this,u=(new Date).getTime(),f=window.setInterval(function(){var e=(new Date).getTime()-u;return e>i?(r.slidesContainer[0].style.left=t+"px",r.ontransitionend(),void window.clearInterval(f)):void(r.slidesContainer[0].style.left=(t-n)*(Math.floor(e/i*100)/100)+n+"px")},4)},preventDefault:function(n){n.preventDefault?n.preventDefault():n.returnValue=!1},stopPropagation:function(n){n.stopPropagation?n.stopPropagation():n.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(n){n.which&&1===n.which&&"VIDEO"!==n.target.nodeName&&(n.preventDefault(),(n.originalEvent||n).touches=[{pageX:n.pageX,pageY:n.pageY}],this.ontouchstart(n))},onmousemove:function(n){this.touchStart&&((n.originalEvent||n).touches=[{pageX:n.pageX,pageY:n.pageY}],this.ontouchmove(n))},onmouseup:function(n){this.touchStart&&(this.ontouchend(n),delete this.touchStart)},onmouseout:function(t){if(this.touchStart){var r=t.target,i=t.relatedTarget;i&&(i===r||n.contains(r,i))||this.onmouseup(t)}},ontouchstart:function(n){this.options.stopTouchEventsPropagation&&this.stopPropagation(n);var t=(n.originalEvent||n).touches[0];this.touchStart={x:t.pageX,y:t.pageY,time:Date.now()};this.isScrolling=void 0;this.touchDelta={}},ontouchmove:function(n){this.options.stopTouchEventsPropagation&&this.stopPropagation(n);var i,r,u=(n.originalEvent||n).touches[0],f=(n.originalEvent||n).scale,t=this.index;if(!(u.length>1||f&&1!==f))if(this.options.disableScroll&&n.preventDefault(),this.touchDelta={x:u.pageX-this.touchStart.x,y:u.pageY-this.touchStart.y},i=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(i)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(t,this.touchDelta.y+this.positions[t],0);else for(n.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?r=[this.circle(t+1),t,this.circle(t-1)]:(this.touchDelta.x=i/=!t&&i>0||t===this.num-1&&0>i?Math.abs(i)/this.slideWidth+1:1,r=[t],t&&r.push(t-1),t<this.num-1&&r.unshift(t+1));r.length;)t=r.pop(),this.translateX(t,i+this.positions[t],0)},ontouchend:function(n){this.options.stopTouchEventsPropagation&&this.stopPropagation(n);var u,f,o,e,s,t=this.index,i=this.options.transitionSpeed,r=this.slideWidth,h=Number(Date.now()-this.touchStart.time)<250,c=h&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>r/2,l=!t&&this.touchDelta.x>0||t===this.num-1&&this.touchDelta.x<0,a=!c&&this.options.closeOnSwipeUpOrDown&&(h&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(l=!1);u=this.touchDelta.x<0?-1:1;this.isScrolling?a?this.close():this.translateY(t,0,i):c&&!l?(f=t+u,o=t-u,e=r*u,s=-r*u,this.options.continuous?(this.move(this.circle(f),e,0),this.move(this.circle(t-2*u),s,0)):f>=0&&f<this.num&&this.move(f,e,0),this.move(t,this.positions[t]+e,i),this.move(this.circle(o),this.positions[this.circle(o)]+e,i),t=this.circle(o),this.onslide(t)):this.options.continuous?(this.move(this.circle(t-1),-r,i),this.move(t,0,i),this.move(this.circle(t+1),r,i)):(t&&this.move(t-1,-r,i),this.move(t,0,i),t<this.num-1&&this.move(t+1,r,i))},ontouchcancel:function(n){this.touchStart&&(this.ontouchend(n),delete this.touchStart)},ontransitionend:function(n){var t=this.slides[this.index];n&&t!==n.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,t]))},oncomplete:function(t){var u,r=t.target||t.srcElement,i=r&&r.parentNode;r&&i&&(u=this.getNodeIndex(i),n(i).removeClass(this.options.slideLoadingClass),"error"===t.type?(n(i).addClass(this.options.slideErrorClass),this.elements[u]=3):this.elements[u]=2,r.clientHeight>this.container[0].clientHeight&&(r.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===i&&this.play(),this.setTimeout(this.options.onslidecomplete,[u,i]))},onload:function(n){this.oncomplete(n)},onerror:function(n){this.oncomplete(n)},onkeydown:function(n){switch(n.which||n.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(n),this.toggleControls());break;case 27:this.options.closeOnEscape&&this.close();break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(n),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(n),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(n),this.next())}},handleClick:function(t){var i=this.options,f=t.target||t.srcElement,u=f.parentNode,r=function(t){return n(f).hasClass(t)||n(u).hasClass(t)};r(i.toggleClass)?(this.preventDefault(t),this.toggleControls()):r(i.prevClass)?(this.preventDefault(t),this.prev()):r(i.nextClass)?(this.preventDefault(t),this.next()):r(i.closeClass)?(this.preventDefault(t),this.close()):r(i.playPauseClass)?(this.preventDefault(t),this.toggleSlideshow()):u===this.slidesContainer[0]?(this.preventDefault(t),i.closeOnSlideClick?this.close():this.toggleControls()):u.parentNode&&u.parentNode===this.slidesContainer[0]&&(this.preventDefault(t),this.toggleControls())},onclick:function(n){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?void delete this.touchDelta:this.handleClick(n)},updateEdgeClasses:function(n){n?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass);n===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(n){this.options.continuous||this.updateEdgeClasses(n);this.loadElements(n);this.options.unloadElements&&this.unloadElements(n);this.setTitle(n)},onslide:function(n){this.index=n;this.handleSlide(n);this.setTimeout(this.options.onslide,[n,this.slides[n]])},setTitle:function(n){var t=this.slides[n].firstChild.title,i=this.titleElement;i.length&&(this.titleElement.empty(),t&&i[0].appendChild(document.createTextNode(t)))},setTimeout:function(n,t,i){var r=this;return n&&window.setTimeout(function(){n.apply(r,t||[])},i||0)},imageFactory:function(t,i){var h,r,o,c=this,f=this.imagePrototype.cloneNode(!1),e=t,u=this.options.stretchImages,s=function(t){if(!h){if(t={type:t.type,target:r},!r.parentNode)return c.setTimeout(s,[t]);h=!0;n(f).off("load error",s);u&&"load"===t.type&&(r.style.background='url("'+e+'") center no-repeat',r.style.backgroundSize=u);i(t)}};return"string"!=typeof e&&(e=this.getItemProperty(t,this.options.urlProperty),o=this.getItemProperty(t,this.options.titleProperty)),u===!0&&(u="contain"),u=this.support.backgroundSize&&this.support.backgroundSize[u]&&u,u?r=this.elementPrototype.cloneNode(!1):(r=f,f.draggable=!1),o&&(r.title=o),n(f).on("load error",s),f.src=e,r},createElement:function(t,i){var u=t&&this.getItemProperty(t,this.options.typeProperty),f=u&&this[u.split("/")[0]+"Factory"]||this.imageFactory,r=t&&f.call(this,t,i);return r||(r=this.elementPrototype.cloneNode(!1),this.setTimeout(i,[{type:"error",target:r}])),n(r).addClass(this.options.slideContentClass),r},loadElement:function(t){this.elements[t]||(this.slides[t].firstChild?this.elements[t]=n(this.slides[t]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[t]=1,n(this.slides[t]).addClass(this.options.slideLoadingClass),this.slides[t].appendChild(this.createElement(this.list[t],this.proxyListener))))},loadElements:function(n){for(var r=Math.min(this.num,2*this.options.preloadRange+1),i=n,t=0;r>t;t+=1)i+=t*(t%2==0?-1:1),i=this.circle(i),this.loadElement(i)},unloadElements:function(n){var t,i,r;for(t in this.elements)this.elements.hasOwnProperty(t)&&(r=Math.abs(n-t),r>this.options.preloadRange&&r+this.options.preloadRange<this.num&&(i=this.slides[t],i.removeChild(i.firstChild),delete this.elements[t]))},addSlide:function(n){var t=this.slidePrototype.cloneNode(!1);t.setAttribute("data-index",n);this.slidesContainer[0].appendChild(t);this.slides.push(t)},positionSlide:function(n){var t=this.slides[n];t.style.width=this.slideWidth+"px";this.support.transform&&(t.style.left=n*-this.slideWidth+"px",this.move(n,this.index>n?-this.slideWidth:this.index<n?this.slideWidth:0,0))},initSlides:function(t){var r,i;for(t||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),n(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,r=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",r&&this.resetSlides(),i=0;i<this.num;i+=1)r&&this.addSlide(i),this.positionSlide(i);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0));this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},toggleControls:function(){var n=this.options.controlsClass;this.container.hasClass(n)?this.container.removeClass(n):this.container.addClass(n)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(n){return parseInt(n.getAttribute("data-index"),10)},getNestedProperty:function(n,t){return t.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(t,i,r,u,f){var e=f||i||r||u&&parseInt(u,10);t&&n&&(n=n[e])}),n},getDataProperty:function(t,i){if(t.getAttribute){var r=t.getAttribute("data-"+i.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof r){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(r))try{return n.parseJSON(r)}catch(u){}return r}}},getItemProperty:function(n,t){var i=n[t];return void 0===i&&(i=this.getDataProperty(n,t),void 0===i&&(i=this.getNestedProperty(n,t))),i},initStartIndex:function(){var n,t=this.options.index,i=this.options.urlProperty;if(t&&"number"!=typeof t)for(n=0;n<this.num;n+=1)if(this.list[n]===t||this.getItemProperty(this.list[n],i)===this.getItemProperty(t,i)){t=n;break}this.index=this.circle(parseInt(t,10)||0)},initEventListeners:function(){var i=this,r=this.slidesContainer,t=function(n){var t=i.support.transition&&i.support.transition.end===n.type?"transitionend":n.type;i["on"+t](n)};n(window).on("resize",t);n(document.body).on("keydown",t);this.container.on("click",t);this.support.touch?r.on("touchstart touchmove touchend touchcancel",t):this.options.emulateTouchEvents&&this.support.transition&&r.on("mousedown mousemove mouseup mouseout",t);this.support.transition&&r.on(this.support.transition.end,t);this.proxyListener=t},destroyEventListeners:function(){var i=this.slidesContainer,t=this.proxyListener;n(window).off("resize",t);n(document.body).off("keydown",t);this.container.off("click",t);this.support.touch?i.off("touchstart touchmove touchend touchcancel",t):this.options.emulateTouchEvents&&this.support.transition&&i.off("mousedown mousemove mouseup mouseout",t);this.support.transition&&i.off(this.support.transition.end,t)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var t=this,i=function(n){n.target===t.container[0]&&(t.container.off(t.support.transition.end,i),t.handleOpen())};return this.container=n(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,i):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(t){this.options=n.extend({},this.options);(t&&t.carousel||this.options.carousel&&(!t||t.carousel!==!1))&&n.extend(this.options,this.carouselOptions);n.extend(this.options,t);this.num<3&&(this.options.continuous=this.options.continuous?null:!1);this.support.transition||(this.options.emulateTouchEvents=!1);this.options.event&&this.preventDefault(this.options.event)}}),t}),function(n){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],n):n(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(n,t){"use strict";n.extend(t.prototype.options,{fullScreen:!1});var i=t.prototype.initialize,r=t.prototype.close;return n.extend(t.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(n){n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen&&n.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){i.call(this);this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen();r.call(this)}}),t}),function(n){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],n):n(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(n,t){"use strict";n.extend(t.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var i=t.prototype.initSlides,r=t.prototype.addSlide,u=t.prototype.resetSlides,f=t.prototype.handleClick,e=t.prototype.handleSlide,o=t.prototype.handleClose;return n.extend(t.prototype,{createIndicator:function(t){var i,r,u=this.indicatorPrototype.cloneNode(!1),f=this.getItemProperty(t,this.options.titleProperty),e=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(r=t.getElementsByTagName&&n(t).find("img")[0],r?i=r.src:e&&(i=this.getItemProperty(t,e)),i&&(u.style.backgroundImage='url("'+i+'")')),f&&(u.title=f),u},addIndicator:function(n){if(this.indicatorContainer.length){var t=this.createIndicator(this.list[n]);t.setAttribute("data-index",n);this.indicatorContainer[0].appendChild(t);this.indicators.push(t)}},setActiveIndicator:function(t){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=n(this.indicators[t]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(n){n||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children));i.call(this,n)},addSlide:function(n){r.call(this,n);this.addIndicator(n)},resetSlides:function(){u.call(this);this.indicatorContainer.empty();this.indicators=[]},handleClick:function(n){var i=n.target||n.srcElement,t=i.parentNode;if(t===this.indicatorContainer[0])this.preventDefault(n),this.slide(this.getNodeIndex(i));else{if(t.parentNode!==this.indicatorContainer[0])return f.call(this,n);this.preventDefault(n);this.slide(this.getNodeIndex(t))}},handleSlide:function(n){e.call(this,n);this.setActiveIndicator(n)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass);o.call(this)}}),t}),function(n){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],n):n(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(n,t){"use strict";n.extend(t.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var i=t.prototype.handleSlide;return n.extend(t.prototype,{handleSlide:function(n){i.call(this,n);this.playingVideo&&this.playingVideo.pause()},videoFactory:function(t,i,r){var c,y,s,a,p,u=this,e=this.options,o=this.elementPrototype.cloneNode(!1),v=n(o),d=[{type:"error",target:o}],f=r||document.createElement("video"),h=this.getItemProperty(t,e.urlProperty),l=this.getItemProperty(t,e.typeProperty),w=this.getItemProperty(t,e.titleProperty),b=this.getItemProperty(t,e.videoPosterProperty),k=this.getItemProperty(t,e.videoSourcesProperty);if(v.addClass(e.videoContentClass),w&&(o.title=w),f.canPlayType)if(h&&l&&f.canPlayType(l))f.src=h;else for(;k&&k.length;)if(y=k.shift(),h=this.getItemProperty(y,e.urlProperty),l=this.getItemProperty(y,e.typeProperty),h&&l&&f.canPlayType(l)){f.src=h;break}return b&&(f.poster=b,c=this.imagePrototype.cloneNode(!1),n(c).addClass(e.toggleClass),c.src=b,c.draggable=!1,o.appendChild(c)),s=document.createElement("a"),s.setAttribute("target","_blank"),r||s.setAttribute("download",w),s.href=h,f.src&&(f.controls=!0,(r||n(f)).on("error",function(){u.setTimeout(i,d)}).on("pause",function(){a=!1;v.removeClass(u.options.videoLoadingClass).removeClass(u.options.videoPlayingClass);p&&u.container.addClass(u.options.controlsClass);delete u.playingVideo;u.interval&&u.play()}).on("playing",function(){a=!1;v.removeClass(u.options.videoLoadingClass).addClass(u.options.videoPlayingClass);u.container.hasClass(u.options.controlsClass)?(p=!0,u.container.removeClass(u.options.controlsClass)):p=!1}).on("play",function(){window.clearTimeout(u.timeout);a=!0;v.addClass(u.options.videoLoadingClass);u.playingVideo=f}),n(s).on("click",function(n){u.preventDefault(n);a?f.pause():f.play()}),o.appendChild(r&&r.element||f)),o.appendChild(s),this.setTimeout(i,[{type:"load",target:o}]),o}}),t}),function(n){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],n):n(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(n,t){"use strict";if(!window.postMessage)return t;n.extend(t.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var u=t.prototype.textFactory||t.prototype.imageFactory,i=function(n,t,i,r){this.url=n;this.videoId=t;this.playerId=i;this.clickToPlay=r;this.element=document.createElement("div");this.listeners={}},r=0;return n.extend(i.prototype,{canPlayType:function(){return!0},on:function(n,t){return this.listeners[n]=t,this},loadAPI:function(){for(var t,u,f=this,e="//"+("https"===location.protocol?"secure-":"")+"a.vimeocdn.com/js/froogaloop2.min.js",i=document.getElementsByTagName("script"),r=i.length,o=function(){!u&&f.playOnReady&&f.play();u=!0};r;)if(r-=1,i[r].src===e){t=i[r];break}t||(t=document.createElement("script"),t.src=e);n(t).on("load",o);i[0].parentNode.insertBefore(t,i[0]);/loaded|complete/.test(t.readyState)&&o()},onReady:function(){var n=this;this.ready=!0;this.player.addEvent("play",function(){n.hasPlayed=!0;n.onPlaying()});this.player.addEvent("pause",function(){n.onPause()});this.player.addEvent("finish",function(){n.onPause()});this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause();delete this.playStatus},insertIframe:function(){var n=document.createElement("iframe");n.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId);n.id=this.playerId;this.element.parentNode.replaceChild(n,this.element);this.element=n},play:function(){var n=this;this.playStatus||(this.listeners.play(),this.playStatus=1);this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api("play"):(this.playOnReady=!0,window.$f?this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){n.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),n.extend(t.prototype,{VimeoPlayer:i,textFactory:function(n,t){var f=this.options,e=this.getItemProperty(n,f.vimeoVideoIdProperty);return e?(void 0===this.getItemProperty(n,f.urlProperty)&&(n[f.urlProperty]="//vimeo.com/"+e),r+=1,this.videoFactory(n,t,new i(f.vimeoPlayerUrl,e,f.vimeoPlayerIdPrefix+r,f.vimeoClickToPlay))):u.call(this,n,t)}}),t}),function(n){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],n):n(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(n,t){"use strict";if(!window.postMessage)return t;n.extend(t.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var r=t.prototype.textFactory||t.prototype.imageFactory,i=function(n,t,i){this.videoId=n;this.playerVars=t;this.clickToPlay=i;this.element=document.createElement("div");this.listeners={}};return n.extend(i.prototype,{canPlayType:function(){return!0},on:function(n,t){return this.listeners[n]=t,this},loadAPI:function(){var t,r=this,u=window.onYouTubeIframeAPIReady,f="//www.youtube.com/iframe_api",n=document.getElementsByTagName("script"),i=n.length;for(window.onYouTubeIframeAPIReady=function(){u&&u.apply(this);r.playOnReady&&r.play()};i;)if(i-=1,n[i].src===f)return;t=document.createElement("script");t.src=f;n[0].parentNode.insertBefore(t,n[0])},onReady:function(){this.ready=!0;this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){t.prototype.setTimeout.call(this,this.checkSeek,null,2e3)},checkSeek:function(){(this.stateChange===YT.PlayerState.PAUSED||this.stateChange===YT.PlayerState.ENDED)&&(this.listeners.pause(),delete this.playStatus)},onStateChange:function(n){switch(n.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0;this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=n.data},onError:function(n){this.listeners.error(n)},play:function(){var n=this;this.playStatus||(this.listeners.play(),this.playStatus=1);this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){n.onReady()},onStateChange:function(t){n.onStateChange(t)},onError:function(t){n.onError(t)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),n.extend(t.prototype,{YouTubePlayer:i,textFactory:function(n,t){var u=this.options,f=this.getItemProperty(n,u.youTubeVideoIdProperty);return f?(void 0===this.getItemProperty(n,u.urlProperty)&&(n[u.urlProperty]="//www.youtube.com/watch?v="+f),void 0===this.getItemProperty(n,u.videoPosterProperty)&&(n[u.videoPosterProperty]="//img.youtube.com/vi/"+f+"/maxresdefault.jpg"),this.videoFactory(n,t,new i(f,u.youTubePlayerVars,u.youTubeClickToPlay))):r.call(this,n,t)}}),t}),function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery"],n):n(window.jQuery,window.blueimp.Gallery)}(function(n,t){"use strict";n(document).on("click","[data-gallery]",function(i){var e=n(this).data("gallery"),o=n(e),r=o.length&&o||n(t.prototype.options.container),s={onopen:function(){r.data("gallery",this).trigger("open")},onopened:function(){r.trigger("opened")},onslide:function(){r.trigger("slide",arguments)},onslideend:function(){r.trigger("slideend",arguments)},onslidecomplete:function(){r.trigger("slidecomplete",arguments)},onclose:function(){r.trigger("close")},onclosed:function(){r.trigger("closed").removeData("gallery")}},u=n.extend(r.data(),{container:r[0],index:this,event:i},s),f=n('[data-gallery="'+e+'"]');return u.filter&&(f=f.filter(u.filter)),new t(f,u)})})